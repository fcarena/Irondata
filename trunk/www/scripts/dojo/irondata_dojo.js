/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1);var _4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}).forEach(function(_6,_7){if(_3[_7]===undefined){_3[_7]=_6;}});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);var _8=0;var _9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _e=[];var _f=_b.zulu?"getUTC":"get";var _10="";if(_b.selector!="time"){var _11=_a[_f+"FullYear"]();_10=["0000".substr((_11+"").length)+_11,_(_a[_f+"Month"]()+1),_(_a[_f+"Date"]())].join("-");}_e.push(_10);if(_b.selector!="date"){var _12=[_(_a[_f+"Hours"]()),_(_a[_f+"Minutes"]()),_(_a[_f+"Seconds"]())].join(":");var _13=_a[_f+"Milliseconds"]();if(_b.milliseconds){_12+="."+(_13<100?"0":"")+_(_13);}if(_b.zulu){_12+="Z";}else{if(_b.selector!="time"){var _14=_a.getTimezoneOffset();var _15=Math.abs(_14);_12+=(_14>0?"-":"+")+_(Math.floor(_15/60))+":"+_(_15%60);}}_e.push(_12);}return _e.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _17=d._scopeName+"Type";var qry="["+_17+"]";function val2type(_19){if(d.isString(_19)){return "string";}if(typeof _19=="number"){return "number";}if(typeof _19=="boolean"){return "boolean";}if(d.isFunction(_19)){return "function";}if(d.isArray(_19)){return "array";}if(_19 instanceof Date){return "date";}if(_19 instanceof d._Url){return "url";}return "object";};function str2obj(_1a,_1b){switch(_1b){case "string":return _1a;case "number":return _1a.length?Number(_1a):NaN;case "boolean":return typeof _1a=="boolean"?_1a:!(_1a.toLowerCase()=="false");case "function":if(d.isFunction(_1a)){_1a=_1a.toString();_1a=d.trim(_1a.substring(_1a.indexOf("{")+1,_1a.length-1));}try{if(_1a.search(/[^\w\.]+/i)!=-1){_1a=d.parser._nameAnonFunc(new Function(_1a),this);}return d.getObject(_1a,false);}catch(e){return new Function();}case "array":return _1a?_1a.split(/\s*,\s*/):[];case "date":switch(_1a){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1a);}case "url":return d.baseUrl+_1a;default:return d.fromJson(_1a);}};var _1c={};function getClassInfo(_1d){if(!_1c[_1d]){var cls=d.getObject(_1d);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_1d+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _1f=cls.prototype;var _20={};for(var _21 in _1f){if(_21.charAt(0)=="_"){continue;}var _22=_1f[_21];_20[_21]=val2type(_22);}_1c[_1d]={cls:cls,params:_20};}return _1c[_1d];};this._functionFromScript=function(_23){var _24="";var _25="";var _26=_23.getAttribute("args");if(_26){d.forEach(_26.split(/\s*,\s*/),function(_27,idx){_24+="var "+_27+" = arguments["+idx+"]; ";});}var _29=_23.getAttribute("with");if(_29&&_29.length){d.forEach(_29.split(/\s*,\s*/),function(_2a){_24+="with("+_2a+"){";_25+="}";});}return new Function(_24+_23.innerHTML+_25);};this.instantiate=function(_2b){var _2c=[];d.forEach(_2b,function(_2d){if(!_2d){return;}var _2e=_2d.getAttribute(_17);if((!_2e)||(!_2e.length)){return;}var _2f=getClassInfo(_2e);var _30=_2f.cls;var ps=_30._noScript||_30.prototype._noScript;var _32={};var _33=_2d.attributes;for(var _34 in _2f.params){var _35=_33.getNamedItem(_34);if(!_35||(!_35.specified&&(!dojo.isIE||_34.toLowerCase()!="value"))){continue;}var _36=_35.value;switch(_34){case "class":_36=_2d.className;break;case "style":_36=_2d.style&&_2d.style.cssText;}var _37=_2f.params[_34];_32[_34]=str2obj(_36,_37);}if(!ps){var _38=[],_39=[];d.query("> script[type^='dojo/']",_2d).orphan().forEach(function(_3a){var _3b=_3a.getAttribute("event"),_2e=_3a.getAttribute("type"),nf=d.parser._functionFromScript(_3a);if(_3b){if(_2e=="dojo/connect"){_38.push({event:_3b,func:nf});}else{_32[_3b]=nf;}}else{_39.push(nf);}});}var _3d=_30["markupFactory"];if(!_3d&&_30["prototype"]){_3d=_30.prototype["markupFactory"];}var _3e=_3d?_3d(_32,_2d,_30):new _30(_32,_2d);_2c.push(_3e);var _3f=_2d.getAttribute("jsId");if(_3f){d.setObject(_3f,_3e);}if(!ps){d.forEach(_38,function(_40){d.connect(_3e,_40.event,null,_40.func);});d.forEach(_39,function(_41){_41.call(_3e);});}});d.forEach(_2c,function(_42){if(_42&&_42.startup&&!_42._started&&(!_42.getParent||!_42.getParent())){_42.startup();}});return _2c;};this.parse=function(_43){var _44=d.query(qry,_43);var _45=this.instantiate(_44);return _45;};}();(function(){var _46=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_46);}else{dojo._loaders.unshift(_46);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_47,_48){var jpn="$joinpoint";var nso=(_48||dojo.parser._anon);if(dojo.isIE){var cn=_47["__dojoNameCache"];if(cn&&nso[cn]===_47){return _47["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_47;return ret;};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _4d=dojo.doc;if(_4d.selection){var s=_4d.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _4f=dojo.global;var _50=_4f.getSelection();if(dojo.isString(_50)){return !_50;}else{return _50.isCollapsed||!_50.toString();}}},getBookmark:function(){var _51,_52=dojo.doc.selection;if(_52){var _53=_52.createRange();if(_52.type.toUpperCase()=="CONTROL"){if(_53.length){_51=[];var i=0,len=_53.length;while(i<len){_51.push(_53.item(i++));}}else{_51=null;}}else{_51=_53.getBookmark();}}else{if(window.getSelection){_52=dojo.global.getSelection();if(_52){_53=_52.getRangeAt(0);_51=_53.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _51;},moveToBookmark:function(_56){var _57=dojo.doc;if(_57.selection){var _58;if(dojo.isArray(_56)){_58=_57.body.createControlRange();dojo.forEach(_56,function(n){_58.addElement(n);});}else{_58=_57.selection.createRange();_58.moveToBookmark(_56);}_58.select();}else{var _5a=dojo.global.getSelection&&dojo.global.getSelection();if(_5a&&_5a.removeAllRanges){_5a.removeAllRanges();_5a.addRange(_56);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_5b,_5c){return {node:_5b&&dojo.isDescendant(dijit._curFocus,_5b.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_5c||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_5c||dojo.global,dijit.getBookmark):null,openedForWindow:_5c};},focus:function(_5d){if(!_5d){return;}var _5e="node" in _5d?_5d.node:_5d,_5f=_5d.bookmark,_60=_5d.openedForWindow;if(_5e){var _61=(_5e.tagName.toLowerCase()=="iframe")?_5e.contentWindow:_5e;if(_61&&_61.focus){try{_61.focus();}catch(e){}}dijit._onFocusNode(_5e);}if(_5f&&dojo.withGlobal(_60||dojo.global,dijit.isCollapsed)){if(_60){_60.focus();}try{dojo.withGlobal(_60||dojo.global,dijit.moveToBookmark,null,[_5f]);}catch(e){}}},_activeStack:[],registerWin:function(_62){if(!_62){_62=window;}dojo.connect(_62.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var doc=_62.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(evt.target);},true);}}doc=null;},_onBlurNode:function(_69){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_6a){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _6b=[];try{while(_6a){if(_6a.dijitPopupParent){_6a=dijit.byId(_6a.dijitPopupParent).domNode;}else{if(_6a.tagName&&_6a.tagName.toLowerCase()=="body"){if(_6a===dojo.body()){break;}_6a=dijit.getDocumentWindow(_6a.ownerDocument).frameElement;}else{var id=_6a.getAttribute&&_6a.getAttribute("widgetId");if(id){_6b.unshift(id);}_6a=_6a.parentNode;}}}}catch(e){}dijit._setStack(_6b);},_onFocusNode:function(_6d){if(!_6d){return;}if(_6d.nodeName&&_6d.nodeName.toLowerCase()=="body"){return;}if(_6d.nodeType==9){var _6e=dijit.getDocumentWindow(_6d).frameElement;if(!_6e){return;}_6d=_6e;}dijit._onTouchNode(_6d);if(_6d==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_6d;dojo.publish("focusNode",[_6d]);},_setStack:function(_6f){var _70=dijit._activeStack;dijit._activeStack=_6f;for(var _71=0;_71<Math.min(_70.length,_6f.length);_71++){if(_70[_71]!=_6f[_71]){break;}}for(var i=_70.length-1;i>=_71;i--){var _73=dijit.byId(_70[i]);if(_73){_73._focused=false;_73._hasBeenBlurred=true;if(_73._onBlur){_73._onBlur();}if(_73._setStateClass){_73._setStateClass();}dojo.publish("widgetBlur",[_73]);}}for(i=_71;i<_6f.length;i++){_73=dijit.byId(_6f[i]);if(_73){_73._focused=true;if(_73._onFocus){_73._onFocus();}if(_73._setStateClass){_73._setStateClass();}dojo.publish("widgetFocus",[_73]);}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_74){if(this._hash[_74.id]){throw new Error("Tried to register widget with id=="+_74.id+" but that id is already registered");}this._hash[_74.id]=_74;},remove:function(id){delete this._hash[id];},forEach:function(_76){for(var id in this._hash){_76(this._hash[id]);}},filter:function(_78){var res=new dijit.WidgetSet();this.forEach(function(_7a){if(_78(_7a)){res.add(_7a);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_7d){return _7d.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_7e){var id;do{id=_7e+"_"+(_7e in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_7e]:dijit._widgetTypeCtr[_7e]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.registry.forEach(function(_80){_80.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_82){return dijit.registry.byId(_82.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_83){while(_83){if(_83.getAttribute&&_83.getAttribute("widgetId")){return dijit.registry.byId(_83.getAttribute("widgetId"));}_83=_83.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_84){var _85=dojo.style(_84);return (_85.visibility!="hidden")&&(_85.visibility!="collapsed")&&(_85.display!="none")&&(dojo.attr(_84,"type")!="hidden");};dijit.isTabNavigable=function(_86){if(dojo.hasAttr(_86,"disabled")){return false;}var _87=dojo.hasAttr(_86,"tabindex");var _88=dojo.attr(_86,"tabindex");if(_87&&_88>=0){return true;}var _89=_86.nodeName.toLowerCase();if(((_89=="a"&&dojo.hasAttr(_86,"href"))||dijit._tabElements[_89])&&(!_87||_88>=0)){return true;}return false;};dijit._getTabNavigable=function(_8a){var _8b,_8c,_8d,_8e,_8f,_90;var _91=function(_92){dojo.query("> *",_92).forEach(function(_93){var _94=dijit._isElementShown(_93);if(_94&&dijit.isTabNavigable(_93)){var _95=dojo.attr(_93,"tabindex");if(!dojo.hasAttr(_93,"tabindex")||_95==0){if(!_8b){_8b=_93;}_8c=_93;}else{if(_95>0){if(!_8d||_95<_8e){_8e=_95;_8d=_93;}if(!_8f||_95>=_90){_90=_95;_8f=_93;}}}}if(_94&&_93.nodeName.toUpperCase()!="SELECT"){_91(_93);}});};if(dijit._isElementShown(_8a)){_91(_8a);}return {first:_8b,last:_8c,lowest:_8d,highest:_8f};};dijit.getFirstInTabbingOrder=function(_96){var _97=dijit._getTabNavigable(dojo.byId(_96));return _97.lowest?_97.lowest:_97.first;};dijit.getLastInTabbingOrder=function(_98){var _99=dijit._getTabNavigable(dojo.byId(_98));return _99.last?_99.last:_99.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_9a){this.pairs=[];this.returnWrappers=_9a||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_9b,_9c,_9d,_9e,_9f){this.pairs[((_9f)?"unshift":"push")]([_9b,_9c,_9d,_9e]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _a1=this.pairs[i];if(_a1[1].apply(this,arguments)){if((_a1[3])||(this.returnWrappers)){return _a1[2];}else{return _a1[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_a2){for(var i=0;i<this.pairs.length;i++){var _a4=this.pairs[i];if(_a4[0]==_a2){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _a5=dojo.global;var _a6=dojo.doc;var w=0,h=0;var de=_a6.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(dojo.isMozilla){var _ac,_ad,_ae,_af;var dbw=_a6.body.clientWidth;if(dbw>dew){_ac=dew;_ae=dbw;}else{_ae=dew;_ac=dbw;}var dbh=_a6.body.clientHeight;if(dbh>deh){_ad=deh;_af=dbh;}else{_af=deh;_ad=dbh;}w=(_ae>_a5.innerWidth)?_ac:_ae;h=(_af>_a5.innerHeight)?_ad:_af;}else{if(!dojo.isOpera&&_a5.innerWidth){w=_a5.innerWidth;h=_a5.innerHeight;}else{if(dojo.isIE&&de&&deh){w=dew;h=deh;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _b2=dojo._docScroll();return {w:w,h:h,l:_b2.x,t:_b2.y};};dijit.placeOnScreen=function(_b3,pos,_b5,_b6){var _b7=dojo.map(_b5,function(_b8){return {corner:_b8,pos:pos};});return dijit._place(_b3,_b7);};dijit._place=function(_b9,_ba,_bb){var _bc=dijit.getViewport();if(!_b9.parentNode||String(_b9.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_b9);}var _bd=null;dojo.some(_ba,function(_be){var _bf=_be.corner;var pos=_be.pos;if(_bb){_bb(_b9,_be.aroundCorner,_bf);}var _c1=_b9.style;var _c2=_c1.display;var _c3=_c1.visibility;_c1.visibility="hidden";_c1.display="";var mb=dojo.marginBox(_b9);_c1.display=_c2;_c1.visibility=_c3;var _c5=(_bf.charAt(1)=="L"?pos.x:Math.max(_bc.l,pos.x-mb.w)),_c6=(_bf.charAt(0)=="T"?pos.y:Math.max(_bc.t,pos.y-mb.h)),_c7=(_bf.charAt(1)=="L"?Math.min(_bc.l+_bc.w,_c5+mb.w):pos.x),_c8=(_bf.charAt(0)=="T"?Math.min(_bc.t+_bc.h,_c6+mb.h):pos.y),_c9=_c7-_c5,_ca=_c8-_c6,_cb=(mb.w-_c9)+(mb.h-_ca);if(_bd==null||_cb<_bd.overflow){_bd={corner:_bf,aroundCorner:_be.aroundCorner,x:_c5,y:_c6,w:_c9,h:_ca,overflow:_cb};}return !_cb;});_b9.style.left=_bd.x+"px";_b9.style.top=_bd.y+"px";if(_bd.overflow&&_bb){_bb(_b9,_bd.aroundCorner,_bd.corner);}return _bd;};dijit.placeOnScreenAroundNode=function(_cc,_cd,_ce,_cf){_cd=dojo.byId(_cd);var _d0=_cd.style.display;_cd.style.display="";var _d1=_cd.offsetWidth;var _d2=_cd.offsetHeight;var _d3=dojo.coords(_cd,true);_cd.style.display=_d0;return dijit._placeOnScreenAroundRect(_cc,_d3.x,_d3.y,_d1,_d2,_ce,_cf);};dijit.placeOnScreenAroundRectangle=function(_d4,_d5,_d6,_d7){return dijit._placeOnScreenAroundRect(_d4,_d5.x,_d5.y,_d5.width,_d5.height,_d6,_d7);};dijit._placeOnScreenAroundRect=function(_d8,x,y,_db,_dc,_dd,_de){var _df=[];for(var _e0 in _dd){_df.push({aroundCorner:_e0,corner:_dd[_e0],pos:{x:x+(_e0.charAt(1)=="L"?0:_db),y:y+(_e0.charAt(0)=="T"?0:_dc)}});}return dijit._place(_d8,_df,_de);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_e5,_e6,_e7,_e8){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _eb=[],_ec=1000,_ed=1;this.prepare=function(_ee){dojo.body().appendChild(_ee);var s=_ee.style;if(s.display=="none"){s.display="";}s.visibility="hidden";s.position="absolute";s.top="-9999px";};this.open=function(_f0){var _f1=_f0.popup,_f2=_f0.orient||{"BL":"TL","TL":"BL"},_f3=_f0.around,id=(_f0.around&&_f0.around.id)?(_f0.around.id+"_dropdown"):("popup_"+_ed++);var _f5=dojo.doc.createElement("div");dijit.setWaiRole(_f5,"presentation");_f5.id=id;_f5.className="dijitPopup";_f5.style.zIndex=_ec+_eb.length;_f5.style.left=_f5.style.top="0px";_f5.style.visibility="hidden";if(_f0.parent){_f5.dijitPopupParent=_f0.parent.id;}dojo.body().appendChild(_f5);var s=_f1.domNode.style;s.display="";s.visibility="";s.position="";_f5.appendChild(_f1.domNode);var _f7=new dijit.BackgroundIframe(_f5);var _f8=_f3?dijit.placeOnScreenAroundElement(_f5,_f3,_f2,_f1.orient?dojo.hitch(_f1,"orient"):null):dijit.placeOnScreen(_f5,_f0,_f2=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_f5.style.visibility="visible";var _f9=[];var _fa=function(){for(var pi=_eb.length-1;pi>0&&_eb[pi].parent===_eb[pi-1].widget;pi--){}return _eb[pi];};_f9.push(dojo.connect(_f5,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_f0.onCancel){dojo.stopEvent(evt);_f0.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _fd=_fa();if(_fd&&_fd.onCancel){_fd.onCancel();}}}}));if(_f1.onCancel){_f9.push(dojo.connect(_f1,"onCancel",null,_f0.onCancel));}_f9.push(dojo.connect(_f1,_f1.onExecute?"onExecute":"onChange",null,function(){var _fe=_fa();if(_fe&&_fe.onExecute){_fe.onExecute();}}));_eb.push({wrapper:_f5,iframe:_f7,widget:_f1,parent:_f0.parent,onExecute:_f0.onExecute,onCancel:_f0.onCancel,onClose:_f0.onClose,handlers:_f9});if(_f1.onOpen){_f1.onOpen(_f8);}return _f8;};this.close=function(_ff){while(dojo.some(_eb,function(elem){return elem.widget==_ff;})){var top=_eb.pop(),_102=top.wrapper,_103=top.iframe,_104=top.widget,_105=top.onClose;if(_104.onClose){_104.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_104||!_104.domNode){return;}this.prepare(_104.domNode);_103.destroy();dojo._destroyElement(_102);if(_105){_105();}}};}();dijit._frames=new function(){var _106=[];this.pop=function(){var _107;if(_106.length){_107=_106.pop();_107.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_107=dojo.doc.createElement(html);}else{_107=dojo.doc.createElement("iframe");_107.src="javascript:\"\"";_107.className="dijitBackgroundIframe";}_107.tabIndex=-1;dojo.body().appendChild(_107);}return _107;};this.push=function(_10a){_10a.style.display="";if(dojo.isIE){_10a.style.removeExpression("width");_10a.style.removeExpression("height");}_106.push(_10a);};}();if(dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _10d=dijit._frames.pop();node.appendChild(_10d);if(dojo.isIE){_10d.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_10d.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_10d;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){node=dojo.byId(node);var body=node.ownerDocument.body;var html=body.parentNode;if(dojo.isFF==2||node==body||node==html){node.scrollIntoView(false);return;}var rtl=!dojo._isBodyLtr();var _112=dojo.doc.compatMode!="BackCompat";var _113=(_112&&!dojo.isSafari)?html:body;function addPseudoAttrs(_114){var _115=_114.parentNode;var _116=_114.offsetParent;if(_116==null){_114=_113;_116=html;_115=null;}_114._offsetParent=(_116==body)?_113:_116;_114._parent=(_115==body)?_113:_115;_114._start={H:_114.offsetLeft,V:_114.offsetTop};_114._scroll={H:_114.scrollLeft,V:_114.scrollTop};_114._renderedSize={H:_114.offsetWidth,V:_114.offsetHeight};var bp=dojo._getBorderExtents(_114);_114._borderStart={H:bp.l,V:bp.t};_114._borderSize={H:bp.w,V:bp.h};_114._clientSize=(_114._offsetParent==html&&dojo.isSafari&&_112)?{H:html.clientWidth,V:html.clientHeight}:{H:_114.clientWidth,V:_114.clientHeight};_114._scrollBarSize={V:null,H:null};for(var dir in _114._scrollBarSize){var _119=_114._renderedSize[dir]-_114._clientSize[dir]-_114._borderSize[dir];_114._scrollBarSize[dir]=(_114._clientSize[dir]>0&&_119>=15&&_119<=17)?_119:0;}_114._isScrollable={V:null,H:null};for(dir in _114._isScrollable){var _11a=dir=="H"?"V":"H";_114._isScrollable[dir]=_114==_113||_114._scroll[dir]||_114._scrollBarSize[_11a];}};var _11b=node;while(_11b!=null){addPseudoAttrs(_11b);var next=_11b._parent;if(next){next._child=_11b;}_11b=next;}for(var dir in _113._renderedSize){_113._renderedSize[dir]=Math.min(_113._clientSize[dir],_113._renderedSize[dir]);}var _11e=node;while(_11e!=_113){_11b=_11e._parent;if(_11b.tagName=="TD"){var _11f=_11b._parent._parent._parent;if(_11f._offsetParent==_11e._offsetParent&&_11b._offsetParent!=_11e._offsetParent){_11b=_11f;}}var _120=_11e==_113||(_11b._offsetParent!=_11e._offsetParent);for(dir in _11e._start){var _121=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(dojo.isSafari||dojo.isIE)&&_11b._clientSize.H>0){var _122=_11b.scrollWidth-_11b._clientSize.H;if(_122>0){_11b._scroll.H-=_122;}}if(dojo.isIE&&_11b._offsetParent.tagName=="TABLE"){_11b._start[dir]-=_11b._offsetParent._borderStart[dir];_11b._borderStart[dir]=_11b._borderSize[dir]=0;}if(_11b._clientSize[dir]==0){_11b._renderedSize[dir]=_11b._clientSize[dir]=_11b._child._clientSize[dir];if(rtl&&dir=="H"){_11b._start[dir]-=_11b._renderedSize[dir];}}else{_11b._renderedSize[dir]-=_11b._borderSize[dir]+_11b._scrollBarSize[dir];}_11b._start[dir]+=_11b._borderStart[dir];var _123=_11e._start[dir]-(_120?0:_11b._start[dir])-_11b._scroll[dir];var _124=_123+_11e._renderedSize[dir]-_11b._renderedSize[dir];var _125,_126=(dir=="H")?"scrollLeft":"scrollTop";var _127=(dir=="H"&&rtl);var _128=_127?-_124:_123;var _129=_127?-_123:_124;if(_128<=0){_125=_128;}else{if(_129<=0){_125=0;}else{if(_128<_129){_125=_128;}else{_125=_129;}}}var _12a=0;if(_125!=0){var _12b=_11b[_126];_11b[_126]+=_127?-_125:_125;_12a=_11b[_126]-_12b;_123-=_12a;_129-=_127?-_12a:_12a;}_11b._renderedSize[dir]=_11e._renderedSize[dir]+_11b._scrollBarSize[dir]-((_11b._isScrollable[dir]&&_129>0)?_129:0);_11b._start[dir]+=(_123>=0||!_11b._isScrollable[dir])?_123:0;}_11e=_11b;}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _12e=d.isOpera;var maj=Math.floor;var ff=d.isFF;var _131=d.boxModel.replace(/-/,"");var _132={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_12e,dj_opera8:maj(_12e)==8,dj_opera9:maj(_12e)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_132["dj_"+_131]=true;var html=dojo.doc.documentElement;for(var p in _132){if(_132[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _132){if(_132[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_137,node,_139,obj,_13b,_13c){if(obj!=this._obj){this.stop();this._initialDelay=_13c||500;this._subsequentDelay=_13b||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_137,_139);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_13e,_13f,_140,_141,_142){if(_13e.keyCode){_13e.charOrCode=_13e.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_13e.charCode){_13e.charOrCode=String.fromCharCode(_13e.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_13e.charOrCode&&(_13e.ctrlKey===undefined||_13e.ctrlKey==evt.ctrlKey)&&(_13e.altKey===undefined||_13e.altKey==evt.ctrlKey)&&(_13e.shiftKey===undefined||_13e.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_13e,_13f,node,_140,_13e,_141,_142);}else{if(dijit.typematic._obj==_13e){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_13e){dijit.typematic.stop();}})];},addMouseListener:function(node,_146,_147,_148,_149){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_146,node,_147,node,_148,_149);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_146,node,_147,node,_148,_149);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_150,_151,_152,_153,_154,_155,_156){return this.addKeyListener(_151,_152,_153,_154,_155,_156).concat(this.addMouseListener(_150,_153,_154,_155,_156));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.doc.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");";dojo.body().appendChild(div);var cs=dojo.getComputedStyle(div);if(cs){var _159=cs.backgroundImage;var _15a=(cs.borderTopColor==cs.borderRightColor)||(_159!=null&&(_159=="none"||_159=="url(invalid-url:)"));dojo[_15a?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _15d=this.getWaiRole(elem);if(role){return (_15d.indexOf(role)>-1);}else{return (_15d.length>0);}},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _161=(theRole=dojo.attr(elem,"role"))?theRole:"";if(dojo.isFF<3||!this._XhtmlRoles.test(_161)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_161+" ").indexOf(" "+role+" ")<0){var _162=dojo.trim(_161.replace(this._XhtmlRoles,""));var _163=dojo.trim(_161.replace(_162,""));dojo.attr(elem,"role",_163+(_163?" ":"")+role);}}},removeWaiRole:function(elem,role){var _166=dojo.attr(elem,"role");if(!_166){return;}if(role){var _167=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_166+" ").replace(" "+_167+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_16a){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_16a);}else{return elem.hasAttribute?elem.hasAttribute("aria-"+_16a):!!elem.getAttribute("aria-"+_16a);}},getWaiState:function(elem,_16c){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_16c);}else{var _16d=elem.getAttribute("aria-"+_16c);return _16d?_16d:"";}},setWaiState:function(elem,_16f,_170){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_16f,_170);}else{elem.setAttribute("aria-"+_16f,_170);}},removeWaiState:function(elem,_172){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_172);}else{elem.removeAttribute("aria-"+_172);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_173,_174){if(_173&&dojo.isFunction(_173._onConnect)){_173._onConnect(_174);}});dijit._connectOnUseEventHandler=function(_175){};(function(){var _176={};var _177=function(dc){if(!_176[dc]){var r=[];var _17a;var _17b=dojo.getObject(dc).prototype;for(var _17c in _17b){if(dojo.isFunction(_17b[_17c])&&(_17a=_17c.match(/^_set([a-zA-Z]*)Attr$/))&&_17a[1]){r.push(_17a[1].charAt(0).toLowerCase()+_17a[1].substr(1));}}_176[dc]=r;}return _176[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_17d,_17e){this.create(_17d,_17e);},create:function(_17f,_180){this.srcNodeRef=dojo.byId(_180);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_17f){this.params=_17f;dojo.mixin(this,_17f);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _182=function(attr,_184){if((_184.params&&attr in _184.params)||_184[attr]){_184.attr(attr,_184[attr]);}};for(var attr in this.attributeMap){_182(attr,this);}dojo.forEach(_177(this.declaredClass),function(a){if(!(a in this.attributeMap)){_182(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.doc.createElement("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_187){this.destroyDescendants(_187);this.destroy(_187);},destroy:function(_188){this.uninitialize();dojo.forEach(this._connects,function(_189){dojo.forEach(_189,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_188);dijit.registry.remove(this.id);},destroyRendering:function(_18b){if(this.bgIframe){this.bgIframe.destroy(_18b);delete this.bgIframe;}if(this.domNode){if(!_18b){dojo._destroyElement(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_18b){dojo._destroyElement(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_18c){dojo.forEach(this.getDescendants(),function(_18d){if(_18d.destroy){_18d.destroy(_18c);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_18f){if(_18f in this._deferredConnects){var _190=this[this._deferredConnects[_18f]||"domNode"];this.connect(_190,_18f.toLowerCase(),this[_18f]);delete this._deferredConnects[_18f];}},_setClassAttr:function(_191){var _192=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_192,this["class"]);this["class"]=_191;dojo.addClass(_192,_191);},_setStyleAttr:function(_193){var _194=this[this.attributeMap["style"]||"domNode"];if(_194.style.cssText){_194.style.cssText+="; "+_193;}else{_194.style.cssText=_193;}this["style"]=_193;},setAttribute:function(attr,_196){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_196);},_attrToDom:function(attr,_198){var _199=this.attributeMap[attr];dojo.forEach(dojo.isArray(_199)?_199:[_199],function(_19a){var _19b=this[_19a.node||_19a||"domNode"];var type=_19a.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_198)){_198=dojo.hitch(this,_198);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_19b,attr,_198);break;case "innerHTML":_19b.innerHTML=_198;break;case "class":dojo.removeClass(_19b,this[attr]);dojo.addClass(_19b,_198);break;}},this);this[attr]=_198;},attr:function(name,_19e){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _1a1=this._getAttrNames(name);if(args==2){if(this[_1a1.s]){return this[_1a1.s](_19e)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_19e);}this[name]=_19e;}return this;}else{if(this[_1a1.g]){return this[_1a1.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_1a7,_1a8){var d=dojo;var dco=d.hitch(d,"connect",obj);var _1ab=[];if(_1a7=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_1a8);_1ab.push(dco("onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dco("onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE){return m(e);}}));if(d.isFF){_1ab.push(dco("onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER){return m(e);}}));}}_1a7="onclick";}_1ab.push(dco(_1a7,this,_1a8));this._connects.push(_1ab);return _1ab;},disconnect:function(_1b0){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_1b0){dojo.forEach(_1b0,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_1b2,_1b3){if(_1b2["declaredClass"]&&_1b2["addChild"]){_1b2.addChild(this,_1b3);}else{dojo.place(this.domNode,_1b2,_1b3);}return this;}});})();}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _1b6=dijit.byId(id);return _1b6.isContainer?_1b6:null;}}return null;},_getSibling:function(_1b7){var node=this.domNode;do{node=node[_1b7+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1bb,_1bc){var _1bd=this.containerNode;if(_1bc&&typeof _1bc=="number"){var _1be=dojo.query("> [widgetId]",_1bd);if(_1be&&_1be.length>=_1bc){_1bd=_1be[_1bc-1];_1bc="after";}}dojo.place(_1bb.domNode,_1bd,_1bc);if(this._started&&!_1bb._started){_1bb.startup();}},removeChild:function(_1bf){if(typeof _1bf=="number"&&_1bf>0){_1bf=this.getChildren()[_1bf];}if(!_1bf||!_1bf.domNode){return;}var node=_1bf.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_1c3){dojo.forEach(this.getChildren(),function(_1c4){_1c4.destroyRecursive(_1c3);});},_getSiblingOfChild:function(_1c5,dir){var node=_1c5.domNode;var _1c8=(dir>0?"nextSibling":"previousSibling");do{node=node[_1c8];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_1c9){var _1ca=this.getChildren();for(var i=0,c;c=_1ca[i];i++){if(c==_1c9){return i;}}return -1;}});dojo.declare("dijit._KeyNavContainer",[dijit._Container],{_keyNavCodes:{},connectKeyNavHandlers:function(_1cd,_1ce){var _1cf=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_1cd,function(code){_1cf[code]=prev;});dojo.forEach(_1ce,function(code){_1cf[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_1d4,_1d5){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_1d4);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _1d6=this._getNextFocusableChild(this.focusedChild,1);if(_1d6.getFocalNodes){this.focusChild(_1d6,_1d6.getFocalNodes()[0]);}else{this.focusChild(_1d6);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _1d7=this._getNextFocusableChild(this.focusedChild,-1);if(_1d7.getFocalNodes){var _1d8=_1d7.getFocalNodes();this.focusChild(_1d7,_1d8[_1d8.length-1]);}else{this.focusChild(_1d7);}},focusChild:function(_1d9,node){if(_1d9){if(this.focusedChild&&_1d9!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_1d9;if(node&&_1d9.focusFocalNode){_1d9.focusFocalNode(node);}else{_1d9.focus();}}},_startupChild:function(_1db){if(_1db.getFocalNodes){dojo.forEach(_1db.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_1db.focusNode||_1db.domNode;if(_1db.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target===this.domNode){this.focusFirstChild();}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){dojo.attr(this.domNode,"tabindex",-1);var _1e3=dijit.getEnclosingWidget(evt.target);if(_1e3&&_1e3.isFocusable()){this.focusedChild=_1e3;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}dojo.stopEvent(evt);},_onChildBlur:function(_1e5){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_1e6,dir){if(_1e6){_1e6=this._getSiblingOfChild(_1e6,dir);}var _1e8=this.getChildren();for(var i=0;i<_1e8.length;i++){if(!_1e6){_1e6=_1e8[(dir>0)?0:(_1e8.length-1)];}if(_1e6.isFocusable()){return _1e6;}_1e6=this._getSiblingOfChild(_1e6,dir);}return null;}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1ea){_1ea.startup();});if(!this.getParent||!this.getParent()){this.resize();this.connect(dojo.global,"onresize","resize");}this.inherited(arguments);},resize:function(_1eb,_1ec){var node=this.domNode;if(_1eb){dojo.marginBox(node,_1eb);if(_1eb.t){node.style.top=_1eb.t+"px";}if(_1eb.l){node.style.left=_1eb.l+"px";}}var mb=_1ec||{};dojo.mixin(mb,_1eb||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)};var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_1f4){if(_1f4.baseClass){dojo.addClass(_1f4.domNode,this.baseClass+"-"+_1f4.baseClass);}},addChild:function(_1f5,_1f6){this.inherited(arguments);if(this._started){this._setupChild(_1f5);}},removeChild:function(_1f7){if(_1f7.baseClass){dojo.removeClass(_1f7.domNode,this.baseClass+"-"+_1f7.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _1fd=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_200,dim){_200.resize?_200.resize(dim):dojo.marginBox(_200.domNode,dim);dojo.mixin(_200,dojo.marginBox(_200.domNode));dojo.mixin(_200,dim);};dijit.layout.layoutChildren=function(_202,dim,_204){dim=dojo.mixin({},dim);dojo.addClass(_202,"dijitLayoutContainer");_204=dojo.filter(_204,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_204,function(item){return item.layoutAlign=="client";}));dojo.forEach(_204,function(_207){var elm=_207.domNode,pos=_207.layoutAlign;var _20a=elm.style;_20a.left=dim.l+"px";_20a.top=dim.t+"px";_20a.bottom=_20a.right="auto";dojo.addClass(elm,"dijitAlign"+_1fd(pos));if(pos=="top"||pos=="bottom"){size(_207,{w:dim.w});dim.h-=_207.h;if(pos=="top"){dim.t+=_207.h;}else{_20a.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_207,{h:dim.h});dim.w-=_207.w;if(pos=="left"){dim.l+=_207.w;}else{_20a.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_207,dim);}}}});};})();}if(!dojo._hasResource["dijit.layout.LayoutContainer"]){dojo._hasResource["dijit.layout.LayoutContainer"]=true;dojo.provide("dijit.layout.LayoutContainer");dojo.declare("dijit.layout.LayoutContainer",dijit.layout._LayoutWidget,{baseClass:"dijitLayoutContainer",constructor:function(){dojo.deprecated("dijit.layout.LayoutContainer is deprecated","use BorderContainer instead",2);},layout:function(){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());},addChild:function(_20b,_20c){this.inherited(arguments);if(this._started){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());}},removeChild:function(_20d){this.inherited(arguments);if(this._started){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren());}}});dojo.extend(dijit._Widget,{layoutAlign:"none"});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_217,map,_219,_21a){_21a=_21a||dojo.global;_219=(!_219)?function(v){return v;}:dojo.hitch(_21a,_219);return _217.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_21c,key,_21e){var _21f=dojo.getObject(key,false,map);if(_21e){_21f=dojo.getObject(_21e,false,_21a).call(_21a,_21f,key);}return _219(_21f,key).toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var _222=0;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=function(node){while(node.firstChild){dojo._destroyElement(node.firstChild);}};dojo.html._setNodeContent=function(node,cont,_227){if(_227){dojo.html._emptyNode(node);}if(typeof cont=="string"){var pre="",post="",walk=0,name=node.nodeName.toLowerCase();switch(name){case "tr":pre="<tr>";post="</tr>";walk+=1;case "tbody":case "thead":pre="<tbody>"+pre;post+="</tbody>";walk+=1;case "table":pre="<table>"+pre;post+="</table>";walk+=1;break;}if(walk){var n=node.ownerDocument.createElement("div");n.innerHTML=pre+cont+post;do{n=n.firstChild;}while(--walk);dojo.forEach(n.childNodes,function(n){node.appendChild(n.cloneNode(true));});}else{node.innerHTML=cont;}}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(_22f,node){dojo.mixin(this,_22f||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_222++].join("_");}if(!(this.node||node)){new Error(this.declaredClass+": no node provided to "+this.id);}},set:function(cont,_232){if(undefined!==cont){this.content=cont;}if(_232){this._mixin(_232);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){console.error("setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _234=this.onContentError(e);try{node.innerHTML=_234;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _237=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_237){cont=_237[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_239){var _23a={},key;for(key in _239){if(key in _23a){continue;}this[key]=_239[key];}},_parse:function(){var _23c=this.node;try{this.parseResults=dojo.parser.parse(_23c,true);}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_23f){var _240=this["on"+type+"Error"].call(this,err);if(_23f){console.error(_23f,err);}else{if(_240){dojo.html._setNodeContent(this.node,_240,true);}}}});dojo.html.set=function(node,cont,_243){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_243){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_243,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_245,_246,_247){_247=dojo.i18n.normalizeLocale(_247);var _248=_247.split("-");var _249=[_245,"nls",_246].join(".");var _24a=dojo._loadedModules[_249];if(_24a){var _24b;for(var i=_248.length;i>0;i--){var loc=_248.slice(0,i).join("_");if(_24a[loc]){_24b=_24a[loc];break;}}if(!_24b){_24b=_24a.ROOT;}if(_24b){var _24e=function(){};_24e.prototype=_24b;return new _24e();}}throw new Error("Bundle not found: "+_246+" in "+_245+" , locale="+_247);};dojo.i18n.normalizeLocale=function(_24f){var _250=_24f?_24f.toLowerCase():dojo.locale;if(_250=="root"){_250="ROOT";}return _250;};dojo.i18n._requireLocalization=function(_251,_252,_253,_254){var _255=dojo.i18n.normalizeLocale(_253);var _256=[_251,"nls",_252].join(".");var _257="";if(_254){var _258=_254.split(",");for(var i=0;i<_258.length;i++){if(_255["indexOf"](_258[i])==0){if(_258[i].length>_257.length){_257=_258[i];}}}if(!_257){_257="ROOT";}}var _25a=_254?_257:_255;var _25b=dojo._loadedModules[_256];var _25c=null;if(_25b){if(dojo.config.localizationComplete&&_25b._built){return;}var _25d=_25a.replace(/-/g,"_");var _25e=_256+"."+_25d;_25c=dojo._loadedModules[_25e];}if(!_25c){_25b=dojo["provide"](_256);var syms=dojo._getModuleSymbols(_251);var _260=syms.concat("nls").join("/");var _261;dojo.i18n._searchLocalePath(_25a,_254,function(loc){var _263=loc.replace(/-/g,"_");var _264=_256+"."+_263;var _265=false;if(!dojo._loadedModules[_264]){dojo["provide"](_264);var _266=[_260];if(loc!="ROOT"){_266.push(loc);}_266.push(_252);var _267=_266.join("/")+".js";_265=dojo._loadPath(_267,null,function(hash){var _269=function(){};_269.prototype=_261;_25b[_263]=new _269();for(var j in hash){_25b[_263][j]=hash[j];}});}else{_265=true;}if(_265&&_25b[_263]){_261=_25b[_263];}else{_25b[_263]=_261;}if(_254){return true;}});}if(_254&&_255!=_257){_25b[_255.replace(/-/g,"_")]=_25b[_257.replace(/-/g,"_")];}};(function(){var _26b=dojo.config.extraLocale;if(_26b){if(!_26b instanceof Array){_26b=[_26b];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_26f,_270){req(m,b,_26f,_270);if(_26f){return;}for(var i=0;i<_26b.length;i++){req(m,b,_26b[i],_270);}};}})();dojo.i18n._searchLocalePath=function(_272,down,_274){_272=dojo.i18n.normalizeLocale(_272);var _275=_272.split("-");var _276=[];for(var i=_275.length;i>0;i--){_276.push(_275.slice(0,i).join("-"));}_276.push(false);if(down){_276.reverse();}for(var j=_276.length-1;j>=0;j--){var loc=_276[j]||"ROOT";var stop=_274(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_27b,_27c){function preload(_27d){_27d=dojo.i18n.normalizeLocale(_27d);dojo.i18n._searchLocalePath(_27d,true,function(loc){for(var i=0;i<_27c.length;i++){if(_27c[i]==loc){dojo["require"](_27b+"_"+loc);return true;}}return false;});};preload();var _280=dojo.config.extraLocale||[];for(var i=0;i<_280.length;i++){preload(_280[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,postMixInProperties:function(){this.inherited(arguments);var _282=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_282);this.errorMessage=dojo.string.substitute(this.errorMessage,_282);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},postCreate:function(){this.domNode.title="";if(!dijit.hasWaiRole(this.domNode)){dijit.setWaiRole(this.domNode,"group");}dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}if(this.doLayout!="false"&&this.doLayout!==false){this._checkIfSingleChild();if(this._singleChild){this._singleChild.startup();}}this._loadCheck();this.inherited(arguments);},_checkIfSingleChild:function(){var _283=dojo.query(">",this.containerNode),_284=_283.filter(function(node){return dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_286=dojo.filter(_284.map(dijit.byNode),function(_287){return _287&&_287.domNode&&_287.resize;});if(_283.length==_284.length&&_286.length==1){this.isContainer=true;this._singleChild=_286[0];}else{delete this.isContainer;delete this._singleChild;}},refresh:function(){return this._prepareLoad(true);},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated.\tUse attr('href', ...) instead.","","2.0");return this.attr("href",href);},_setHrefAttr:function(href){this.href=href;if(this._created){return this._prepareLoad();}},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",data);},_setContentAttr:function(data){if(!this._isDownloaded){this.href="";}this._setContent(data||"");this._isDownloaded=false;if(this.doLayout!="false"&&this.doLayout!==false){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.startup();var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}}this._onLoadHandler();},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},destroyRecursive:function(_28d){if(this._beingDestroyed){return;}this._beingDestroyed=true;this.inherited(arguments);},resize:function(size){dojo.marginBox(this.domNode,size);var node=this.containerNode,mb=dojo.mixin(dojo.marginBox(node),size||{});var cb=this._contentBox=dijit.layout.marginBox2contentBox(node,mb);if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:cb.w,h:cb.h});}},_prepareLoad:function(_292){this.cancel();this.isLoaded=false;this._loadCheck(_292);},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden");}},_loadCheck:function(_294){var _295=this._isShown();if(this.href&&(_294||(this.preload&&!this.isLoaded&&!this._xhrDfd)||(this.refreshOnShow&&_295&&!this._xhrDfd)||(!this.isLoaded&&_295&&!this._xhrDfd))){this._downloadExternalContent();}},_downloadExternalContent:function(){this._setContent(this.onDownloadStart.call(this));var self=this;var _297={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_297,this.ioArgs);}var hand=this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_297);hand.addCallback(function(html){try{self._isDownloaded=true;self.attr.call(self,"content",html);self.onDownloadEnd.call(self);}catch(err){self._onError.call(self,"Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.cancelled){self._onError.call(self,"Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function(){this.isLoaded=true;try{this.onLoad.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code");}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();try{this.onUnload.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code");}},destroyDescendants:function(){this._onUnloadHandler();var _29b=this._contentSetter;if(_29b){_29b.empty();}else{this.inherited(arguments);dojo.html._emptyNode(this.containerNode);}},_setContent:function(cont){this.destroyDescendants();var _29d=this._contentSetter;if(!(_29d&&_29d instanceof dojo.html._ContentSetter)){_29d=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _29f=this.onContentError(e);try{this.containerNode.innerHTML=_29f;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a0=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(_29d,_2a0);_29d.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont);delete this._contentSetterParams;},_onError:function(type,err,_2a3){var _2a4=this["on"+type+"Error"].call(this,err);if(_2a3){console.error(_2a3,err);}else{if(_2a4){this._setContent.call(this,_2a4);}}},_createSubWidgets:function(){try{dojo.parser.parse(this.containerNode,true);}catch(e){this._onError("Content",e,"Couldn't create widgets in "+this.id+(this.href?" from "+this.href:""));}},onLoad:function(e){},onUnload:function(e){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_2a7){},onDownloadError:function(_2a8){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _2a9=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _2aa=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _2ab=dojox.html._adjustCssPaths=function(_2ac,_2ad){if(!_2ad||!_2ac){return;}if(_2a9){_2ad=_2ad.replace(_2a9,function(_2ae,pre,_2b0,url,post){return pre+(new dojo._Url(_2ac,"./"+url).toString())+post;});}return _2ad.replace(_2aa,function(_2b3,_2b4,_2b5,_2b6,_2b7,_2b8){if(_2b5){return "@import \""+(new dojo._Url(_2ac,"./"+_2b5).toString())+"\""+_2b8;}else{return "url("+(new dojo._Url(_2ac,"./"+_2b7).toString())+")"+_2b8;}});};var _2b9=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _2ba=dojox.html._adjustHtmlPaths=function(_2bb,cont){var url=_2bb||"./";return cont.replace(_2b9,function(tag,_2bf,name,_2c1,_2c2,_2c3,_2c4,end){return _2bf+(name?(name+"="+_2c1+(new dojo._Url(url,_2c2).toString())+_2c1):("style="+_2c3+_2ab(url,_2c4)+_2c3))+end;});};var _2c6=dojox.html._snarfStyles=function(_2c7,cont,_2c9){_2c9.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_2ca,_2cb,_2cc,_2cd,_2ce,href){var i,attr=(_2cb||_2cd||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_2cc){i=_2c9.push(_2c7?_2ab(_2c7,_2cc):_2cc);}else{i=_2c9.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _2d2={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_2d2[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_2c9.attributes[i-1]=_2d2;}return "";});};var _2d6=dojox.html._snarfScripts=function(cont,_2d8){_2d8.code="";function download(src){if(_2d8.downloadRemote){dojo.xhrGet({url:src,sync:true,load:function(code){_2d8.code+=code+";";},error:_2d8.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?dojo)(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_2db,_2dc,src,code){if(src){download(src);}else{_2d8.code+=code;}return "";});};var _2df=dojox.html.evalInGlobal=function(code,_2e1){_2e1=_2e1||dojo.doc.body;var n=_2e1.ownerDocument.createElement("script");n.type="text/javascript";_2e1.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_2e3){this._styleNodes=[];var st,att,_2e6,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_2e3.length;i<e;i++){_2e6=_2e3[i];att=_2e3.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_2e6;}else{st.appendChild(doc.createTextNode(_2e6));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _2ee=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_2ba(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_2c6(this.referencePath,cont,_2ee);}if(this.executeScripts){var _t=this;var _2f0={downloadRemote:true,errBack:function(e){_t._onError.call(_t,"Exec","Error downloading remote script in \""+_t.id+"\"",e);}};cont=_2d6(cont,_2f0);this._code=_2f0.code;}}this.content=cont;},onEnd:function(){var code=this._code,_2f3=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo._destroyElement(this._styleNodes.pop());}}if(this.renderStyles&&_2f3&&_2f3.length){this._renderStyles(_2f3);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_2df(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo._destroyElement(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function(node,cont,_2f6){if(!_2f6){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_2f6,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");(function(){dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=dojo.xhrGet;this.onLoadDeferred=new dojo.Deferred();this.onUnloadDeferred=new dojo.Deferred();},postCreate:function(){this._setUpDeferreds();dijit.layout.ContentPane.prototype.postCreate.apply(this,arguments);},onExecError:function(e){},_setContentAttr:function(data){if(!this._isDownloaded){var _2fa=this._setUpDeferreds();}this.inherited(arguments);return _2fa;},cancel:function(){if(this._xhrDfd&&this._xhrDfd.fired==-1){this.onUnloadDeferred=null;}dijit.layout.ContentPane.prototype.cancel.apply(this,arguments);},_setUpDeferreds:function(){var _t=this,_2fc=function(){_t.cancel();};var _2fd=(_t.onLoadDeferred=new dojo.Deferred());var _2fe=(_t._nextUnloadDeferred=new dojo.Deferred());return {cancel:_2fc,addOnLoad:function(func){_2fd.addCallback(func);},addOnUnload:function(func){_2fe.addCallback(func);}};},_onLoadHandler:function(){dijit.layout.ContentPane.prototype._onLoadHandler.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();if(this.onUnloadDeferred){this.onUnloadDeferred.callback(true);}dijit.layout.ContentPane.prototype._onUnloadHandler.apply(this,arguments);if(this._nextUnloadDeferred){this.onUnloadDeferred=this._nextUnloadDeferred;}},_onError:function(type,err){dijit.layout.ContentPane.prototype._onError.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.errback(err);}},_prepareLoad:function(_303){var _304=this._setUpDeferreds();dijit.layout.ContentPane.prototype._prepareLoad.apply(this,arguments);return _304;},_setContent:function(cont){var _306=this._contentSetter;if(!(_306&&_306 instanceof dojox.html._ContentSetter)){_306=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _308=this.onContentError(e);try{this.containerNode.innerHTML=_308;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&this.href),referencePath:this.href,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});})();}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _309={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _30c=function(_30d){this._index=-1;this._animations=_30d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_30c,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_30f,_310){if(!this._current){this._current=this._animations[this._index=0];}if(!_310&&this._current.status()=="playing"){return this;}var _311=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_312=dojo.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_314=dojo.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);dojo.disconnect(_311);dojo.disconnect(_312);dojo.disconnect(_314);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_318,_319){this.pause();var _31a=this.duration*_318;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_31a){this._current=a;return true;}_31a-=a.duration;return false;});if(this._current){this._current.gotoPercent(_31a/this._current.duration,_319);}return this;},stop:function(_31c){if(this._current){if(_31c){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_30c,_309);dojo.fx.chain=function(_31f){return new _30c(_31f);};var _320=function(_321){this._animations=_321||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_321,function(a){var _323=a.duration;if(a.delay){_323+=a.delay;}if(this.duration<_323){this.duration=_323;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){this._connects.push(dojo.connect(this._pseudoAnimation,evt,dojo.hitch(this,"_fire",evt)));},this);};dojo.extend(_320,{_doAction:function(_325,args){dojo.forEach(this._animations,function(a){a[_325].apply(a,args);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_328,args){var t=this._pseudoAnimation;t[_328].apply(t,args);},play:function(_32b,_32c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_32d,_32e){var ms=this.duration*_32d;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_32e);});this._call("gotoPercent",arguments);return this;},stop:function(_331){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_320,_309);dojo.fx.combine=function(_332){return new _320(_332);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function(args){var _t=this;dojo.mixin(_t,args);_t.node=args.node;_t._showArgs=dojo.mixin({},args);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},args);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_335){return this.showAnim.play(_335||0);},hide:function(_336){return this.hideAnim.play(_336||0);}});dojo.fx.wipeIn=function(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style,o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _33c=dojo.style(node,"height");return Math.max(_33c,1);}},end:function(){return node.scrollHeight;}}}},args));dojo.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=dojo.byId(args.node);var s=node.style;var o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},args));dojo.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});dojo.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=(args.node=dojo.byId(args.node));var top=null;var left=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=dojo.animateProperty(dojo.mixin({properties:{top:{end:args.top||0},left:{end:args.left||0}}},args));dojo.connect(anim,"beforeBegin",anim,init);return anim;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _34d=this.declaredClass,_34e=this;return dojo.string.substitute(tmpl,this,function(_34f,key){if(key.charAt(0)=="!"){_34f=_34e[key.substr(1)];}if(typeof _34f=="undefined"){throw new Error(_34d+" template:"+key);}if(_34f==null){return "";}return key.charAt(0)=="!"?_34f:_34f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _351=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_351)){node=dijit._Templated._createNodesFromText(this._stringRepl(_351))[0];}else{node=_351.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);var _353=this.srcNodeRef;if(_353&&_353.parentNode){_353.parentNode.replaceChild(node,_353);}if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(_353);},_fillContent:function(_357){var dest=this.containerNode;if(_357&&dest){while(_357.hasChildNodes()){dest.appendChild(_357.firstChild);}}},_attachTemplateNodes:function(_359,_35a){_35a=_35a||function(n,p){return n.getAttribute(p);};var _35d=dojo.isArray(_359)?_359:(_359.all||_359.getElementsByTagName("*"));var x=dojo.isArray(_359)?0:-1;var _35f={};for(;x<_35d.length;x++){var _360=(x==-1)?_359:_35d[x];if(this.widgetsInTemplate&&_35a(_360,"dojoType")){continue;}var _361=_35a(_360,"dojoAttachPoint");if(_361){var _362,_363=_361.split(/\s*,\s*/);while((_362=_363.shift())){if(dojo.isArray(this[_362])){this[_362].push(_360);}else{this[_362]=_360;}}}var _364=_35a(_360,"dojoAttachEvent");if(_364){var _365,_366=_364.split(/\s*,\s*/);var trim=dojo.trim;while((_365=_366.shift())){if(_365){var _368=null;if(_365.indexOf(":")!=-1){var _369=_365.split(":");_365=trim(_369[0]);_368=trim(_369[1]);}else{_365=trim(_365);}if(!_368){_368=_365;}this.connect(_360,_365,_368);}}}var role=_35a(_360,"waiRole");if(role){dijit.setWaiRole(_360,role);}var _36b=_35a(_360,"waiState");if(_36b){dojo.forEach(_36b.split(/\s*,\s*/),function(_36c){if(_36c.indexOf("-")!=-1){var pair=_36c.split("-");dijit.setWaiState(_360,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_36e,_36f,_370){var _371=dijit._Templated._templateCache;var key=_36f||_36e;var _373=_371[key];if(_373){if(!_373.ownerDocument||_373.ownerDocument==dojo.doc){return _373;}dojo._destroyElement(_373);}if(!_36f){_36f=dijit._Templated._sanitizeTemplateString(dojo._getText(_36e));}_36f=dojo.string.trim(_36f);if(_370||_36f.match(/\$\{([^\}]+)\}/g)){return (_371[key]=_36f);}else{return (_371[key]=dijit._Templated._createNodesFromText(_36f)[0]);}};dijit._Templated._sanitizeTemplateString=function(_374){if(_374){_374=_374.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _375=_374.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_375){_374=_375[1];}}else{_374="";}return _374;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _376=dijit._Templated._templateCache;for(var key in _376){var _378=_376[key];if(!isNaN(_378.nodeType)){dojo._destroyElement(_378);}delete _376[key];}});}(function(){var _379={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(tn&&tn.ownerDocument!=dojo.doc){dojo._destroyElement(tn);tn=undefined;}if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _37c="none";var _37d=text.replace(/^\s+/,"");for(var type in _379){var map=_379[type];if(map.re.test(_37d)){_37c=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_37c];var _381=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _382=[];while(_381.firstChild){_382.push(_381.removeChild(_381.firstChild));}tn.innerHTML="";return _382;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),_setDisabledAttr:function(_383){this.disabled=_383;dojo.attr(this.focusNode,"disabled",_383);dijit.setWaiState(this.focusNode,"disabled",_383);if(_383){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_384){dojo.deprecated("setDisabled("+_384+") is deprecated. Use attr('disabled',"+_384+") instead.","","2.0");this.attr("disabled",_384);},_onFocus:function(e){dijit.scrollIntoView(this.domNode);this.inherited(arguments);},_onMouse:function(_386){var _387=_386.currentTarget;if(_387&&_387.getAttribute){this.stateModifier=_387.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_386.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _388=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_388);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _389=this.baseClass.split(" ");function multiply(_38a){_389=_389.concat(dojo.map(_389,function(c){return c+_38a;}),"dijit"+_38a);};if(this.checked){multiply("Checked");}if(this.state){multiply(this.state);}if(this.selected){multiply("Selected");}if(this.disabled){multiply("Disabled");}else{if(this.readOnly){multiply("ReadOnly");}else{if(this._active){multiply(this.stateModifier+"Active");}else{if(this._focused){multiply("Focused");}if(this._hovering){multiply(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_38d={};dojo.forEach(tn.className.split(" "),function(c){_38d[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _38d[c];});}dojo.forEach(_389,function(c){_38d[c]=true;});var _391=[];for(var c in _38d){_391.push(c);}tn.className=_391.join(" ");this._stateClasses=_389;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_395){},_onChangeActive:false,_handleOnChange:function(_396,_397){this._lastValue=_396;if(this._lastValueReported==undefined&&(_397===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_396;}if((this.intermediateChanges||_397||_397===undefined)&&((typeof _396!=typeof this._lastValueReported)||this.compare(_396,this._lastValueReported)!=0)){this._lastValueReported=_396;if(this._onChangeActive){this.onChange(_396);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_398){dojo.deprecated("dijit.form._FormWidget:setValue("+_398+") is deprecated.  Use attr('value',"+_398+") instead.","","2.0");this.attr("value",_398);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{value:""}),postCreate:function(){if(dojo.isIE||dojo.isSafari){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_39b,_39c){this.value=_39b;this._handleOnChange(_39b,_39c);},_getValueAttr:function(_39d){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_valueChanged:function(){var v=this.attr("value");var lv=this._lastValueReported;return ((v!==null&&(v!==undefined)&&v.toString)?v.toString():"")!==((lv!==null&&(lv!==undefined)&&lv.toString)?lv.toString():"");},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isSafari){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}},_onKeyPress:function(e){if(e.charOrCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey&&this._valueChanged()){this.undo();dojo.stopEvent(e);return false;}else{if(this.intermediateChanges){var _3a3=this;setTimeout(function(){_3a3._handleOnChange(_3a3.attr("value"),false);},0);}}return true;}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><span class=\"dijitReset dijitRight dijitInline\"\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \n\t\t\t\tname=\"${name}\" type=\"${type}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \n\t\t\t\t></span \n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \n\t\t\t\t\tid=\"${id}_label\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(e.type!="click"){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _3a7=dijit.byNode(node);if(_3a7&&typeof _3a7._onSubmit=="function"){_3a7._onSubmit(e);break;}}}}},_fillContent:function(_3a8){if(_3a8&&!("label" in this.params)){this.attr("label",_3a8.innerHTML);}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_3ab){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_3ab);},_setLabelAttr:function(_3ac){this.containerNode.innerHTML=this.label=_3ac;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\n\t><span class='dijitReset dijitRight dijitInline'\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \n\t\t\t\ttype=\"${type}\" name=\"${name}\"\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" \n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \n\t\t\t\t\tid=\"${id}_label\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",_fillContent:function(){if(this.srcNodeRef){var _3ad=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_3ad[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _3ae=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_3ae);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function(e){var _3b1=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_3b1||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _3b5=this.dropDown;if(!_3b5){return;}if(!this._opened){if(_3b5.href&&!_3b5.isLoaded){var self=this;var _3b7=dojo.connect(_3b5,"onLoad",function(){dojo.disconnect(_3b7);self._openDropDown();});_3b5._loadCheck(true);return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function(){var _3b8=this.dropDown;var _3b9=_3b8.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_3b8,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){self._closeDropDown(true);},onCancel:function(){self._closeDropDown(true);},onClose:function(){_3b8.domNode.style.width=_3b9;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_3b8.domNode.offsetWidth){var _3bb=null;if(!this.isLeftToRight()){_3bb=_3b8.domNode.parentNode;var _3bc=_3bb.offsetLeft+_3bb.offsetWidth;}dojo.marginBox(_3b8.domNode,{w:this.domNode.offsetWidth});if(_3bb){_3bb.style.left=_3bc-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_3b8.focus){_3b8.focus();}},_closeDropDown:function(_3bd){if(this._opened){dijit.popup.close(this.dropDown);if(_3bd){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\n\t\t></td\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\tstateModifier=\"DownArrow\"\n\t\t\ttitle=\"${optionsTitle}\" name=\"${name}\"\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",name:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function(){return this._focalNodes;},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_3c5){this.checked=_3c5;dojo.attr(this.focusNode||this.domNode,"checked",_3c5);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_3c5);this._setStateClass();this._handleOnChange(_3c5,true);},setChecked:function(_3c6){dojo.deprecated("setChecked("+_3c6+") is deprecated. Use attr('checked',"+_3c6+") instead.","","2.0");this.attr("checked",_3c6);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit.Menu",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{constructor:function(){this._bindings=[];},templateString:"<table class=\"dijit dijitMenu dijitReset dijitMenuTable\" waiRole=\"menu\" dojoAttachEvent=\"onkeypress:_onKeyPress\">"+"<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>"+"</table>",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,parentMenu:null,popupDelay:500,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}this.connectKeyNavHandlers([dojo.keys.UP_ARROW],[dojo.keys.DOWN_ARROW]);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_3c7){_3c7.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_3c8){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case dojo.keys.RIGHT_ARROW:this._moveToPopup(evt);dojo.stopEvent(evt);break;case dojo.keys.LEFT_ARROW:if(this.parentMenu){this.onCancel(false);}else{dojo.stopEvent(evt);}break;}},onItemHover:function(item){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}},_onChildBlur:function(item){dijit.popup.close(item.popup);item._blur();this._stopPopupTimer();},onItemUnhover:function(item){},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}if(item.popup){if(!this.is_open){this._openPopup();}}else{this.onExecute();item.onClick(evt);}},_iframeContentWindow:function(_3d1){var win=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(_3d1))||dijit.Menu._iframeContentDocument(_3d1)["__parent__"]||(_3d1.name&&dojo.doc.frames[_3d1.name])||null;return win;},_iframeContentDocument:function(_3d3){var doc=_3d3.contentDocument||(_3d3.contentWindow&&_3d3.contentWindow.document)||(_3d3.name&&dojo.doc.frames[_3d3.name]&&dojo.doc.frames[_3d3.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var win=dijit.getDocumentWindow(node.ownerDocument);if(node.tagName.toLowerCase()=="iframe"){win=this._iframeContentWindow(node);node=dojo.withGlobal(win,dojo.body);}var cn=(node==dojo.body()?dojo.doc:node);node[this.id]=this._bindings.push([dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")]);},unBindDomNode:function(_3d8){var node=dojo.byId(_3d8);if(node){var bid=node[this.id]-1,b=this._bindings[bid];dojo.forEach(b,dojo.disconnect);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _e={target:e.target,pageX:e.pageX,pageY:e.pageY};_e.preventDefault=_e.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_e);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;}else{var _3e2=dojo.coords(e.target,true);x=_3e2.x+10;y=_3e2.y+10;}var self=this;var _3e4=dijit.getFocus(this);function closeAndRestoreFocus(){dijit.focus(_3e4);dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:closeAndRestoreFocus,onCancel:closeAndRestoreFocus,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},onOpen:function(e){this.isShowingNow=true;},onClose:function(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null;}},_openPopup:function(){this._stopPopupTimer();var _3e6=this.focusedChild;var _3e7=_3e6.popup;if(_3e7.isShowingNow){return;}_3e7.parentMenu=this;var self=this;dijit.popup.open({parent:this,popup:_3e7,around:_3e6.domNode,orient:this.isLeftToRight()?{"TR":"TL","TL":"TR"}:{"TL":"TR","TR":"TL"},onCancel:function(){dijit.popup.close(_3e7);_3e6.focus();self.currentPopup=null;}});this.currentPopup=_3e7;if(_3e7.focus){_3e7.focus();}},uninitialize:function(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments);}});dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\""+"dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">"+"<td class=\"dijitReset\" waiRole=\"presentation\"><div class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\"></div></td>"+"<td class=\"dijitReset dijitMenuItemLabel\" dojoAttachPoint=\"containerNode\"></td>"+"<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">"+"<div dojoAttachPoint=\"arrowWrapper\" style=\"display: none\">"+"<div class=\"dijitMenuExpand\"></div>"+"<span class=\"dijitMenuExpandA11y\">+</span>"+"</div>"+"</td>"+"</tr>",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",disabled:false,_fillContent:function(_3e9){if(_3e9&&!("label" in this.params)){this.attr("label",_3e9.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text");},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");try{dijit.focus(this.focusNode);}catch(e){}},_blur:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");},setLabel:function(_3ec){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_3ec);},setDisabled:function(_3ed){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_3ed);},_setDisabledAttr:function(_3ee){this.disabled=_3ee;dojo[_3ee?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_3ee?"true":"false");}});dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _3ef=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_3ef[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";dojo.style(this.arrowWrapper,"display","");dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){this.popup.destroyRecursive();delete this.popup;}this.inherited(arguments);}});dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitMenuSeparator\"><td colspan=3>"+"<div class=\"dijitMenuSeparatorTop\"></div>"+"<div class=\"dijitMenuSeparatorBottom\"></div>"+"</td></tr>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\""+"dojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">"+"<td class=\"dijitReset\" waiRole=\"presentation\"><div class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">"+"<div class=\"dijitCheckedMenuItemIconChar\">&#10003;</div>"+"</div></td>"+"<td class=\"dijitReset dijitMenuItemLabel\" dojoAttachPoint=\"containerNode,labelNode\"></td>"+"<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">"+"<div dojoAttachPoint=\"arrowWrapper\" style=\"display: none\">"+"<div class=\"dijitMenuExpand\"></div>"+"<span class=\"dijitMenuExpandA11y\">+</span>"+"</div>"+"</td>"+"</tr>",checked:false,_setCheckedAttr:function(_3f1){dojo.toggleClass(this.iconNode,"dijitCheckedMenuItemIconChecked",_3f1);dijit.setWaiState(this.domNode,"checked",_3f1);this.checked=_3f1;},onChange:function(_3f2){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,baseClass:"dijitStackContainer",_started:false,postCreate:function(){this.inherited(arguments);dijit.setWaiRole(this.containerNode,"tabpanel");this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _3f4=this.getChildren();dojo.forEach(_3f4,this._setupChild,this);dojo.some(_3f4,function(_3f5){if(_3f5.selected){this.selectedChildWidget=_3f5;}return _3f5.selected;},this);var _3f6=this.selectedChildWidget;if(!_3f6&&_3f4[0]){_3f6=this.selectedChildWidget=_3f4[0];_3f6.selected=true;}if(_3f6){this._showChild(_3f6);}dojo.publish(this.id+"-startup",[{children:_3f4,selected:_3f6}]);this.inherited(arguments);},_setupChild:function(_3f7){this.inherited(arguments);_3f7.domNode.style.display="none";_3f7.domNode.style.position="relative";_3f7.domNode.title="";return _3f7;},addChild:function(_3f8,_3f9){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[_3f8,_3f9]);this.layout();if(!this.selectedChildWidget){this.selectChild(_3f8);}}},removeChild:function(page){this.inherited(arguments);if(this._beingDestroyed){return;}if(this._started){dojo.publish(this.id+"-removeChild",[page]);this.layout();}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _3fb=this.getChildren();if(_3fb.length){this.selectChild(_3fb[0]);}}}},selectChild:function(page){page=dijit.byId(page);if(this.selectedChildWidget!=page){this._transition(page,this.selectedChildWidget);this.selectedChildWidget=page;dojo.publish(this.id+"-selectChild",[page]);}},_transition:function(_3fd,_3fe){if(_3fe){this._hideChild(_3fe);}this._showChild(_3fd);if(this.doLayout&&_3fd.resize){_3fd.resize(this._containerContentBox||this._contentBox);}},_adjacent:function(_3ff){var _400=this.getChildren();var _401=dojo.indexOf(_400,this.selectedChildWidget);_401+=_3ff?1:_400.length-1;return _400[_401%_400.length];},forward:function(){this.selectChild(this._adjacent(true));},back:function(){this.selectChild(this._adjacent(false));},_onKeyPress:function(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);},layout:function(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._contentBox);}},_showChild:function(page){var _404=this.getChildren();page.isFirstChild=(page==_404[0]);page.isLastChild=(page==_404[_404.length-1]);page.selected=true;page.domNode.style.display="";if(page._loadCheck){page._loadCheck();}if(page.onShow){page.onShow();}},_hideChild:function(page){page.selected=false;page.domNode.style.display="none";if(page.onHide){page.onHide();}},closeChild:function(page){var _407=page.onClose(this,page);if(_407){this.removeChild(page);page.destroyRecursive();}},destroy:function(){this._beingDestroyed=true;this.inherited(arguments);}});dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.setWaiRole(this.domNode,"tablist");this.pane2button={};this.pane2handles={};this.pane2menu={};this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild"),dojo.subscribe(this.containerId+"-containerKeyPress",this,"onContainerKeyPress")];},onStartup:function(info){dojo.forEach(info.children,this.onAddChild,this);this.onSelectChild(info.selected);},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(pane);}dojo.forEach(this._subscriptions,dojo.unsubscribe);this.inherited(arguments);},onAddChild:function(page,_40b){var _40c=dojo.doc.createElement("span");this.domNode.appendChild(_40c);var cls=dojo.getObject(this.buttonWidget);var _40e=new cls({label:page.title,closeButton:page.closable},_40c);this.addChild(_40e,_40b);this.pane2button[page]=_40e;page.controlButton=_40e;var _40f=[];_40f.push(dojo.connect(_40e,"onClick",dojo.hitch(this,"onButtonClick",page)));if(page.closable){_40f.push(dojo.connect(_40e,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page)));var _410=dojo.i18n.getLocalization("dijit","common");var _411=new dijit.Menu({targetNodeIds:[_40e.id],id:_40e.id+"_Menu"});var _412=new dijit.MenuItem({label:_410.itemClose});_40f.push(dojo.connect(_412,"onClick",dojo.hitch(this,"onCloseButtonClick",page)));_411.addChild(_412);this.pane2menu[page]=_411;}this.pane2handles[page]=_40f;if(!this._currentChild){_40e.focusNode.setAttribute("tabIndex","0");this._currentChild=page;}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}dojo.forEach(this.pane2handles[page],dojo.disconnect);delete this.pane2handles[page];var menu=this.pane2menu[page];if(menu){menu.destroyRecursive();delete this.pane2menu[page];}var _415=this.pane2button[page];if(_415){_415.destroy();delete this.pane2button[page];}},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _417=this.pane2button[this._currentChild];_417.attr("checked",false);_417.focusNode.setAttribute("tabIndex","-1");}var _418=this.pane2button[page];_418.attr("checked",true);this._currentChild=page;_418.focusNode.setAttribute("tabIndex","0");var _419=dijit.byId(this.containerId);dijit.setWaiState(_419.containerNode,"labelledby",_418.id);},onButtonClick:function(page){var _41b=dijit.byId(this.containerId);_41b.selectChild(page);},onCloseButtonClick:function(page){var _41d=dijit.byId(this.containerId);_41d.closeChild(page);var b=this.pane2button[this._currentChild];if(b){dijit.focus(b.focusNode||b.domNode);}},adjacent:function(_41f){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_41f=!_41f;}var _420=this.getChildren();var _421=dojo.indexOf(_420,this.pane2button[this._currentChild]);var _422=_41f?1:_420.length-1;return _420[(_421+_422)%_420.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _424=null;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_424=false;}break;case k.PAGE_UP:if(e.ctrlKey){_424=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_424=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_424=true;}break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}if(_424!==null){this.adjacent(_424).onClick();dojo.stopEvent(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",postCreate:function(evt){dijit.setWaiRole((this.focusNode||this.domNode),"tab");this.inherited(arguments);},onClick:function(evt){dijit.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});dojo.extend(dijit._Widget,{title:"",selected:false,closable:false,onClose:function(){return true;}});}if(!dojo._hasResource["dijit.layout.AccordionContainer"]){dojo._hasResource["dijit.layout.AccordionContainer"]=true;dojo.provide("dijit.layout.AccordionContainer");dojo.declare("dijit.layout.AccordionContainer",dijit.layout.StackContainer,{duration:dijit.defaultDuration,_verticalSpace:0,baseClass:"dijitAccordionContainer",postCreate:function(){this.domNode.style.overflow="hidden";this.inherited(arguments);dijit.setWaiRole(this.domNode,"tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){var _42a=this.selectedChildWidget.containerNode.style;_42a.display="";_42a.overflow="auto";this.selectedChildWidget._setSelectedState(true);}},_getTargetHeight:function(node){var cs=dojo.getComputedStyle(node);return Math.max(this._verticalSpace-dojo._getPadBorderExtents(node,cs).h,0);},layout:function(){var _42d=0;var _42e=this.selectedChildWidget;dojo.forEach(this.getChildren(),function(_42f){_42d+=_42f.getTitleHeight();});var _430=this._contentBox;this._verticalSpace=_430.h-_42d;if(_42e){_42e.containerNode.style.height=this._getTargetHeight(_42e.containerNode)+"px";}},_setupChild:function(page){return page;},_transition:function(_432,_433){if(this._inTransition){return;}this._inTransition=true;var _434=[];var _435=this._verticalSpace;if(_432){_432.setSelected(true);var _436=_432.containerNode;_436.style.display="";_435=this._getTargetHeight(_432.containerNode);_434.push(dojo.animateProperty({node:_436,duration:this.duration,properties:{height:{start:1,end:_435}},onEnd:function(){_436.style.overflow="auto";}}));}if(_433){_433.setSelected(false);var _437=_433.containerNode;_437.style.overflow="hidden";_435=this._getTargetHeight(_433.containerNode);_434.push(dojo.animateProperty({node:_437,duration:this.duration,properties:{height:{start:_435,end:"1"}},onEnd:function(){_437.style.display="none";}}));}this._inTransition=false;dojo.fx.combine(_434).play();},_onKeyPress:function(e){if(this.disabled||e.altKey||!(e._dijitWidget||e.ctrlKey)){return;}var k=dojo.keys;var _43a=e._dijitWidget;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(_43a){this._adjacent(false)._onTitleClick();dojo.stopEvent(e);}break;case k.PAGE_UP:if(e.ctrlKey){this._adjacent(false)._onTitleClick();dojo.stopEvent(e);}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(_43a){this._adjacent(true)._onTitleClick();dojo.stopEvent(e);}break;case k.PAGE_DOWN:if(e.ctrlKey){this._adjacent(true)._onTitleClick();dojo.stopEvent(e);}break;default:if(e.ctrlKey&&e.charOrCode===k.TAB){this._adjacent(e._dijitWidget,!e.shiftKey)._onTitleClick();dojo.stopEvent(e);}}}});dojo.declare("dijit.layout.AccordionPane",[dijit.layout.ContentPane,dijit._Templated,dijit._Contained],{templateString:"<div waiRole=\"presentation\"\n\t><div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='ondijitclick:_onTitleClick,onkeypress:_onTitleKeyPress,onfocus:_handleFocus,onblur:_handleFocus,onmouseenter:_onTitleEnter,onmouseleave:_onTitleLeave'\n\t\tclass='dijitAccordionTitle' wairole=\"tab\" waiState=\"expanded-false\"\n\t\t><span class='dijitInline dijitAccordionArrow' waiRole=\"presentation\"></span\n\t\t><span class='arrowTextUp' waiRole=\"presentation\">+</span\n\t\t><span class='arrowTextDown' waiRole=\"presentation\">-</span\n\t\t><span waiRole=\"presentation\" dojoAttachPoint='titleTextNode' class='dijitAccordionText'></span></div\n\t><div waiRole=\"presentation\"><div dojoAttachPoint='containerNode' style='overflow: hidden; height: 1px; display: none'\n\t\tclass='dijitAccordionBody' wairole=\"tabpanel\"\n\t></div></div>\n</div>\n",attributeMap:dojo.mixin(dojo.clone(dijit.layout.ContentPane.prototype.attributeMap),{title:{node:"titleTextNode",type:"innerHTML"}}),baseClass:"dijitAccordionPane",postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.titleNode,false);this.setSelected(this.selected);dojo.attr(this.titleTextNode,"id",this.domNode.id+"_title");dijit.setWaiState(this.focusNode,"labelledby",dojo.attr(this.titleTextNode,"id"));},getTitleHeight:function(){return dojo.marginBox(this.titleNode).h;},_onTitleClick:function(){var _43b=this.getParent();if(!_43b._inTransition){_43b.selectChild(this);dijit.focus(this.focusNode);}},_onTitleEnter:function(){dojo.addClass(this.focusNode,"dijitAccordionTitle-hover");},_onTitleLeave:function(){dojo.removeClass(this.focusNode,"dijitAccordionTitle-hover");},_onTitleKeyPress:function(evt){evt._dijitWidget=this;return this.getParent()._onKeyPress(evt);},_setSelectedState:function(_43d){this.selected=_43d;dojo[(_43d?"addClass":"removeClass")](this.titleNode,"dijitAccordionTitle-selected");dijit.setWaiState(this.focusNode,"expanded",_43d);this.focusNode.setAttribute("tabIndex",_43d?"0":"-1");},_handleFocus:function(e){dojo[(e.type=="focus"?"addClass":"removeClass")](this.focusNode,"dijitAccordionFocused");},setSelected:function(_43f){this._setSelectedState(_43f);if(_43f){this.onSelected();this._loadCheck();}},onSelected:function(){}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,templateString:null,templateString:"<div class=\"dijitTabContainer\">\n\t<div dojoAttachPoint=\"tablistNode\"></div>\n\t<div dojoAttachPoint=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n",_controllerWidget:"dijit.layout.TabController",postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _440=dojo.getObject(this._controllerWidget);this.tablist=new _440({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout")},this.tablistNode);if(this.tabStrip){dojo.addClass(this.tablist.domNode,this.baseClass+"Strip");}},_setupChild:function(tab){dojo.addClass(tab.domNode,"dijitTabPane");this.inherited(arguments);return tab;},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this.doLayout){return;}var _442=this.tabPosition.replace(/-h/,"");var _443=[{domNode:this.tablist.domNode,layoutAlign:_442},{domNode:this.tablistSpacer,layoutAlign:_442},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_443);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_443[2]);if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);if(this.doLayout&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox);}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:true,buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _444=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_444=Math.max(_444,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_444+"px";}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div waiRole=\"presentation\" dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>\n    <div waiRole=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\n        <div waiRole=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent'>\n\t        <span dojoAttachPoint='containerNode,focusNode' class='tabLabel'>${!label}</span><img class =\"dijitTabButtonSpacer\" src=\"${_blankGif}\" />\n\t        <div class=\"dijitInline closeNode\" dojoAttachPoint='closeNode' dojoAttachEvent='onclick:onClickCloseButton'>\n\t        \t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint='closeButtonNode' class='closeImage' dojoAttachEvent='onmouseenter:_onMouse, onmouseleave:_onMouse' stateModifier='CloseButton' waiRole=\"presentation\"/>\n\t            <span dojoAttachPoint='closeText' class='closeText'>x</span>\n\t        </div>\n        </div>\n    </div>\n</div>\n",postCreate:function(){if(this.closeButton){dojo.addClass(this.innerDiv,"dijitClosable");var _447=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",_447.itemClose);dojo.attr(this.closeButtonNode,"title",_447.itemClose);}}else{this.closeNode.style.display="none";}this.inherited(arguments);dojo.setSelectable(this.containerNode,false);}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.doc.selection){return dojo.doc.selection.type.toLowerCase();}else{var _448="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _44a=oSel.getRangeAt(0);if((_44a.startContainer==_44a.endContainer)&&((_44a.endOffset-_44a.startOffset)==1)&&(_44a.startContainer.nodeType!=3)){_448="control";}}return _448;}},getSelectedText:function(){if(dojo.doc.selection){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _44b=dojo.global.getSelection();if(_44b){return _44b.toString();}}return "";},getSelectedHtml:function(){if(dojo.doc.selection){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _44c=dojo.global.getSelection();if(_44c&&_44c.rangeCount){var frag=_44c.getRangeAt(0).cloneContents();var div=dojo.doc.createElement("div");div.appendChild(frag);return div.innerHTML;}return null;}},getSelectedElement:function(){if(dijit._editor.selection.getType()=="control"){if(dojo.doc.selection){var _44f=dojo.doc.selection.createRange();if(_44f&&_44f.item){return dojo.doc.selection.createRange().item(0);}}else{var _450=dojo.global.getSelection();return _450.anchorNode.childNodes[_450.anchorOffset];}}return null;},getParentElement:function(){if(dijit._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.doc.selection){var r=dojo.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _453=dojo.global.getSelection();if(_453){var node=_453.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function(_455){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function(_456){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _nlc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _tlc=String(tags[i]).toLowerCase();if(_nlc==_tlc){return _tlc;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function(_45f){if(window["getSelection"]){var _460=dojo.global.getSelection();if(_460.removeAllRanges){if(_45f){_460.collapseToStart();}else{_460.collapseToEnd();}}else{_460.collapse(_45f);}}else{if(dojo.doc.selection){var _461=dojo.doc.selection.createRange();_461.collapse(_45f);_461.select();}}},remove:function(){var _s=dojo.doc.selection;if(_s){if(_s.type.toLowerCase()!="none"){_s.clear();}return _s;}else{_s=dojo.global.getSelection();_s.deleteFromDocument();return _s;}},selectElementChildren:function(_463,_464){var _465=dojo.global;var _466=dojo.doc;_463=dojo.byId(_463);if(_466.selection&&dojo.body().createTextRange){var _467=_463.ownerDocument.body.createTextRange();_467.moveToElementText(_463);if(!_464){try{_467.select();}catch(e){}}}else{if(_465.getSelection){var _468=_465.getSelection();if(_468.setBaseAndExtent){_468.setBaseAndExtent(_463,0,_463,_463.innerText.length-1);}else{if(_468.selectAllChildren){_468.selectAllChildren(_463);}}}}},selectElement:function(_469,_46a){var _46b,_46c=dojo.doc;_469=dojo.byId(_469);if(_46c.selection&&dojo.body().createTextRange){try{_46b=dojo.body().createControlRange();_46b.addElement(_469);if(!_46a){_46b.select();}}catch(e){this.selectElementChildren(_469,_46a);}}else{if(dojo.global.getSelection){var _46d=dojo.global.getSelection();if(_46d.removeAllRanges){_46b=_46c.createRange();_46b.selectNode(_469);_46d.removeAllRanges();_46d.addRange(_46b);}}}}});}if(!dojo._hasResource["dijit._editor.range"]){dojo._hasResource["dijit._editor.range"]=true;dojo.provide("dijit._editor.range");dijit.range={};dijit.range.getIndex=function(node,_46f){var ret=[],retR=[];var stop=_46f;var _473=node;var _474,n;while(node!=stop){var i=0;_474=node.parentNode;while((n=_474.childNodes[i++])){if(n===node){--i;break;}}if(i>=_474.childNodes.length){dojo.debug("Error finding index of a node in dijit.range.getIndex");}ret.unshift(i);retR.unshift(i-_474.childNodes.length);node=_474;}if(ret.length>0&&_473.nodeType==3){n=_473.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_473.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};dijit.range.getNode=function(_477,_478){if(!dojo.isArray(_477)||_477.length==0){return _478;}var node=_478;dojo.every(_477,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;console.debug("Error: can not find node with index",_477,"under parent node",_478);return false;}return true;});return node;};dijit.range.getCommonAncestor=function(n1,n2){var _47d=function(n){var as=[];while(n){as.unshift(n);if(n.nodeName!="BODY"){n=n.parentNode;}else{break;}}return as;};var n1as=_47d(n1);var n2as=_47d(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};dijit.range.getAncestor=function(node,_486,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_486.test(name)){return node;}node=node.parentNode;}return null;};dijit.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;dijit.range.getBlockAncestor=function(node,_48a,root){root=root||node.ownerDocument.body;_48a=_48a||dijit.range.BlockTagNames;var _48c=null,_48d;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_48c&&_48a.test(name)){_48c=node;}if(!_48d&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_48d=node;}node=node.parentNode;}return {blockNode:_48c,blockContainer:_48d||node.ownerDocument.body};};dijit.range.atBeginningOfContainer=function(_48f,node,_491){var _492=false;var _493=(_491==0);if(!_493&&node.nodeType==3){if(dojo.trim(node.nodeValue.substr(0,_491))==0){_493=true;}}if(_493){var _494=node;_492=true;while(_494&&_494!==_48f){if(_494.previousSibling){_492=false;break;}_494=_494.parentNode;}}return _492;};dijit.range.atEndOfContainer=function(_495,node,_497){var _498=false;var _499=(_497==(node.length||node.childNodes.length));if(!_499&&node.nodeType==3){if(dojo.trim(node.nodeValue.substr(_497))==0){_499=true;}}if(_499){var _49a=node;_498=true;while(_49a&&_49a!==_495){if(_49a.nextSibling){_498=false;break;}_49a=_49a.parentNode;}}return _498;};dijit.range.adjacentNoneTextNode=function(_49b,next){var node=_49b;var len=(0-_49b.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};dijit.range._w3c=Boolean(window["getSelection"]);dijit.range.create=function(){if(dijit.range._w3c){return dojo.doc.createRange();}else{return new dijit.range.W3CRange;}};dijit.range.getSelection=function(win,_4a1){if(dijit.range._w3c){return win.getSelection();}else{var s=new dijit.range.ie.selection(win);if(!_4a1){s._getCurrentSelection();}return s;}};if(!dijit.range._w3c){dijit.range.ie={cachedSelection:{},selection:function(win){this._ranges=[];this.addRange=function(r,_4a5){this._ranges.push(r);if(!_4a5){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _4a6=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new dijit.range.W3CRange(dijit.range.ie.decomposeControlRange(r));}else{return new dijit.range.W3CRange(dijit.range.ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_4a6();if(r){this.addRange(r,true);}};},decomposeControlRange:function(_4ab){var _4ac=_4ab.item(0),_4ad=_4ab.item(_4ab.length-1);var _4ae=_4ac.parentNode,_4af=_4ad.parentNode;var _4b0=dijit.range.getIndex(_4ac,_4ae).o;var _4b1=dijit.range.getIndex(_4ad,_4af).o+1;return [[_4ae,_4b0],[_4af,_4b1]];},getEndPoint:function(_4b2,end){var _4b4=_4b2.duplicate();_4b4.collapse(!end);var _4b5="EndTo"+(end?"End":"Start");var _4b6=_4b4.parentElement();var _4b7,_4b8,_4b9;if(_4b6.childNodes.length>0){dojo.every(_4b6.childNodes,function(node,i){var _4bc;if(node.nodeType!=3){_4b4.moveToElementText(node);if(_4b4.compareEndPoints(_4b5,_4b2)>0){_4b7=node.previousSibling;if(_4b9&&_4b9.nodeType==3){_4b7=_4b9;_4bc=true;}else{_4b7=_4b6;_4b8=i;return false;}}else{if(i==_4b6.childNodes.length-1){_4b7=_4b6;_4b8=_4b6.childNodes.length;return false;}}}else{if(i==_4b6.childNodes.length-1){_4b7=node;_4bc=true;}}if(_4bc&&_4b7){var _4bd=dijit.range.adjacentNoneTextNode(_4b7)[0];if(_4bd){_4b7=_4bd.nextSibling;}else{_4b7=_4b6.firstChild;}var _4be=dijit.range.adjacentNoneTextNode(_4b7);_4bd=_4be[0];var _4bf=_4be[1];if(_4bd){_4b4.moveToElementText(_4bd);_4b4.collapse(false);}else{_4b4.moveToElementText(_4b6);}_4b4.setEndPoint(_4b5,_4b2);_4b8=_4b4.text.length-_4bf;return false;}_4b9=node;return true;});}else{_4b7=_4b6;_4b8=0;}if(!end&&_4b7.nodeType!=3&&_4b8==_4b7.childNodes.length){if(_4b7.nextSibling&&_4b7.nextSibling.nodeType==3){_4b7=_4b7.nextSibling;_4b8=0;}}return [_4b7,_4b8];},setEndPoint:function(_4c0,_4c1,_4c2){var _4c3=_4c0.duplicate(),node,len;if(_4c1.nodeType!=3){_4c3.moveToElementText(_4c1);_4c3.collapse(true);if(_4c2==_4c1.childNodes.length){if(_4c2>0){node=_4c1.lastChild;len=0;while(node&&node.nodeType==3){len+=node.length;_4c1=node;node=node.previousSibling;}if(node){_4c3.moveToElementText(node);}_4c3.collapse(false);_4c2=len;}else{_4c3.moveToElementText(_4c1);_4c3.collapse(true);}}else{if(_4c2>0){node=_4c1.childNodes[_4c2-1];if(node.nodeType==3){_4c1=node;_4c2=node.length;}else{_4c3.moveToElementText(node);_4c3.collapse(false);}}}}if(_4c1.nodeType==3){var _4c6=dijit.range.adjacentNoneTextNode(_4c1);var _4c7=_4c6[0];len=_4c6[1];if(_4c7){_4c3.moveToElementText(_4c7);_4c3.collapse(false);if(_4c7.contentEditable!="inherit"){len++;}}else{_4c3.moveToElementText(_4c1.parentNode);_4c3.collapse(true);}_4c2+=len;if(_4c2>0){if(_4c3.move("character",_4c2)!=_4c2){console.error("Error when moving!");}}}return _4c3;},decomposeTextRange:function(_4c8){var _4c9=dijit.range.ie.getEndPoint(_4c8);var _4ca=_4c9[0],_4cb=_4c9[1];var _4cc=_4c9[0],_4cd=_4c9[1];if(_4c8.htmlText.length){if(_4c8.htmlText==_4c8.text){_4cd=_4cb+_4c8.text.length;}else{_4c9=dijit.range.ie.getEndPoint(_4c8,true);_4cc=_4c9[0],_4cd=_4c9[1];}}return [[_4ca,_4cb],[_4cc,_4cd]];},setRange:function(_4ce,_4cf,_4d0,_4d1,_4d2,_4d3){var _4d4=dijit.range.ie.setEndPoint(_4ce,_4cf,_4d0);_4ce.setEndPoint("StartToStart",_4d4);var _4d5=_4d4;if(!_4d3){_4d5=dijit.range.ie.setEndPoint(_4ce,_4d1,_4d2);}_4ce.setEndPoint("EndToEnd",_4d5);return _4ce;}};dojo.declare("dijit.range.W3CRange",null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0][0],arguments[0][0][1]);this.setEnd(arguments[0][1][0],arguments[0][1][1]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_simpleSetEndPoint:function(node,_4d7,end){var r=(this._body||node.ownerDocument.body).createTextRange();if(node.nodeType!=1){r.moveToElementText(node.parentNode);}else{r.moveToElementText(node);}r.collapse(true);_4d7.setEndPoint(end?"EndToEnd":"StartToStart",r);},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=dijit.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_4db){_4db=parseInt(_4db);if(this.startContainer===node&&this.startOffset==_4db){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_4db;if(!this.endContainer){this.setEnd(node,_4db);}else{this._updateInternal();}},setEnd:function(node,_4dd){_4dd=parseInt(_4dd);if(this.endContainer===node&&this.endOffset==_4dd){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_4dd;if(!this.startContainer){this.setStart(node,_4dd);}else{this._updateInternal();}},setStartAfter:function(node,_4df){this._setPoint("setStart",node,_4df,1);},setStartBefore:function(node,_4e1){this._setPoint("setStart",node,_4e1,0);},setEndAfter:function(node,_4e3){this._setPoint("setEnd",node,_4e3,1);},setEndBefore:function(node,_4e5){this._setPoint("setEnd",node,_4e5,0);},_setPoint:function(what,node,_4e8,ext){var _4ea=dijit.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_4ea.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();dijit.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(body){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var r=this._getIERange();r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new dijit.range.W3CRange([[this.startContainer,this.startOffset],[this.endContainer,this.endOffset]]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}}if(!dojo._hasResource["dijit._editor.html"]){dojo._hasResource["dijit._editor.html"]=true;dojo.provide("dijit._editor.html");dijit._editor.escapeXml=function(str,_4f1){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_4f1){str=str.replace(/'/gm,"&#39;");}return str;};dijit._editor.getNodeHtml=function(node){var _4f3;switch(node.nodeType){case 1:_4f3="<"+node.nodeName.toLowerCase();var _4f4=[];if(dojo.isIE&&node.outerHTML){var s=node.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/([^\s=]+)=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_4f4.push([key,node.getAttribute("_djrealurl")]);continue;}}var val;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;default:val=node.getAttribute(key);}_4f4.push([key,val.toString()]);}}}else{var attr,i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!="_dj"){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_4f4.push([n,v]);}}}_4f4.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_4f4[j++])){_4f3+=" "+attr[0]+"=\""+(dojo.isString(attr[1])?dijit._editor.escapeXml(attr[1],true):attr[1])+"\"";}if(node.childNodes.length){_4f3+=">"+dijit._editor.getChildrenHtml(node)+"</"+node.nodeName.toLowerCase()+">";}else{_4f3+=" />";}break;case 3:_4f3=dijit._editor.escapeXml(node.nodeValue,true);break;case 8:_4f3="<!--"+dijit._editor.escapeXml(node.nodeValue,true)+"-->";break;default:_4f3="<!-- Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName+"-->";}return _4f3;};dijit._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _503=dom["childNodes"]||dom;var node,i=0;while((node=_503[i++])){out+=dijit._editor.getNodeHtml(node);}return out;};}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"]){if(dojo._postLoad){(function(){var _506=dojo.doc.createElement("textarea");_506.id=dijit._scopeName+"._editor.RichText.savedContent";var s=_506.style;s.display="none";s.position="absolute";s.top="-100px";s.left="-100px";s.height="3px";s.width="3px";dojo.body().appendChild(_506);})();}else{try{dojo.doc.write("<textarea id=\""+dijit._scopeName+"._editor.RichText.savedContent\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",dijit._Widget,{constructor:function(_508){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this._keyHandlers={};this.contentPreFilters.push(dojo.hitch(this,"_preFixUrlAttributes"));if(dojo.isMoz){this.contentPreFilters.push(this._fixContentForMoz);this.contentPostFilters.push(this._removeMozBogus);}if(dojo.isSafari){this.contentPostFilters.push(this._removeSafariBogus);}this.onLoadDeferred=new dojo.Deferred();},inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",_content:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",onLoadDeferred:null,isTabIndent:false,postCreate:function(){if("textarea"==this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}dojo.publish(dijit._scopeName+"._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=dojo.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _50c={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!dojo.isIE){_50c.Z=exec("redo");}for(var key in _50c){this.addKeyHandler(key,true,false,_50c[key]);}},events:["onKeyPress","onKeyDown","onKeyUp","onClick"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(this._editorCommandsLocalized){return;}this._editorCommandsLocalized=true;var _50e=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _50f="",_510,i=0;while((_510=_50e[i++])){if(_510.charAt(1)!="l"){_50f+="<"+_510+"><span>content</span></"+_510+"><br/>";}else{_50f+="<"+_510+"><li>content</li></"+_510+"><br/>";}}var div=dojo.doc.createElement("div");dojo.style(div,{position:"absolute",left:"-2000px",top:"-2000px"});dojo.doc.body.appendChild(div);div.innerHTML=_50f;var node=div.firstChild;while(node){dijit._editor.selection.selectElement(node.firstChild);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[node.firstChild]);var _514=node.tagName.toLowerCase();this._local2NativeFormatNames[_514]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_514]]=_514;node=node.nextSibling.nextSibling;}dojo.body().removeChild(div);},open:function(_515){if((!this.onLoadDeferred)||(this.onLoadDeferred.fired>=0)){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish(dijit._scopeName+"._editor.RichText::open",[this]);this._content="";if((arguments.length==1)&&(_515["nodeName"])){this.domNode=_515;}var dn=this.domNode;var html;if((dn["nodeName"])&&(dn.nodeName.toLowerCase()=="textarea")){var ta=this.textarea=dn;this.name=ta.name;html=this._preFilterContent(ta.value);dn=this.domNode=dojo.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;dojo.place(dn,ta,"before");var _519=dojo.hitch(this,function(){with(ta.style){display="block";position="absolute";left=top="-1000px";if(dojo.isIE){this.__overflow=overflow;overflow="hidden";}}});if(dojo.isIE){setTimeout(_519,10);}else{_519();}if(ta.form){dojo.connect(ta.form,"onsubmit",this,function(){ta.value=this.getValue();});}}else{html=this._preFilterContent(dijit._editor.getChildrenHtml(dn));dn.innerHTML="";}if(html==""){html="&nbsp;";}var _51a=dojo.contentBox(dn);this._oldHeight=_51a.h;this._oldWidth=_51a.w;this.savedContent=html;if((dn["nodeName"])&&(dn.nodeName=="LI")){dn.innerHTML=" <br>";}this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);if(this.name!=""&&(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"])){var _51b=dojo.byId(dijit._scopeName+"._editor.RichText.savedContent");if(_51b.value!=""){var _51c=_51b.value.split(this._SEPARATOR),i=0,dat;while((dat=_51c[i++])){var data=dat.split(":");if(data[0]==this.name){html=data[1];_51c.splice(i,1);break;}}}this.connect(window,"onbeforeunload","_saveContent");}this.isClosed=false;if(dojo.isIE||dojo.isSafari||dojo.isOpera){var burl=dojo.moduleUrl("dojo","resources/blank.html")+"";var ifr=this.editorObject=this.iframe=dojo.doc.createElement("iframe");ifr.id=this.id+"_iframe";ifr.src=burl;ifr.style.border="none";ifr.style.width="100%";ifr.frameBorder=0;this.editingArea.appendChild(ifr);var h=null;var _523=dojo.hitch(this,function(){if(h){dojo.disconnect(h);h=null;}this.window=ifr.contentWindow;var d=this.document=this.window.document;d.open();d.write(this._getIframeDocTxt(html));d.close();if(this._layoutMode){ifr.style.height="100%";}else{if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}if(dojo.isIE){this._localizeEditorCommands();}this.onLoad();this.savedContent=this.getValue(true);});if(dojo.isIE&&dojo.isIE<=7){var t=setInterval(function(){if(ifr.contentWindow.isLoaded){clearInterval(t);_523();}},100);}else{h=dojo.connect(((dojo.isIE)?ifr.contentWindow:ifr),"onload",_523);}}else{this._drawIframe(html);this.savedContent=this.getValue(true);}if(dn.nodeName=="LI"){dn.lastChild.style.marginTop="-1.2em";}if(this.domNode.nodeName=="LI"){this.domNode.lastChild.style.marginTop="-1.2em";}dojo.addClass(this.domNode,"RichTextEditable");},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_localizedIframeTitles:null,_getIframeDocTxt:function(html){var _cs=dojo.getComputedStyle(this.domNode);if(dojo.isIE||(!this.height&&!dojo.isMoz)){html="<div>"+html+"</div>";}var font=[_cs.fontWeight,_cs.fontSize,_cs.fontFamily].join(" ");var _529=_cs.lineHeight;if(_529.indexOf("px")>=0){_529=parseFloat(_529)/parseFloat(_cs.fontSize);}else{if(_529.indexOf("em")>=0){_529=parseFloat(_529);}else{_529="1.0";}}var _52a="";this.style.replace(/(^|;)(line-|font-?)[^;]+/g,function(_52b){_52a+=_52b.replace(/^;/g,"")+";";});return [this.isLeftToRight()?"<html><head>":"<html dir='rtl'><head>",(dojo.isMoz?"<title>"+this._localizedIframeTitles.iframeEditTitle+"</title>":""),"<style>","body,html {","\tbackground:transparent;","\tpadding: 1em 0 0 0;","\tmargin: -1em 0 0 0;","\theight: 100%;","}","body{","\ttop:0px; left:0px; right:0px;","\tfont:",font,";",((this.height||dojo.isOpera)?"":"position: fixed;"),"\tmin-height:",this.minHeight,";","\tline-height:",_529,"}","p{ margin: 1em 0 !important; }",(this.height?"":"body,html{height:auto;overflow-y:hidden;/*for IE*/} body > div {overflow-x:auto;/*for FF to show vertical scrollbar*/}"),"li > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; } ","li{ min-height:1.2em; }","</style>",this._applyEditingAreaStyleSheets(),"</head><body style='"+_52a+"'>"+html+"</body></html>"].join("");},_drawIframe:function(html){if(!this.iframe){var ifr=this.iframe=dojo.doc.createElement("iframe");ifr.id=this.id+"_iframe";var ifrs=ifr.style;ifrs.border="none";ifrs.lineHeight="0";ifrs.verticalAlign="bottom";this.editorObject=this.iframe;this._localizedIframeTitles=dojo.i18n.getLocalization("dijit.form","Textarea");var _52f=dojo.query("label[for=\""+this.id+"\"]");if(_52f.length){this._localizedIframeTitles.iframeEditTitle=_52f[0].innerHTML+" "+this._localizedIframeTitles.iframeEditTitle;}}this.iframe.style.width=this.inheritWidth?this._oldWidth:"100%";if(this._layoutMode){this.iframe.style.height="100%";}else{if(this.height){this.iframe.style.height=this.height;}else{this.iframe.height=this._oldHeight;}}var _530;if(this.textarea){_530=this.srcNodeRef;}else{_530=dojo.doc.createElement("div");_530.style.display="none";_530.innerHTML=html;this.editingArea.appendChild(_530);}this.editingArea.appendChild(this.iframe);var _531=dojo.hitch(this,function(){if(!this.editNode){if(!this.document){try{if(this.iframe.contentWindow){this.window=this.iframe.contentWindow;this.document=this.iframe.contentWindow.document;}else{if(this.iframe.contentDocument){this.window=this.iframe.contentDocument.window;this.document=this.iframe.contentDocument;}}}catch(e){}if(!this.document){setTimeout(_531,50);return;}var _532=this.document;_532.open();if(dojo.isAIR){_532.body.innerHTML=html;}else{_532.write(this._getIframeDocTxt(html));}_532.close();dojo._destroyElement(_530);}if(!this.document.body){setTimeout(_531,50);return;}this.onLoad();}else{dojo._destroyElement(_530);this.editNode.innerHTML=html;this.onDisplayChanged();}this._preDomFilterContent(this.editNode);});_531();},_applyEditingAreaStyleSheets:function(){var _533=[];if(this.styleSheets){_533=this.styleSheets.split(";");this.styleSheets="";}_533=_533.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_533[i++])){var _537=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_537);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_537+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _53b=this.document.createElement("link");with(_53b){rel="stylesheet";type="text/css";href=url;}head.appendChild(_53b);}},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _53e=dojo.indexOf(this.editingAreaStyleSheets,url);if(_53e==-1){return;}delete this.editingAreaStyleSheets[_53e];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:true,_mozSettingProps:["styleWithCSS","insertBrOnReturn"],_setDisabledAttr:function(_53f){if(!this.editNode||"_delayedDisabled" in this){this._delayedDisabled=_53f;return;}_53f=Boolean(_53f);if(dojo.isIE||dojo.isSafari||dojo.isOpera){var _540=dojo.isIE&&(this.isLoaded||!this.focusOnLoad);if(_540){this.editNode.unselectable="on";}this.editNode.contentEditable=!_53f;if(_540){var _541=this;setTimeout(function(){_541.editNode.unselectable="off";},0);}}else{if(_53f){this._mozSettings=[false,this.blockNodeForEnter==="BR"];}this.document.designMode=(_53f?"off":"on");if(!_53f&&this._mozSettingProps){var ps=this._mozSettingProps;for(var n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e){}}}}}this.disabled=_53f;},_isResized:function(){return false;},onLoad:function(e){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;dijit.registerWin(this.window);}if(!dojo.isIE&&(this.height||dojo.isMoz)){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _545=this;if(dojo.isIE){var _546=this.tabStop=dojo.doc.createElement("<div tabIndex=-1>");this.editingArea.appendChild(_546);this.iframe.onfocus=function(){_545.editNode.setActive();};}}this.focusNode=this.editNode;try{this.attr("disabled",false);}catch(e){var _547=dojo.connect(this,"onClick",this,function(){this.attr("disabled",false);dojo.disconnect(_547);});}this._preDomFilterContent(this.editNode);var _548=this.events.concat(this.captureEvents);var ap=(this.iframe)?this.document:this.editNode;dojo.forEach(_548,function(item){this.connect(ap,item.toLowerCase(),item);},this);if(dojo.isIE){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}if(this.focusOnLoad){dojo.addOnLoad(dojo.hitch(this,"focus"));}this.onDisplayChanged(e);if("_delayedDisabled" in this){var d=this._delayedDisabled;delete this._delayedDisabled;this.attr("disabled",d);}this.isLoaded=true;if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},onKeyDown:function(e){if(e.keyCode===dojo.keys.TAB&&this.isTabIndent){dojo.stopEvent(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(dojo.isIE){if(e.keyCode==dojo.keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}else{if(dojo.isMoz&&!this.isTabIndent){if(e.keyCode==dojo.keys.TAB&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&this.iframe){var _54d=dojo.isFF<3?this.iframe.contentDocument:this.iframe;_54d.title=this._localizedIframeTitles.iframeFocusTitle;this.iframe.focus();dojo.stopEvent(e);}else{if(e.keyCode==dojo.keys.TAB&&e.shiftKey){if(this.toolbar){this.toolbar.focus();}dojo.stopEvent(e);}}}}return true;},onKeyUp:function(e){return;},setDisabled:function(_54f){dojo.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.attr("disabled",_54f);},_setValueAttr:function(_550){this.setValue(_550);},onKeyPress:function(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode;var _553=this._keyHandlers[c];var args=arguments;if(_553){dojo.forEach(_553,function(h){if((!!h.shift==!!e.shiftKey)&&(!!h.ctrl==!!e.ctrlKey)){if(!h.handler.apply(this,args)){e.preventDefault();}}},this);}if(!this._onKeyHitch){this._onKeyHitch=dojo.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function(key,ctrl,_558,_559){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_558||false,ctrl:ctrl||false,handler:_559});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(e){if(!this._focused&&!this.disabled){this.focus();}},_onBlur:function(e){this.inherited(arguments);var _c=this.getValue(true);if(_c!=this.savedContent){this.onChange(_c);this.savedContent=_c;}if(dojo.isMoz&&this.iframe){var _55e=dojo.isFF<3?this.iframe.contentDocument:this.iframe;_55e.title=this._localizedIframeTitles.iframeEditTitle;}},_initialFocus:true,_onFocus:function(e){if(dojo.isMoz&&this._initialFocus){this._initialFocus=false;if(this.editNode.innerHTML.replace(/^\s+|\s+$/g,"")=="&nbsp;"){this.placeCursorAtStart();}}this.inherited(arguments);},blur:function(){if(!dojo.isIE&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(dojo.doc.body.focus){dojo.doc.body.focus();}}},focus:function(){if(!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(e){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=dojo.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(_561){},_normalizeCommand:function(cmd){var _563=cmd.toLowerCase();if(_563=="formatblock"){if(dojo.isSafari){_563="heading";}}else{if(_563=="hilitecolor"&&!dojo.isMoz){_563="backcolor";}}return _563;},_qcaCache:{},queryCommandAvailable:function(_564){var ca=this._qcaCache[_564];if(ca!=undefined){return ca;}return this._qcaCache[_564]=this._queryCommandAvailable(_564);},_queryCommandAvailable:function(_566){var ie=1;var _568=1<<1;var _569=1<<2;var _56a=1<<3;var _56b=1<<4;var _56c=dojo.isSafari;function isSupportedBy(_56d){return {ie:Boolean(_56d&ie),mozilla:Boolean(_56d&_568),safari:Boolean(_56d&_569),safari420:Boolean(_56d&_56b),opera:Boolean(_56d&_56a)};};var _56e=null;switch(_566.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_56e=isSupportedBy(_568|ie|_569|_56a);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_56e=isSupportedBy(_568|ie|_56a|_56b);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_56e=isSupportedBy(ie);break;case "cut":case "copy":case "paste":_56e=isSupportedBy(ie|_568|_56b);break;case "inserttable":_56e=isSupportedBy(_568|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_56e=isSupportedBy(ie|_568);break;default:return false;}return (dojo.isIE&&_56e.ie)||(dojo.isMoz&&_56e.mozilla)||(dojo.isSafari&&_56e.safari)||(_56c&&_56e.safari420)||(dojo.isOpera&&_56e.opera);},execCommand:function(_56f,_570){var _571;this.focus();_56f=this._normalizeCommand(_56f);if(_570!=undefined){if(_56f=="heading"){throw new Error("unimplemented");}else{if((_56f=="formatblock")&&dojo.isIE){_570="<"+_570+">";}}}if(_56f=="inserthtml"){_570=this._preFilterContent(_570);_571=true;if(dojo.isIE){var _572=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()=="CONTROL"){var n=_572.item(0);while(_572.length){_572.remove(_572.item(0));}n.outerHTML=_570;}else{_572.pasteHTML(_570);}_572.select();}else{if(dojo.isMoz&&!_570.length){this._sCall("remove");}else{_571=this.document.execCommand(_56f,false,_570);}}}else{if((_56f=="unlink")&&(this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isSafari)){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);_571=this.document.execCommand("unlink",false,null);}else{if((_56f=="hilitecolor")&&(dojo.isMoz)){this.document.execCommand("styleWithCSS",false,true);_571=this.document.execCommand(_56f,false,_570);this.document.execCommand("styleWithCSS",false,false);}else{if((dojo.isIE)&&((_56f=="backcolor")||(_56f=="forecolor"))){_570=arguments.length>1?_570:null;_571=this.document.execCommand(_56f,false,_570);}else{_570=arguments.length>1?_570:null;console.debug("execCommand:",_56f,_570);if(_570||_56f!="createlink"){_571=this.document.execCommand(_56f,false,_570);}}}}}this.onDisplayChanged();return _571;},queryCommandEnabled:function(_575){if(this.disabled){return false;}_575=this._normalizeCommand(_575);if(dojo.isMoz||dojo.isSafari){if(_575=="unlink"){this._sCall("hasAncestorElement",["a"]);}else{if(_575=="inserttable"){return true;}}}if(dojo.isSafari){if(_575=="copy"){_575="cut";}else{if(_575=="paste"){return true;}}}if(_575=="indent"){var li=this._sCall("getAncestorElement",["li"]);var n=li&&li.previousSibling;while(n){if(n.nodeType==1){return true;}n=n.previousSibling;}return false;}else{if(_575=="outdent"){return this._sCall("hasAncestorElement",["li"]);}}var elem=dojo.isIE?this.document.selection.createRange():this.document;return elem.queryCommandEnabled(_575);},queryCommandState:function(_579){if(this.disabled){return false;}_579=this._normalizeCommand(_579);return this.document.queryCommandState(_579);},queryCommandValue:function(_57a){if(this.disabled){return false;}var r;_57a=this._normalizeCommand(_57a);if(dojo.isIE&&_57a=="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_57a)];}else{r=this.document.queryCommandValue(_57a);}return r;},_sCall:function(name,args){return dojo.withGlobal(this.window,name,dijit._editor.selection,args);},placeCursorAtStart:function(){this.focus();var _57e=false;if(dojo.isMoz){var _57f=this.editNode.firstChild;while(_57f){if(_57f.nodeType==3){if(_57f.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_57e=true;this._sCall("selectElement",[_57f]);break;}}else{if(_57f.nodeType==1){_57e=true;this._sCall("selectElementChildren",[_57f]);break;}}_57f=_57f.nextSibling;}}else{_57e=true;this._sCall("selectElementChildren",[this.editNode]);}if(_57e){this._sCall("collapse",[true]);}},placeCursorAtEnd:function(){this.focus();var _580=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_580=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType==1){_580=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_580=true;this._sCall("selectElementChildren",[this.editNode]);}if(_580){this._sCall("collapse",[false]);}},getValue:function(_582){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_582);},_getValueAttr:function(){return this.getValue();},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.setValue(html);}));return;}if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(dojo.isMoz&&!html){html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}},_preFilterContent:function(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_58c){var ec;if(!dojo.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_58c){dom=dojo.clone(dom);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=dijit._editor.getChildrenHtml(dom);}else{ec=dom;}if(!dojo.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(e){var _591=dojo.byId(dijit._scopeName+"._editor.RichText.savedContent");_591.value+=this._SEPARATOR+this.name+":"+this.getValue();},escapeXml:function(str,_593){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_593){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){dojo.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit._editor.getNodeHtml instead",2);return dijit._editor.getNodeHtml(node);},getNodeChildrenHtml:function(dom){dojo.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit._editor.getChildrenHtml instead",2);return dijit._editor.getChildrenHtml(dom);},close:function(save,_597){if(this.isClosed){return false;}if(!arguments.length){save=true;}this._content=this.getValue();var _598=(this.savedContent!=this._content);if(this.interval){clearInterval(this.interval);}if(this.textarea){with(this.textarea.style){position="";left=top="";if(dojo.isIE){overflow=this.__overflow;this.__overflow=null;}}this.textarea.value=save?this._content:this.savedContent;dojo._destroyElement(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=save?this._content:this.savedContent;}dojo.removeClass(this.domNode,"RichTextEditable");this.isClosed=true;this.isLoaded=false;delete this.editNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;return _598;},destroyRendering:function(){},destroy:function(){this.destroyRendering();if(!this.isClosed){this.close(false);}this.inherited("destroy",arguments);},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"");},_removeSafariBogus:function(html){return html.replace(/\sclass="webkit-block-placeholder"/gi,"");},_fixContentForMoz:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit dijitToolbar\" waiRole=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",tabIndex:"0",postCreate:function(){this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\"></div>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function(args,node){if(args){dojo.mixin(this,args);}this._connects=[];},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,queryCommand:null,command:"",commandArg:null,useDefaultCommand:true,buttonClass:dijit.form.Button,getLabel:function(key){return this.editor.commands[key];},_initButton:function(_5a0){if(this.command.length){var _5a1=this.getLabel(this.command);var _5a2=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){_5a0=dojo.mixin({label:_5a1,showLabel:false,iconClass:_5a2,dropDown:this.dropDown,tabIndex:"-1"},_5a0||{});this.button=new this.buttonClass(_5a0);}}},destroy:function(f){dojo.forEach(this._connects,dojo.disconnect);},connect:function(o,f,tf){this._connects.push(dojo.connect(o,f,this,tf));},updateState:function(){var _e=this.editor;var _c=this.command;if(!_e){return;}if(!_e.isLoaded){return;}if(!_c.length){return;}if(this.button){try{var _5a9=_e.queryCommandEnabled(_c);if(this.enabled!==_5a9){this.enabled=_5a9;this.button.attr("disabled",!_5a9);}if(typeof this.button.checked=="boolean"){var _5aa=_e.queryCommandState(_c);if(this.checked!==_5aa){this.checked=_5aa;this.button.attr("checked",_e.queryCommandState(_c));}}}catch(e){console.debug(e);}}},setEditor:function(_5ab){this.editor=_5ab;this._initButton();if(this.command.length&&!this.editor.queryCommandAvailable(this.command)){if(this.button){this.button.domNode.style.display="none";}}if(this.button&&this.useDefaultCommand){this.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function(_5ac){if(this.button){_5ac.addChild(this.button);}}});}if(!dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]){dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]=true;dojo.provide("dijit._editor.plugins.EnterKeyHandling");dojo.declare("dijit._editor.plugins.EnterKeyHandling",dijit._editor._Plugin,{blockNodeForEnter:"BR",constructor:function(args){if(args){dojo.mixin(this,args);}},setEditor:function(_5ae){this.editor=_5ae;if(this.blockNodeForEnter=="BR"){if(dojo.isIE){_5ae.contentDomPreFilters.push(dojo.hitch(this,"regularPsToSingleLinePs"));_5ae.contentDomPostFilters.push(dojo.hitch(this,"singleLinePsToRegularPs"));_5ae.onLoadDeferred.addCallback(dojo.hitch(this,"_fixNewLineBehaviorForIE"));}else{_5ae.onLoadDeferred.addCallback(dojo.hitch(this,function(d){try{this.editor.document.execCommand("insertBrOnReturn",false,true);}catch(e){}return d;}));}}else{if(this.blockNodeForEnter){dojo["require"]("dijit._editor.range");var h=dojo.hitch(this,this.handleEnterKey);_5ae.addKeyHandler(13,0,0,h);_5ae.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},connect:function(o,f,tf){if(!this._connects){this._connects=[];}this._connects.push(dojo.connect(o,f,this,tf));},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);this._connects=[];},onKeyPressed:function(e){if(this._checkListLater){if(dojo.withGlobal(this.editor.window,"isCollapsed",dijit)){var _5b5=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,["LI"]);if(!_5b5){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _5b6=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]);if(_5b6){_5b6.innerHTML=this.bogusHtmlContent;if(dojo.isIE){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{alert("onKeyPressed: Can not find the new block node");}}else{if(dojo.isMoz){if(_5b5.parentNode.parentNode.nodeName=="LI"){_5b5=_5b5.parentNode.parentNode;}}var fc=_5b5.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_5b5.insertBefore(fc.ownerDocument.createTextNode(" "),fc);var _5b9=dijit.range.create();_5b9.setStart(_5b5.firstChild,0);var _5ba=dijit.range.getSelection(this.editor.window,true);_5ba.removeAllRanges();_5ba.addRange(_5b9);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&nbsp;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){if(!this.blockNodeForEnter){return true;}var _5bc,_5bd,_5be,doc=this.editor.document,br;if(e.shiftKey||this.blockNodeForEnter=="BR"){var _5c1=dojo.withGlobal(this.editor.window,"getParentElement",dijit._editor.selection);var _5c2=dijit.range.getAncestor(_5c1,this.blockNodes);if(_5c2){if(!e.shiftKey&&_5c2.tagName=="LI"){return true;}_5bc=dijit.range.getSelection(this.editor.window);_5bd=_5bc.getRangeAt(0);if(!_5bd.collapsed){_5bd.deleteContents();}if(dijit.range.atBeginningOfContainer(_5c2,_5bd.startContainer,_5bd.startOffset)){if(e.shiftKey){br=doc.createElement("br");_5be=dijit.range.create();_5c2.insertBefore(br,_5c2.firstChild);_5be.setStartBefore(br.nextSibling);_5bc.removeAllRanges();_5bc.addRange(_5be);}else{dojo.place(br,_5c2,"before");}}else{if(dijit.range.atEndOfContainer(_5c2,_5bd.startContainer,_5bd.startOffset)){_5be=dijit.range.create();br=doc.createElement("br");if(e.shiftKey){_5c2.appendChild(br);_5c2.appendChild(doc.createTextNode(" "));_5be.setStart(_5c2.lastChild,0);}else{dojo.place(br,_5c2,"after");_5be.setStartAfter(_5c2);}_5bc.removeAllRanges();_5bc.addRange(_5be);}else{return true;}}}else{dijit._editor.RichText.prototype.execCommand.call(this.editor,"inserthtml","<br>");}return false;}var _5c3=true;_5bc=dijit.range.getSelection(this.editor.window);_5bd=_5bc.getRangeAt(0);if(!_5bd.collapsed){_5bd.deleteContents();}var _5c4=dijit.range.getBlockAncestor(_5bd.endContainer,null,this.editor.editNode);var _5c5=_5c4.blockNode;if((this._checkListLater=(_5c5&&(_5c5.nodeName=="LI"||_5c5.parentNode.nodeName=="LI")))){if(dojo.isMoz){this._pressedEnterInBlock=_5c5;}if(/^(?:\s|&nbsp;)$/.test(_5c5.innerHTML)){_5c5.innerHTML="";}return true;}if(!_5c4.blockNode||_5c4.blockNode===this.editor.editNode){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);_5c4={blockNode:dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_5c4.blockNode){if(!(_5c4.blockNode.textContent||_5c4.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length){this.removeTrailingBr(_5c4.blockNode);return false;}}else{_5c4.blockNode=this.editor.editNode;}_5bc=dijit.range.getSelection(this.editor.window);_5bd=_5bc.getRangeAt(0);}var _5c6=doc.createElement(this.blockNodeForEnter);_5c6.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_5c4.blockNode);if(dijit.range.atEndOfContainer(_5c4.blockNode,_5bd.endContainer,_5bd.endOffset)){if(_5c4.blockNode===_5c4.blockContainer){_5c4.blockNode.appendChild(_5c6);}else{dojo.place(_5c6,_5c4.blockNode,"after");}_5c3=false;_5be=dijit.range.create();_5be.setStart(_5c6,0);_5bc.removeAllRanges();_5bc.addRange(_5be);if(this.editor.height){_5c6.scrollIntoView(false);}}else{if(dijit.range.atBeginningOfContainer(_5c4.blockNode,_5bd.startContainer,_5bd.startOffset)){dojo.place(_5c6,_5c4.blockNode,_5c4.blockNode===_5c4.blockContainer?"first":"before");if(_5c6.nextSibling&&this.editor.height){_5c6.nextSibling.scrollIntoView(false);}_5c3=false;}else{if(dojo.isMoz){this._pressedEnterInBlock=_5c4.blockNode;}}}return _5c3;},removeTrailingBr:function(_5c7){var para=/P|DIV|LI/i.test(_5c7.tagName)?_5c7:dijit._editor.selection.getParentOfType(_5c7,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||(para.lastChild&&para.lastChild.tagName=="BR")){dojo._destroyElement(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}},_fixNewLineBehaviorForIE:function(d){if(this.editor.document.__INSERTED_EDITIOR_NEWLINE_CSS===undefined){var _5ca="p{margin:0 !important;}";var _5cb=function(_5cc,doc,URI){if(!_5cc){return null;}if(!doc){doc=document;}var _5cf=doc.createElement("style");_5cf.setAttribute("type","text/css");var head=doc.getElementsByTagName("head")[0];if(!head){console.debug("No head tag in document, aborting styles");return null;}else{head.appendChild(_5cf);}if(_5cf.styleSheet){var _5d1=function(){try{_5cf.styleSheet.cssText=_5cc;}catch(e){console.debug(e);}};if(_5cf.styleSheet.disabled){setTimeout(_5d1,10);}else{_5d1();}}else{var _5d2=doc.createTextNode(_5cc);_5cf.appendChild(_5d2);}return _5cf;};_5cb(_5ca,this.editor.document);this.editor.document.__INSERTED_EDITIOR_NEWLINE_CSS=true;return d;}return null;},regularPsToSingleLinePs:function(_5d3,_5d4){function wrapLinesInPs(el){function wrapNodes(_5d6){var newP=_5d6[0].ownerDocument.createElement("p");_5d6[0].parentNode.insertBefore(newP,_5d6[0]);dojo.forEach(_5d6,function(node){newP.appendChild(node);});};var _5d9=0;var _5da=[];var _5db;while(_5d9<el.childNodes.length){_5db=el.childNodes[_5d9];if(_5db.nodeType==3||(_5db.nodeType==1&&_5db.nodeName!="BR"&&dojo.style(_5db,"display")!="block")){_5da.push(_5db);}else{var _5dc=_5db.nextSibling;if(_5da.length){wrapNodes(_5da);_5d9=(_5d9+1)-_5da.length;if(_5db.nodeName=="BR"){dojo._destroyElement(_5db);}}_5da=[];}_5d9++;}if(_5da.length){wrapNodes(_5da);}};function splitP(el){var _5de=null;var _5df=[];var _5e0=el.childNodes.length-1;for(var i=_5e0;i>=0;i--){_5de=el.childNodes[i];if(_5de.nodeName=="BR"){var newP=_5de.ownerDocument.createElement("p");dojo.place(newP,el,"after");if(_5df.length==0&&i!=_5e0){newP.innerHTML="&nbsp;";}dojo.forEach(_5df,function(node){newP.appendChild(node);});dojo._destroyElement(_5de);_5df=[];}else{_5df.unshift(_5de);}}};var _5e4=[];var ps=_5d3.getElementsByTagName("p");dojo.forEach(ps,function(p){_5e4.push(p);});dojo.forEach(_5e4,function(p){if((p.previousSibling)&&(p.previousSibling.nodeName=="P"||dojo.style(p.previousSibling,"display")!="block")){var newP=p.parentNode.insertBefore(this.document.createElement("p"),p);newP.innerHTML=_5d4?"":"&nbsp;";}splitP(p);},this.editor);wrapLinesInPs(_5d3);return _5d3;},singleLinePsToRegularPs:function(_5e9){function getParagraphParents(node){var ps=node.getElementsByTagName("p");var _5ec=[];for(var i=0;i<ps.length;i++){var p=ps[i];var _5ef=false;for(var k=0;k<_5ec.length;k++){if(_5ec[k]===p.parentNode){_5ef=true;break;}}if(!_5ef){_5ec.push(p.parentNode);}}return _5ec;};function isParagraphDelimiter(node){if(node.nodeType!=1||node.tagName!="P"){return dojo.style(node,"display")=="block";}else{if(!node.childNodes.length||node.innerHTML=="&nbsp;"){return true;}}return false;};var _5f2=getParagraphParents(_5e9);for(var i=0;i<_5f2.length;i++){var _5f4=_5f2[i];var _5f5=null;var node=_5f4.firstChild;var _5f7=null;while(node){if(node.nodeType!="1"||node.tagName!="P"){_5f5=null;}else{if(isParagraphDelimiter(node)){_5f7=node;_5f5=null;}else{if(_5f5==null){_5f5=node;}else{if((!_5f5.lastChild||_5f5.lastChild.nodeName!="BR")&&(node.firstChild)&&(node.firstChild.nodeName!="BR")){_5f5.appendChild(this.editor.document.createElement("br"));}while(node.firstChild){_5f5.appendChild(node.firstChild);}_5f7=node;}}}node=node.nextSibling;if(_5f7){dojo._destroyElement(_5f7);_5f7=null;}}}return _5e9;}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function(){if(!dojo.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","dijit._editor.plugins.EnterKeyHandling"];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(dojo.isIE){this.events.push("onBeforeDeactivate");}},postCreate:function(){if(this.customUndo){dojo["require"]("dijit._editor.range");this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);}if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar({});dojo.place(this.toolbar.domNode,this.editingArea,"before");}dojo.forEach(this.plugins,this.addPlugin,this);this.onNormalizedDisplayChanged();this.toolbar.startup();},destroy:function(){dojo.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroy();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_5f9,_5fa){var args=dojo.isString(_5f9)?{name:_5f9}:_5f9;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish(dijit._scopeName+".Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.warn("Cannot find plugin",_5f9);return;}_5f9=o.plugin;}if(arguments.length>1){this._plugins[_5fa]=_5f9;}else{this._plugins.push(_5f9);}_5f9.setEditor(this);if(dojo.isFunction(_5f9.setToolbar)){_5f9.setToolbar(this.toolbar);}},startup:function(){},resize:function(){dijit.layout._LayoutWidget.prototype.resize.apply(this,arguments);},layout:function(){this.editingArea.style.height=(this._contentBox.h-dojo.marginBox(this.toolbar.domNode).h)+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}this._saveSelection();},customUndo:dojo.isIE,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}try{var r=this.inherited("execCommand",arguments);if(dojo.isSafari&&cmd=="paste"&&!r){var su=dojo.string.substitute,_isM=navigator.userAgent.indexOf("Macintosh")!=-1;alert(su(this.commands.pasteShortcutSafari,[su(this.commands[_isM?"appleKey":"ctrlKey"],["V"])]));}}catch(e){if(dojo.isMoz&&/copy|cut|paste/.test(cmd)){var sub=dojo.string.substitute,_605={cut:"X",copy:"C",paste:"V"},_606=navigator.userAgent.indexOf("Macintosh")!=-1;alert(sub(this.commands.systemShortcutFF,[this.commands[cmd],sub(this.commands[_606?"appleKey":"ctrlKey"],[_605[cmd]])]));}r=false;}if(this.customUndo){this._endEditing();}return r;}},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited("queryCommandEnabled",arguments);}},focus:function(){var _608=0;if(this._savedSelection&&dojo.isIE){_608=dijit._curFocus!=this.editNode;}this.inherited(arguments);if(_608){this._restoreSelection();}},_moveToBookmark:function(b){var _60a=b;if(dojo.isIE){if(dojo.isArray(b)){_60a=[];dojo.forEach(b,function(n){_60a.push(dijit.range.getNode(n,this.editNode));},this);}}else{var r=dijit.range.create();r.setStart(dijit.range.getNode(b.startContainer,this.editNode),b.startOffset);r.setEnd(dijit.range.getNode(b.endContainer,this.editNode),b.endOffset);_60a=r;}dojo.withGlobal(this.window,"moveToBookmark",dijit,[_60a]);},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){this.endEditing(true);var s=this._steps.pop();if(this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();return true;}return false;},redo:function(){this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();return true;}return false;},endEditing:function(_612){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_612);this._inEditing=false;}},_getBookmark:function(){var b=dojo.withGlobal(this.window,dijit.getBookmark);var tmp=[];if(dojo.isIE){if(dojo.isArray(b)){dojo.forEach(b,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b=tmp;}}else{tmp=dijit.range.getIndex(b.startContainer,this.editNode).o;b={startContainer:tmp,startOffset:b.startOffset,endContainer:b.endContainer===b.startContainer?tmp:dijit.range.getIndex(b.endContainer,this.editNode).o,endOffset:b.endOffset};}return b;},_beginEditing:function(cmd){if(this._steps.length===0){this._steps.push({"text":this.savedContent,"bookmark":this._getBookmark()});}},_endEditing:function(_617){var v=this.getValue(true);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!dojo.isIE&&!this.iframe&&e.keyCode==dojo.keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited("onKeyDown",arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){dojo.stopEvent(e);this.undo();return;}else{if(k==89||k==121){dojo.stopEvent(e);this.redo();return;}}}this.inherited("onKeyDown",arguments);switch(k){case ks.ENTER:case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function(){this.inherited("_onBlur",arguments);this.endEditing(true);},_saveSelection:function(){this._savedSelection=this._getBookmark();},_restoreSelection:function(){if(this._savedSelection){this._moveToBookmark(this._savedSelection);delete this._savedSelection;}},_onFocus:function(){this._restoreSelection();this.inherited(arguments);},onClick:function(){this.endEditing(true);this.inherited("onClick",arguments);}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _p=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":case "unlink":case "insertHorizontalRule":p=new _p({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _p({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _p({button:new dijit.ToolbarSeparator()});}o.plugin=p;});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:"<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode' name=\"${name}\"\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse,onfocus:_onMouse,onblur:_onMouse,onkeypress:_onKeyPress'\n\tautocomplete=\"off\" type=\"${type}\"\n\t/>\n",baseClass:"dijitTextBox",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormValueWidget.prototype.attributeMap),{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_621,_622,_623){var _624;if(_621!==undefined){_624=this.filter(_621);if(_624!==null&&((typeof _624!="number")||!isNaN(_624))){if(typeof _623!="string"){_623=this.format(_624,this.constraints);}}else{_623="";}}if(_623!=null&&_623!=undefined){this.textbox.value=_623;}dijit.form.TextBox.superclass._setValueAttr.call(this,_624,_622);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_625){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_625);},_setDisplayedValueAttr:function(_626){this.textbox.value=_626;this._setValueAttr(this.attr("value"));},format:function(_627,_628){return ((_627==null||_627==undefined)?"":(_627.toString?_627.toString():_627));},parse:function(_629,_62a){return _629;},postCreate:function(){this.textbox.setAttribute("value",this.attr("displayedValue"));this.inherited(arguments);this._layoutHack();},filter:function(val){if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),(this.isValid?this.isValid():true));},_onBlur:function(){this._setBlurValue();this.inherited(arguments);}});dijit.selectInputText=function(_62d,_62e,stop){var _630=dojo.global;var _631=dojo.doc;_62d=dojo.byId(_62d);if(isNaN(_62e)){_62e=0;}if(isNaN(stop)){stop=_62d.value?_62d.value.length:0;}_62d.focus();if(_631["selection"]&&dojo.body()["createTextRange"]){if(_62d.createTextRange){var _632=_62d.createTextRange();with(_632){collapse(true);moveStart("character",_62e);moveEnd("character",stop);select();}}}else{if(_630["getSelection"]){var _633=_630.getSelection();if(_62d.setSelectionRange){_62d.setSelectionRange(_62e,stop);}}}};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_634){var _635={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _636=dojo.cldr.supplemental._region(_634);var dow=_635[_636];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_638){_638=dojo.i18n.normalizeLocale(_638);var tags=_638.split("-");var _63a=tags[1];if(!_63a){_63a={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_63a.length==4){_63a=tags[2];}}return _63a;};dojo.cldr.supplemental.getWeekend=function(_63b){var _63c={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _63d={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _63e=dojo.cldr.supplemental._region(_63b);var _63f=_63c[_63e];var end=_63d[_63e];if(_63f===undefined){_63f=6;}if(end===undefined){end=0;}return {start:_63f,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_641){var _642=_641.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_642==1&&dojo.date.isLeapYear(_641)){return 29;}return days[_642];};dojo.date.isLeapYear=function(_644){var year=_644.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_646){var str=_646.toString();var tz="";var _649;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_649=str.match(pat))){tz=_649[1];}else{str=_646.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_649=str.match(pat))){tz=_649[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_64c,_64d,_64e){_64c=new Date(Number(_64c));_64d=new Date(Number(_64d||new Date()));if(_64e!=="undefined"){if(_64e=="date"){_64c.setHours(0,0,0,0);_64d.setHours(0,0,0,0);}else{if(_64e=="time"){_64c.setFullYear(0,0,0);_64d.setFullYear(0,0,0);}}}if(_64c>_64d){return 1;}if(_64c<_64d){return -1;}return 0;};dojo.date.add=function(date,_650,_651){var sum=new Date(Number(date));var _653=false;var _654="Date";switch(_650){case "day":break;case "weekday":var days,_656;var mod=_651%5;if(!mod){days=(_651>0)?5:-5;_656=(_651>0)?((_651-5)/5):((_651+5)/5);}else{days=mod;_656=parseInt(_651/5);}var strt=date.getDay();var adj=0;if(strt==6&&_651>0){adj=1;}else{if(strt==0&&_651<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_651>0)?2:-2;}_651=(7*_656)+days+adj;break;case "year":_654="FullYear";_653=true;break;case "week":_651*=7;break;case "quarter":_651*=3;case "month":_653=true;_654="Month";break;case "hour":case "minute":case "second":case "millisecond":_654="UTC"+_650.charAt(0).toUpperCase()+_650.substring(1)+"s";}if(_654){sum["set"+_654](sum["get"+_654]()+_651);}if(_653&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_65b,_65c,_65d){_65c=_65c||new Date();_65d=_65d||"day";var _65e=_65c.getFullYear()-_65b.getFullYear();var _65f=1;switch(_65d){case "quarter":var m1=_65b.getMonth();var m2=_65c.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_65e*4);_65f=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_65b,_65c,"day"));var _665=parseInt(dojo.date.difference(_65b,_65c,"week"));var mod=days%7;if(mod==0){days=_665*5;}else{var adj=0;var aDay=_65b.getDay();var bDay=_65c.getDay();_665=parseInt(days/7);mod=days%7;var _66a=new Date(_65b);_66a.setDate(_66a.getDate()+(_665*7));var _66b=_66a.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_66b+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_66b+mod)<0:adj=2;}}}days+=adj;days-=(_665*2);}_65f=days;break;case "year":_65f=_65e;break;case "month":_65f=(_65c.getMonth()-_65b.getMonth())+(_65e*12);break;case "week":_65f=parseInt(dojo.date.difference(_65b,_65c,"day")/7);break;case "day":_65f/=24;case "hour":_65f/=60;case "minute":_65f/=60;case "second":_65f/=1000;case "millisecond":_65f*=_65c.getTime()-_65b.getTime();}return Math.round(_65f);};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_66d){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_66d&&_66d.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_671){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_671);};dojo.regexp.group=function(_674,_675){return "("+(_675?"?:":"")+_674+")";};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function formatPattern(_676,_677,_678,_679){return _679.replace(/([a-z])\1*/ig,function(_67a){var s,pad;var c=_67a.charAt(0);var l=_67a.length;var _67f=["abbr","wide","narrow"];switch(c){case "G":s=_677[(l<4)?"eraAbbr":"eraNames"][_676.getFullYear()<0?0:1];break;case "y":s=_676.getFullYear();switch(l){case 1:break;case 2:if(!_678){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_676.getMonth()+1)/3);pad=true;break;case "M":var m=_676.getMonth();if(l<3){s=m+1;pad=true;}else{var _681=["months","format",_67f[l-3]].join("-");s=_677[_681][m];}break;case "w":var _682=0;s=dojo.date.locale._getWeekOfYear(_676,_682);pad=true;break;case "d":s=_676.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_676);pad=true;break;case "E":var d=_676.getDay();if(l<3){s=d+1;pad=true;}else{var _684=["days","format",_67f[l-3]].join("-");s=_677[_684][d];}break;case "a":var _685=(_676.getHours()<12)?"am":"pm";s=_677[_685];break;case "h":case "H":case "K":case "k":var h=_676.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_676.getMinutes();pad=true;break;case "s":s=_676.getSeconds();pad=true;break;case "S":s=Math.round(_676.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.getTimezoneName(_676);if(s){break;}l=4;case "Z":var _687=_676.getTimezoneOffset();var tz=[(_687<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_687)/60),2),dojo.string.pad(Math.abs(_687)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_679);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function(_689,_68a){_68a=_68a||{};var _68b=dojo.i18n.normalizeLocale(_68a.locale);var _68c=_68a.formatLength||"short";var _68d=dojo.date.locale._getGregorianBundle(_68b);var str=[];var _68f=dojo.hitch(this,formatPattern,_689,_68d,_68a.fullYear);if(_68a.selector=="year"){var year=_689.getFullYear();if(_68b.match(/^zh|^ja/)){year+="年";}return year;}if(_68a.selector!="time"){var _691=_68a.datePattern||_68d["dateFormat-"+_68c];if(_691){str.push(_processPattern(_691,_68f));}}if(_68a.selector!="date"){var _692=_68a.timePattern||_68d["timeFormat-"+_68c];if(_692){str.push(_processPattern(_692,_68f));}}var _693=str.join(" ");return _693;};dojo.date.locale.regexp=function(_694){return dojo.date.locale._parseInfo(_694).regexp;};dojo.date.locale._parseInfo=function(_695){_695=_695||{};var _696=dojo.i18n.normalizeLocale(_695.locale);var _697=dojo.date.locale._getGregorianBundle(_696);var _698=_695.formatLength||"short";var _699=_695.datePattern||_697["dateFormat-"+_698];var _69a=_695.timePattern||_697["timeFormat-"+_698];var _69b;if(_695.selector=="date"){_69b=_699;}else{if(_695.selector=="time"){_69b=_69a;}else{_69b=_699+" "+_69a;}}var _69c=[];var re=_processPattern(_69b,dojo.hitch(this,_buildDateTimeRE,_69c,_697,_695));return {regexp:re,tokens:_69c,bundle:_697};};dojo.date.locale.parse=function(_69e,_69f){var info=dojo.date.locale._parseInfo(_69f);var _6a1=info.tokens,_6a2=info.bundle;var re=new RegExp("^"+info.regexp+"$",info.strict?"":"i");var _6a4=re.exec(_69e);if(!_6a4){return null;}var _6a5=["abbr","wide","narrow"];var _6a6=[1970,0,1,0,0,0,0];var amPm="";var _6a8=dojo.every(_6a4,function(v,i){if(!i){return true;}var _6ab=_6a1[i-1];var l=_6ab.length;switch(_6ab.charAt(0)){case "y":if(l!=2&&_69f.strict){_6a6[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _6ae=year.substring(0,2)*100;var _6af=Math.min(Number(year.substring(2,4))+20,99);var num=(v<_6af)?_6ae+v:_6ae-100+v;_6a6[0]=num;}else{if(_69f.strict){return false;}_6a6[0]=v;}}break;case "M":if(l>2){var _6b1=_6a2["months-format-"+_6a5[l-3]].concat();if(!_69f.strict){v=v.replace(".","").toLowerCase();_6b1=dojo.map(_6b1,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_6b1,v);if(v==-1){return false;}}else{v--;}_6a6[1]=v;break;case "E":case "e":var days=_6a2["days-format-"+_6a5[l-3]].concat();if(!_69f.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_6a6[1]=0;case "d":_6a6[2]=v;break;case "a":var am=_69f.am||_6a2.am;var pm=_69f.pm||_6a2.pm;if(!_69f.strict){var _6b7=/\./g;v=v.replace(_6b7,"").toLowerCase();am=am.replace(_6b7,"").toLowerCase();pm=pm.replace(_6b7,"").toLowerCase();}if(_69f.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_6a6[3]=v;break;case "m":_6a6[4]=v;break;case "s":_6a6[5]=v;break;case "S":_6a6[6]=v;}return true;});var _6b8=+_6a6[3];if(amPm==="p"&&_6b8<12){_6a6[3]=_6b8+12;}else{if(amPm==="a"&&_6b8==12){_6a6[3]=0;}}var _6b9=new Date(_6a6[0],_6a6[1],_6a6[2],_6a6[3],_6a6[4],_6a6[5],_6a6[6]);if(_69f.strict){_6b9.setFullYear(_6a6[0]);}var _6ba=_6a1.join("");if(!_6a8||(_6ba.indexOf("M")!=-1&&_6b9.getMonth()!=_6a6[1])||(_6ba.indexOf("d")!=-1&&_6b9.getDate()!=_6a6[2])){return null;}return _6b9;};function _processPattern(_6bb,_6bc,_6bd,_6be){var _6bf=function(x){return x;};_6bc=_6bc||_6bf;_6bd=_6bd||_6bf;_6be=_6be||_6bf;var _6c1=_6bb.match(/(''|[^'])+/g);var _6c2=_6bb.charAt(0)=="'";dojo.forEach(_6c1,function(_6c3,i){if(!_6c3){_6c1[i]="";}else{_6c1[i]=(_6c2?_6bd:_6bc)(_6c3);_6c2=!_6c2;}});return _6be(_6c1.join(""));};function _buildDateTimeRE(_6c5,_6c6,_6c7,_6c8){_6c8=dojo.regexp.escapeString(_6c8);if(!_6c7.strict){_6c8=_6c8.replace(" a"," ?a");}return _6c8.replace(/([a-z])\1*/ig,function(_6c9){var s;var c=_6c9.charAt(0);var l=_6c9.length;var p2="",p3="";if(_6c7.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_6c7.am||_6c6.am||"AM";var pm=_6c7.pm||_6c6.pm||"PM";if(_6c7.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_6c5){_6c5.push(_6c9);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _6d1=[];dojo.date.locale.addCustomFormats=function(_6d2,_6d3){_6d1.push({pkg:_6d2,name:_6d3});};dojo.date.locale._getGregorianBundle=function(_6d4){var _6d5={};dojo.forEach(_6d1,function(desc){var _6d7=dojo.i18n.getLocalization(desc.pkg,desc.name,_6d4);_6d5=dojo.mixin(_6d5,_6d7);},this);return _6d5;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,use,_6db){var _6dc;var _6dd=dojo.date.locale._getGregorianBundle(_6db);var _6de=[item,use,type];if(use=="standAlone"){var key=_6de.join("-");_6dc=_6dd[key];if(_6dc[0]==1){_6dc=undefined;}}_6de[1]="format";return (_6dc||_6dd[_6de.join("-")]).concat();};dojo.date.locale.isWeekend=function(_6e0,_6e1){var _6e2=dojo.cldr.supplemental.getWeekend(_6e1);var day=(_6e0||new Date()).getDay();if(_6e2.end<_6e2.start){_6e2.end+=7;if(day<_6e2.start){day+=7;}}return day>=_6e2.start&&day<=_6e2.end;};dojo.date.locale._getDayOfYear=function(_6e4){return dojo.date.difference(new Date(_6e4.getFullYear(),0,1,_6e4.getHours()),_6e4)+1;};dojo.date.locale._getWeekOfYear=function(_6e5,_6e6){if(arguments.length==1){_6e6=0;}var _6e7=new Date(_6e5.getFullYear(),0,1).getDay();var adj=(_6e7-_6e6+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_6e5)+adj-1)/7);if(_6e7==_6e6){week++;}return week;};}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<div class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\"><span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarDecreaseInner\">-</span></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<div class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\"><span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarIncreaseInner\">+</span></div>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\t\n",value:new Date(),dayWidth:"narrow",setValue:function(_6ea){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");this.attr("value",_6ea);},_setValueAttr:function(_6eb){if(!this.value||dojo.date.compare(_6eb,this.value)){_6eb=new Date(_6eb);this.displayMonth=new Date(_6eb);if(!this.isDisabledDate(_6eb,this.lang)){this.value=_6eb;this.value.setHours(0,0,0,0);this.onChange(this.value);}this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},_populateGrid:function(){var _6ee=this.displayMonth;_6ee.setDate(1);var _6ef=_6ee.getDay();var _6f0=dojo.date.getDaysInMonth(_6ee);var _6f1=dojo.date.getDaysInMonth(dojo.date.add(_6ee,"month",-1));var _6f2=new Date();var _6f3=this.value;var _6f4=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_6f4>_6ef){_6f4-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_6f5,i){i+=_6f4;var date=new Date(_6ee);var _6f8,_6f9="dijitCalendar",adj=0;if(i<_6ef){_6f8=_6f1-_6ef+i+1;adj=-1;_6f9+="Previous";}else{if(i>=(_6ef+_6f0)){_6f8=i-_6ef-_6f0+1;adj=1;_6f9+="Next";}else{_6f8=i-_6ef+1;_6f9+="Current";}}if(adj){date=dojo.date.add(date,"month",adj);}date.setDate(_6f8);if(!dojo.date.compare(date,_6f2,"date")){_6f9="dijitCalendarCurrentDate "+_6f9;}if(!dojo.date.compare(date,_6f3,"date")){_6f9="dijitCalendarSelectedDate "+_6f9;}if(this.isDisabledDate(date,this.lang)){_6f9="dijitCalendarDisabledDate "+_6f9;}var _6fb=this.getClassForDate(date,this.lang);if(_6fb){_6f9=_6fb+" "+_6f9;}_6f5.className=_6f9+"Month dijitCalendarDateTemplate";_6f5.dijitDateValue=date.valueOf();var _6fc=dojo.query(".dijitCalendarDateLabel",_6f5)[0];this._setText(_6fc,date.getDate());},this);var _6fd=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_6fd[_6ee.getMonth()]);var y=_6ee.getFullYear()-1;var d=new Date();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],dojo.date.locale.format(d,{selector:"year",locale:this.lang}));},this);var _701=this;var _702=function(_703,_704,adj){_701._connects.push(dijit.typematic.addMouseListener(_701[_703],_701,function(_706){if(_706>=0){_701._adjustDisplay(_704,adj);}},0.8,500));};_702("incrementMonth","month",1);_702("decrementMonth","month",-1);_702("nextYearLabelNode","year",1);_702("previousYearLabelNode","year",-1);},goToToday:function(){this.attr("value",new Date());},postCreate:function(){this.inherited(arguments);var _707=dojo.hitch(this,function(_708,n){var _70a=dojo.query(_708,this.domNode)[0];for(var i=0;i<n;i++){_70a.parentNode.appendChild(_70a.cloneNode(true));}});_707(".dijitCalendarDayLabelTemplate",6);_707(".dijitCalendarDateTemplate",6);_707(".dijitCalendarWeekTemplate",5);var _70c=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _70d=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_70e,i){this._setText(_70e,_70c[(i+_70d)%7]);},this);var _710=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(_710,function(name){var _712=dojo.doc.createElement("div");this._setText(_712,name);this.monthLabelSpacer.appendChild(_712);},this);this.value=null;this.attr("value",new Date());},_adjustDisplay:function(part,_714){this.displayMonth=dojo.date.add(this.displayMonth,part,_714);this._populateGrid();},_onDayClick:function(evt){var node=evt.target;dojo.stopEvent(evt);while(!node.dijitDateValue){node=node.parentNode;}if(!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.attr("value",node.dijitDateValue);this.onValueSelected(this.value);}},_onDayMouseOver:function(evt){var node=evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}for(var node=evt.relatedTarget;node;){if(node==this._currentNode){return;}try{node=node.parentNode;}catch(x){node=null;}}dojo.removeClass(this._currentNode,"dijitCalendarHoveredDate");this._currentNode=null;},onValueSelected:function(date){},onChange:function(date){},isDisabledDate:function(_71d,_71e){},getClassForDate:function(_71f,_720){}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_721,_722,_723){if(this.aroundNode&&this.aroundNode===_722){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_721;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _724={};var ltr=this.isLeftToRight();dojo.forEach((_723&&_723.length)?_723:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_724[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_724[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_724[ltr?"BL":"BR"]=ltr?"TL":"TR";_724[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_724[ltr?"TL":"TR"]=ltr?"BL":"BR";_724[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_722,_724,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_722;},orient:function(node,_729,_72a){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_729+"-"+_72a];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_72b){if(this._onDeck&&this._onDeck[1]==_72b){this._onDeck=null;}else{if(this.aroundNode===_72b){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_72c,_72d,_72e){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_72c,_72d,_72e);};dijit.hideTooltip=function(_72f){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_72f);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");this._connectNodes=[];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_732){this.connect(node,_732.toLowerCase(),"_"+_732);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},_onMouseEnter:function(e){this._onHover(e);},_onMouseLeave:function(e){this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function(e){if(!this._showTimer){var _738=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_738);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_73a){_73a=_73a||this._connectNodes[0];if(!_73a){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_73a,this.position);this._connectNode=_73a;},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' dojoAttachEvent='onfocus:_update,onkeyup:_update,onblur:_onMouse,onkeypress:_onKeyPress' autocomplete=\"off\"\n\t\t\ttype='${type}' name='${name}'\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_73b){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_73c,_73d){return (new RegExp("^(?:"+this.regExpGen(_73d)+")"+(this.required?"":"?")+"$")).test(_73c)&&(!this.required||!this._isEmpty(_73c))&&(this._isEmpty(_73c)||this.parse(_73c,_73d)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_73e){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_73f){return /^\s*$/.test(_73f);},getErrorMessage:function(_740){return this.invalidMessage;},getPromptMessage:function(_741){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_742){var _743="";var _744=this.disabled||this.isValid(_742);if(_744){this._maskValidSubsetError=true;}var _745=!_744&&_742&&this._isValidSubset();var _746=this._isEmpty(this.textbox.value);this.state=(_744||(!this._hasBeenBlurred&&_746)||_745)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_744?"false":"true");if(_742){if(_746){_743=this.getPromptMessage(true);}if(!_743&&(this.state=="Error"||(_745&&!this._maskValidSubsetError))){_743=this.getErrorMessage(true);}}this.displayMessage(_743);return _744;},_message:"",displayMessage:function(_747){if(this._message==_747){return;}this._message=_747;dijit.hideTooltip(this.domNode);if(_747){dijit.showTooltip(_747,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);},_update:function(e){this._refreshState();this._onMouse(e);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _74a="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_74a+=re;break;case ")":_74a+="|$)";break;default:_74a+="(?:"+re+"|$)";break;}});}try{"".search(_74a);}catch(e){_74a=this.regExp;console.debug("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_74a+")$";},_setDisabledAttr:function(_74c){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=_74c;}this._refreshState();},_setRequiredAttr:function(_74d){this.required=_74d;dijit.setWaiState(this.focusNode,"required",_74d);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{serialize:function(val,_751){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);var _753=this.textbox;var _754=(this.valueNode=dojo.doc.createElement("input"));_754.setAttribute("type",_753.type);dojo.style(_754,"display","none");this.valueNode.name=this.textbox.name;dojo.place(_754,_753,"after");this.textbox.name=this.textbox.name+"_displayed_";this.textbox.removeAttribute("name");},_setDisabledAttr:function(_755){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",_755);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_756,_757){var _758="min" in _757;var _759="max" in _757;if(_758||_759){return (!_758||this.compare(_756,_757.min)>=0)&&(!_759||this.compare(_756,_757.max)<=0);}return true;},isInRange:function(_75a){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _75c=false;var _75d=false;if("min" in this.constraints){var min=this.constraints.min;val=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_75c=(typeof val=="number")&&val<0;}if("max" in this.constraints){var max=this.constraints.max;val=this.compare(val,((typeof max!="number")||max>0)?max:0);_75d=(typeof val=="number")&&val>0;}return _75c||_75d;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_760){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_760));},getErrorMessage:function(_761){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_761)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_762,_763){dijit.setWaiState(this.focusNode,"valuenow",_762);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");dojo.declare("dijit.form._DateTimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(_764,_765){if(!_764){return "";}return dojo.date.locale.format(_764,_765);},parse:function(_766,_767){return dojo.date.locale.parse(_766,_767)||(this._isEmpty(_766)?null:undefined);},serialize:dojo.date.stamp.toISOString,value:new Date(""),popupClass:"",_selector:"",postMixInProperties:function(){this.inherited(arguments);if(!this.value||this.value.toString()==dijit.form._DateTimeTextBox.prototype.value.toString()){this.value=null;}var _768=this.constraints;_768.selector=this._selector;_768.fullYear=true;var _769=dojo.date.stamp.fromISOString;if(typeof _768.min=="string"){_768.min=_769(_768.min);}if(typeof _768.max=="string"){_768.max=_769(_768.max);}},_onFocus:function(evt){this._open();},_setValueAttr:function(_76b,_76c,_76d){this.inherited(arguments);if(this._picker){if(!_76b){_76b=new Date();}this._picker.attr("value",_76b);}},_open:function(){if(this.disabled||this.readOnly||!this.popupClass){return;}var _76e=this;if(!this._picker){var _76f=dojo.getObject(this.popupClass,false);this._picker=new _76f({onValueSelected:function(_770){if(_76e._tabbingAway){delete _76e._tabbingAway;}else{_76e.focus();}setTimeout(dojo.hitch(_76e,"_close"),1);dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_76e,_770,true);},lang:_76e.lang,constraints:_76e.constraints,isDisabledDate:function(date){var _772=dojo.date.compare;var _773=_76e.constraints;return _773&&(_773.min&&(_772(_773.min,date,"date")>0)||(_773.max&&_772(_773.max,date,"date")<0));}});this._picker.attr("value",this.attr("value")||new Date());}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function(){_76e._opened=false;}});this._opened=true;}dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth});},_close:function(){if(this._opened){dijit.popup.close(this._picker);this._opened=false;}},_onBlur:function(){this._close();if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_774,_775){this._setValueAttr(this.parse(_774,this.constraints),_775,_774);},destroy:function(){if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},_onKeyPress:function(e){var p=this._picker,dk=dojo.keys;if(p&&this._opened&&p.handleKey){if(p.handleKey(e)===false){return;}}if(this._opened&&e.charOrCode==dk.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this._close();dojo.stopEvent(e);}else{if(!this._opened&&e.charOrCode==dk.DOWN_ARROW){this._open();dojo.stopEvent(e);}else{if(dijit.form._DateTimeTextBox.superclass._onKeyPress.apply(this,arguments)){if(e.charOrCode===dk.TAB){this._tabbingAway=true;}else{if(this._opened&&(e.keyChar||e.charOrCode===dk.BACKSPACE||e.charOrCode==dk.DELETE)){setTimeout(dojo.hitch(this,function(){dijit.placeOnScreenAroundElement(p.domNode.parentNode,this.domNode,{"BL":"TL","TL":"BL"},p.orient?dojo.hitch(p,"orient"):null);}),1);}}}}}}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitDateTextBox",popupClass:"dijit._Calendar",_selector:"date"});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_779,_77a){_77a=dojo.mixin({},_77a||{});var _77b=dojo.i18n.normalizeLocale(_77a.locale);var _77c=dojo.i18n.getLocalization("dojo.cldr","number",_77b);_77a.customs=_77c;var _77d=_77a.pattern||_77c[(_77a.type||"decimal")+"Format"];if(isNaN(_779)){return null;}return dojo.number._applyPattern(_779,_77d,_77a);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_77e,_77f,_780){_780=_780||{};var _781=_780.customs.group;var _782=_780.customs.decimal;var _783=_77f.split(";");var _784=_783[0];_77f=_783[(_77e<0)?1:0]||("-"+_784);if(_77f.indexOf("%")!=-1){_77e*=100;}else{if(_77f.indexOf("‰")!=-1){_77e*=1000;}else{if(_77f.indexOf("¤")!=-1){_781=_780.customs.currencyGroup||_781;_782=_780.customs.currencyDecimal||_782;_77f=_77f.replace(/\u00a4{1,3}/,function(_785){var prop=["symbol","currency","displayName"][_785.length-1];return _780[prop]||_780.currency||"";});}else{if(_77f.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _787=dojo.number._numberPatternRE;var _788=_784.match(_787);if(!_788){throw new Error("unable to find a number expression in pattern: "+_77f);}if(_780.fractional===false){_780.places=0;}return _77f.replace(_787,dojo.number._formatAbsolute(_77e,_788[0],{decimal:_782,group:_781,places:_780.places,round:_780.round}));};dojo.number.round=function(_789,_78a,_78b){var _78c=String(_789).split(".");var _78d=(_78c[1]&&_78c[1].length)||0;if(_78d>_78a){var _78e=Math.pow(10,_78a);if(_78b>0){_78e*=10/_78b;_78a++;}_789=Math.round(_789*_78e)/_78e;_78c=String(_789).split(".");_78d=(_78c[1]&&_78c[1].length)||0;if(_78d>_78a){_78c[1]=_78c[1].substr(0,_78a);_789=Number(_78c.join("."));}}return _789;};dojo.number._formatAbsolute=function(_78f,_790,_791){_791=_791||{};if(_791.places===true){_791.places=0;}if(_791.places===Infinity){_791.places=6;}var _792=_790.split(".");var _793=(_791.places>=0)?_791.places:(_792[1]&&_792[1].length)||0;if(!(_791.round<0)){_78f=dojo.number.round(_78f,_793,_791.round);}var _794=String(Math.abs(_78f)).split(".");var _795=_794[1]||"";if(_791.places){var _796=dojo.isString(_791.places)&&_791.places.indexOf(",");if(_796){_791.places=_791.places.substring(_796+1);}_794[1]=dojo.string.pad(_795.substr(0,_791.places),_791.places,"0",true);}else{if(_792[1]&&_791.places!==0){var pad=_792[1].lastIndexOf("0")+1;if(pad>_795.length){_794[1]=dojo.string.pad(_795,pad,"0",true);}var _798=_792[1].length;if(_798<_795.length){_794[1]=_795.substr(0,_798);}}else{if(_794[1]){_794.pop();}}}var _799=_792[0].replace(",","");pad=_799.indexOf("0");if(pad!=-1){pad=_799.length-pad;if(pad>_794[0].length){_794[0]=dojo.string.pad(_794[0],pad);}if(_799.indexOf("#")==-1){_794[0]=_794[0].substr(_794[0].length-pad);}}var _79a=_792[0].lastIndexOf(",");var _79b,_79c;if(_79a!=-1){_79b=_792[0].length-_79a-1;var _79d=_792[0].substr(0,_79a);_79a=_79d.lastIndexOf(",");if(_79a!=-1){_79c=_79d.length-_79a-1;}}var _79e=[];for(var _79f=_794[0];_79f;){var off=_79f.length-_79b;_79e.push((off>0)?_79f.substr(off):_79f);_79f=(off>0)?_79f.slice(0,off):"";if(_79c){_79b=_79c;delete _79c;}}_794[0]=_79e.reverse().join(_791.group||",");return _794.join(_791.decimal||".");};dojo.number.regexp=function(_7a1){return dojo.number._parseInfo(_7a1).regexp;};dojo.number._parseInfo=function(_7a2){_7a2=_7a2||{};var _7a3=dojo.i18n.normalizeLocale(_7a2.locale);var _7a4=dojo.i18n.getLocalization("dojo.cldr","number",_7a3);var _7a5=_7a2.pattern||_7a4[(_7a2.type||"decimal")+"Format"];var _7a6=_7a4.group;var _7a7=_7a4.decimal;var _7a8=1;if(_7a5.indexOf("%")!=-1){_7a8/=100;}else{if(_7a5.indexOf("‰")!=-1){_7a8/=1000;}else{var _7a9=_7a5.indexOf("¤")!=-1;if(_7a9){_7a6=_7a4.currencyGroup||_7a6;_7a7=_7a4.currencyDecimal||_7a7;}}}var _7aa=_7a5.split(";");if(_7aa.length==1){_7aa.push("-"+_7aa[0]);}var re=dojo.regexp.buildGroupRE(_7aa,function(_7ac){_7ac="(?:"+dojo.regexp.escapeString(_7ac,".")+")";return _7ac.replace(dojo.number._numberPatternRE,function(_7ad){var _7ae={signed:false,separator:_7a2.strict?_7a6:[_7a6,""],fractional:_7a2.fractional,decimal:_7a7,exponent:false};var _7af=_7ad.split(".");var _7b0=_7a2.places;if(_7af.length==1||_7b0===0){_7ae.fractional=false;}else{if(_7b0===undefined){_7b0=_7a2.pattern?_7af[1].lastIndexOf("0")+1:Infinity;}if(_7b0&&_7a2.fractional==undefined){_7ae.fractional=true;}if(!_7a2.places&&(_7b0<_7af[1].length)){_7b0+=","+_7af[1].length;}_7ae.places=_7b0;}var _7b1=_7af[0].split(",");if(_7b1.length>1){_7ae.groupSize=_7b1.pop().length;if(_7b1.length>1){_7ae.groupSize2=_7b1.pop().length;}}return "("+dojo.number._realNumberRegexp(_7ae)+")";});},true);if(_7a9){re=re.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(_7b2,_7b3,_7b4,_7b5){var prop=["symbol","currency","displayName"][_7b4.length-1];var _7b7=dojo.regexp.escapeString(_7a2[prop]||_7a2.currency||"");_7b3=_7b3?"\\s":"";_7b5=_7b5?"\\s":"";if(!_7a2.strict){if(_7b3){_7b3+="*";}if(_7b5){_7b5+="*";}return "(?:"+_7b3+_7b7+_7b5+")?";}return _7b3+_7b7+_7b5;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_7a6,decimal:_7a7,factor:_7a8};};dojo.number.parse=function(_7b8,_7b9){var info=dojo.number._parseInfo(_7b9);var _7bb=(new RegExp("^"+info.regexp+"$")).exec(_7b8);if(!_7bb){return NaN;}var _7bc=_7bb[1];if(!_7bb[1]){if(!_7bb[2]){return NaN;}_7bc=_7bb[2];info.factor*=-1;}_7bc=_7bc.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return Number(_7bc)*info.factor;};dojo.number._realNumberRegexp=function(_7bd){_7bd=_7bd||{};if(!("places" in _7bd)){_7bd.places=Infinity;}if(typeof _7bd.decimal!="string"){_7bd.decimal=".";}if(!("fractional" in _7bd)||/^0/.test(_7bd.places)){_7bd.fractional=[true,false];}if(!("exponent" in _7bd)){_7bd.exponent=[true,false];}if(!("eSigned" in _7bd)){_7bd.eSigned=[true,false];}var _7be=dojo.number._integerRegexp(_7bd);var _7bf=dojo.regexp.buildGroupRE(_7bd.fractional,function(q){var re="";if(q&&(_7bd.places!==0)){re="\\"+_7bd.decimal;if(_7bd.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_7bd.places+"}";}}return re;},true);var _7c2=dojo.regexp.buildGroupRE(_7bd.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_7bd.eSigned})+")";}return "";});var _7c4=_7be+_7bf;if(_7bf){_7c4="(?:(?:"+_7c4+")|(?:"+_7bf+"))";}return _7c4+_7c2;};dojo.number._integerRegexp=function(_7c5){_7c5=_7c5||{};if(!("signed" in _7c5)){_7c5.signed=[true,false];}if(!("separator" in _7c5)){_7c5.separator="";}else{if(!("groupSize" in _7c5)){_7c5.groupSize=3;}}var _7c6=dojo.regexp.buildGroupRE(_7c5.signed,function(q){return q?"[-+]":"";},true);var _7c8=dojo.regexp.buildGroupRE(_7c5.separator,function(sep){if(!sep){return "(?:0|[1-9]\\d*)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_7c5.groupSize,grp2=_7c5.groupSize2;if(grp2){var _7cc="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_7cc+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_7cc;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _7c6+_7c8;};}if(!dojo._hasResource["dijit.form.NumberTextBox"]){dojo._hasResource["dijit.form.NumberTextBox"]=true;dojo.provide("dijit.form.NumberTextBox");dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,editOptions:{pattern:"#.######"},_onFocus:function(){this._setValueAttr(this.attr("value"),false);this.inherited(arguments);},_formatter:dojo.number.format,format:function(_7cd,_7ce){if(typeof _7cd=="string"){return _7cd;}if(isNaN(_7cd)){return "";}if(this.editOptions&&this._focused){_7ce=dojo.mixin(dojo.mixin({},this.editOptions),this.constraints);}return this._formatter(_7cd,_7ce);},parse:dojo.number.parse,filter:function(_7cf){return (_7cf===null)?NaN:this.inherited(arguments);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){return undefined;}return v;},value:NaN});dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form._FormValueWidget,{attributeMap:dojo.mixin(dojo.clone(dijit.form._FormValueWidget.prototype.attributeMap),{style:"styleNode","class":"styleNode"}),templateString:(dojo.isIE||dojo.isSafari||dojo.isFF)?((dojo.isIE||dojo.isSafari||dojo.isFF>=3)?"<fieldset id=\"${id}\" class=\"dijitInline\" dojoAttachPoint=\"styleNode\" waiRole=\"presentation\"><div dojoAttachPoint=\"editNode,focusNode,eventNode\" dojoAttachEvent=\"onpaste:_changing,oncut:_changing\" waiRole=\"textbox\" waiState=\"multiline-true\" contentEditable=\"true\"></div>":"<span id=\"${id}\" class=\"dijitReset\">"+"<iframe src=\"javascript:<html><head><title>${_iframeEditTitle}</title></head><body><script>var _postCreate=window.frameElement?window.frameElement.postCreate:null;if(_postCreate)_postCreate();</script></body></html>\""+" dojoAttachPoint=\"iframe,styleNode,stateNode\" dojoAttachEvent=\"onblur:_onIframeBlur\" class=\"dijitInline dijitInputField\"></iframe>")+"<textarea name=\"${name}\" value=\"${value}\" dojoAttachPoint=\"formValueNode\" style=\"display:none;\" autocomplete=\"off\"></textarea>"+((dojo.isIE||dojo.isSafari||dojo.isFF>=3)?"</fieldset>":"</span>"):"<textarea id=\"${id}\" name=\"${name}\" value=\"${value}\" dojoAttachPoint=\"formValueNode,editNode,focusNode,styleNode\">"+dojo.isFF+"</textarea>",baseClass:"dijitTextArea",_setDisabledAttr:function(_7d1){this.inherited(arguments);this.formValueNode.disabled=this.disabled;this._adjustWritable();},_setReadOnlyAttr:function(_7d2){this.readOnly=_7d2;this._adjustWritable();},_adjustWritable:function(){if(dojo.isIE||dojo.isSafari||dojo.isFF>=3){this.editNode.contentEditable=(!this.disabled&&!this.readOnly);}else{if(dojo.isFF){this.iframe.contentDocument.designMode=(this.disabled||this.readOnly)?"off":"on";}}},focus:function(){if(!this.disabled&&!this.readOnly){this._changing();}dijit.focus(this.iframe||this.focusNode);},_setValueAttr:function(_7d3,_7d4){var _7d5=this.editNode;if(typeof _7d3=="string"){_7d5.innerHTML="";if(_7d3.split){var _7d6=this;var _7d7=true;dojo.forEach(_7d3.split("\n"),function(line){if(_7d7){_7d7=false;}else{_7d5.appendChild(dojo.doc.createElement("BR"));}if(line){_7d5.appendChild(dojo.doc.createTextNode(line));}});}else{if(_7d3){_7d5.appendChild(dojo.doc.createTextNode(_7d3));}}if(!dojo.isIE){_7d5.appendChild(dojo.doc.createElement("BR"));}}else{_7d3=_7d5.innerHTML;if(this.iframe){_7d3=_7d3.replace(/<div><\/div>\r?\n?$/i,"");}_7d3=_7d3.replace(/\s*\r?\n|^\s+|\s+$|&nbsp;/g,"").replace(/>\s+</g,"><").replace(/<\/(p|div)>$|^<(p|div)[^>]*>/gi,"").replace(/([^>])<div>/g,"$1\n").replace(/<\/p>\s*<p[^>]*>|<br[^>]*>|<\/div>\s*<div[^>]*>/gi,"\n").replace(/<[^>]*>/g,"").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">");if(!dojo.isIE){_7d3=_7d3.replace(/\n$/,"");}}this.value=this.formValueNode.value=_7d3;if(this.iframe){var _7d9=dojo.doc.createElement("div");_7d5.appendChild(_7d9);var _7da=_7d9.offsetTop;if(_7d5.scrollWidth>_7d5.clientWidth){_7da+=16;}if(this.lastHeight!=_7da){if(_7da==0){_7da=16;}dojo.contentBox(this.iframe,{h:_7da});this.lastHeight=_7da;}_7d5.removeChild(_7d9);}dijit.form.Textarea.superclass._setValueAttr.call(this,this.attr("value"),_7d4);},_getValueAttr:function(){return this.value.replace(/\r/g,"");},postMixInProperties:function(){this.inherited(arguments);if(this.srcNodeRef&&this.srcNodeRef.innerHTML!=""){this.value=this.srcNodeRef.innerHTML;this.srcNodeRef.innerHTML="";}if((!this.value||this.value=="")&&this.srcNodeRef&&this.srcNodeRef.value){this.value=this.srcNodeRef.value;}if(!this.value){this.value="";}this.value=this.value.replace(/\r\n/g,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");if(dojo.isFF==2){var _7db=dojo.i18n.getLocalization("dijit.form","Textarea");this._iframeEditTitle=_7db.iframeEditTitle;this._iframeFocusTitle=_7db.iframeFocusTitle;var _7dc=dojo.query("label[for=\""+this.id+"\"]");if(_7dc.length){this._iframeEditTitle=_7dc[0].innerHTML+" "+this._iframeEditTitle;}this.focusNode=this.editNode=dojo.doc.createElement("BODY");}},postCreate:function(){var _7dd="";if(dojo.isIE||dojo.isSafari||dojo.isFF>=3){this.domNode.style.overflowY="hidden";}else{if(dojo.isFF){var w=this.iframe.contentWindow;var _7df="";try{_7df=this.iframe.contentDocument.title;}catch(e){}if(!w||!_7df){this.iframe.postCreate=dojo.hitch(this,this.postCreate);return;}var d=w.document;d.getElementsByTagName("HTML")[0].replaceChild(this.editNode,d.getElementsByTagName("BODY")[0]);if(!this.isLeftToRight()){d.getElementsByTagName("HTML")[0].dir="rtl";}this.iframe.style.overflowY="hidden";this.eventNode=d;w.addEventListener("resize",dojo.hitch(this,this._changed),false);dijit.registerWin(w);_7dd="margin:0px;padding:0px;border:0px;";}else{this.focusNode=this.domNode;}}this.style.replace(/(^|;)(line-|font-?)[^;]+/g,function(_7e1){_7dd+=_7e1.replace(/^;/g,"")+";";});dojo.attr(this.focusNode,"style",_7dd);if(this.eventNode){this.connect(this.eventNode,"keypress",this._onKeyPress);this.connect(this.eventNode,"mousemove",this._changed);this.connect(this.eventNode,"focus",this._focusedEventNode);this.connect(this.eventNode,"blur",this._blurredEventNode);}if(this.editNode){this.connect(this.editNode,"change",this._changed);}this.inherited("postCreate",arguments);},_focusedEventNode:function(e){this._focused=true;this._setStateClass();this._changed(e);},_blurredEventNode:function(e){this._focused=false;this._setStateClass();this._changed(e,true);},_onIframeBlur:function(){this.iframe.contentDocument.title=this._iframeEditTitle;},_onKeyPress:function(e){if(e.charOrCode===dojo.keys.TAB&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&this.iframe){this.iframe.contentDocument.title=this._iframeFocusTitle;this.iframe.focus();dojo.stopEvent(e);}else{if(e.charOrCode==dojo.keys.ENTER){e.stopPropagation();}else{if(this.inherited("_onKeyPress",arguments)&&this.iframe){var te=dojo.doc.createEvent("KeyEvents");te.initKeyEvent("keypress",true,true,null,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);this.iframe.dispatchEvent(te);}}}this._changing();},_changing:function(e){setTimeout(dojo.hitch(this,"_changed",e,false),1);},_changed:function(e,_7e8){if(this.iframe&&this.iframe.contentDocument.designMode!="on"&&!this.disabled&&!this.readOnly){this.iframe.contentDocument.designMode="on";}this._setValueAttr(null,_7e8||false);}});}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:"<div class=\"dijitReset dijitInline\" waiRole=\"presentation\"\n\t><input\n\t \ttype=\"${type}\" name=\"${name}\"\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\n/></div>\n",baseClass:"dijitCheckBox",type:"checkbox",value:"on",_setValueAttr:function(_7e9){if(typeof _7e9=="string"){this.value=_7e9;dojo.attr(this.focusNode,"value",_7e9);_7e9=true;}if(this._created){this.attr("checked",_7e9);}},_getValueAttr:function(){return (this.checked?this.value:false);},postMixInProperties:function(){if(this.value==""){this.value="on";}this.inherited(arguments);},_fillContent:function(_7ea){},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_7eb){this.inherited(arguments);if(!this._created){return;}if(_7eb){var _7ec=this;dojo.query("INPUT[type=radio][name="+this.name+"]",this.focusNode.form||dojo.doc).forEach(function(_7ed){if(_7ed!=_7ec.focusNode&&_7ed.form==_7ec.focusNode.form){var _7ee=dijit.getEnclosingWidget(_7ed);if(_7ee&&_7ee.checked){_7ee.attr("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.attr("checked",true);}}});}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var ret=0;if(a>b||typeof a==="undefined"||a===null){ret=1;}else{if(a<b||typeof b==="undefined"||b===null){ret=-1;}}return ret;};dojo.data.util.sorter.createSortFunction=function(_7f3,_7f4){var _7f5=[];function createSortFunction(attr,dir){return function(_7f8,_7f9){var a=_7f4.getValue(_7f8,attr);var b=_7f4.getValue(_7f9,attr);var _7fc=null;if(_7f4.comparatorMap){if(typeof attr!=="string"){attr=_7f4.getIdentity(attr);}_7fc=_7f4.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_7fc=_7fc||dojo.data.util.sorter.basicComparator;return dir*_7fc(a,b);};};var _7fd;for(var i=0;i<_7f3.length;i++){_7fd=_7f3[i];if(_7fd.attribute){var _7ff=(_7fd.descending)?-1:1;_7f5.push(createSortFunction(_7fd.attribute,_7ff));}}return function(rowA,rowB){var i=0;while(i<_7f5.length){var ret=_7f5[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_804){_804=_804||{};if(!_804.store){_804.store=this;}var self=this;var _806=function(_807,_808){if(_808.onError){var _809=_808.scope||dojo.global;_808.onError.call(_809,_807,_808);}};var _80a=function(_80b,_80c){var _80d=_80c.abort||null;var _80e=false;var _80f=_80c.start?_80c.start:0;var _810=(_80c.count&&(_80c.count!==Infinity))?(_80f+_80c.count):_80b.length;_80c.abort=function(){_80e=true;if(_80d){_80d.call(_80c);}};var _811=_80c.scope||dojo.global;if(!_80c.store){_80c.store=self;}if(_80c.onBegin){_80c.onBegin.call(_811,_80b.length,_80c);}if(_80c.sort){_80b.sort(dojo.data.util.sorter.createSortFunction(_80c.sort,self));}if(_80c.onItem){for(var i=_80f;(i<_80b.length)&&(i<_810);++i){var item=_80b[i];if(!_80e){_80c.onItem.call(_811,item,_80c);}}}if(_80c.onComplete&&!_80e){var _814=null;if(!_80c.onItem){_814=_80b.slice(_80f,_810);}_80c.onComplete.call(_811,_814,_80c);}};this._fetchItems(_804,_80a,_806);return _804;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_815,_816){var rxp="^";var c=null;for(var i=0;i<_815.length;i++){c=_815.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_815.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_816){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\n\t\t></div\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input type=\"text\" autocomplete=\"off\" name=\"${name}\" class='dijitReset'\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress, onfocus:_update, compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitComboBox",_getCaretPos:function(_81a){var pos=0;if(typeof (_81a.selectionStart)=="number"){pos=_81a.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_81a.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_81e,_81f){_81f=parseInt(_81f);dijit.selectInputText(_81e,_81f,_81f);},_setDisabledAttr:function(_820){dijit.setWaiState(this.comboNode,"disabled",_820);},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||(evt.ctrlKey&&(key!="x"&&key!="v"))||evt.key==dojo.keys.SHIFT){return;}var _823=false;var pw=this._popupWidget;var dk=dojo.keys;if(this._isShowingNow){pw.handleKey(key);}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_823=true;}else{this._announceOption(pw.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.PAGE_UP:case dk.UP_ARROW:if(this._isShowingNow){this._announceOption(pw.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.ENTER:var _826;if(this._isShowingNow&&(_826=pw.getHighlightedOption())){if(_826==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_826==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true);}evt.preventDefault();case dk.TAB:var _827=this.attr("displayedValue");if(pw&&(_827==pw._messages["previousMessage"]||_827==pw._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(pw.getHighlightedOption()){pw.attr("value",{target:pw.getHighlightedOption()});}this._lastQuery=null;this._hideResultList();}break;case " ":this._prev_key_backspace=false;this._prev_key_esc=false;if(this._isShowingNow&&pw.getHighlightedOption()){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_823=true;}break;case dk.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}else{this.inherited(arguments);}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_823=true;break;case dk.RIGHT_ARROW:case dk.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;_823=typeof key=="string";}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_823){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _82a=this.ignoreCase?"toLowerCase":"substr";if(text[_82a](0).indexOf(this.focusNode.value[_82a](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_82c,_82d){if(this.disabled||this.readOnly||(_82d.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_82c.length){this._hideResultList();return;}var _82e=new String(this.store.getValue(_82c[0],this.searchAttr));if(_82e&&this.autoComplete&&!this._prev_key_backspace&&(_82d.query[this.searchAttr]!="*")){this._autoCompleteText(_82e);}_82d._maxOptions=this._maxOptions;this._popupWidget.createOptions(_82c,_82d,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_82d.direction){if(1==_82d.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_82d.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function(){this._hideResultList();var _82f=this._popupWidget.getItems(),_830=Math.min(_82f.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _832=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_832.h)&&(best.w==_832.w))?"hidden":"auto";var _833=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_833+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_833,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _834=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_834==pw._messages["previousMessage"]||_834==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{this.attr("displayedValue",_834);}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_announceOption:function(node){if(node==null){return;}var _837;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_837=node.innerHTML;}else{_837=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_837);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.attr("displayedValue",this.attr("displayedValue"));return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.item=tgt.item;this.attr("value",this.store.getValue(tgt.item,this.searchAttr));},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _83e=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_83e});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_83e);}this.item=null;var _83f=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_83f[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_840,_841){var _842={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_840,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_843){console.error("dijit.form.ComboBox: "+_843);dojo.hitch(_841,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_842,_841.fetchProperties);var _844=_841.store.fetch(_842);var _845=function(_846,_847){_846.start+=_846.count*_847;_846.direction=_847;this.store.fetch(_846);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_845,_844);},_83f,this),this.searchDelay);},_setMaxOptions:function(size,_849){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charCode:-1});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _84b=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_84b);if(!this.value||((typeof _84b.selectedIndex=="number")&&_84b.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){this.value=this.store.getValue(item,this._getValueField());}}}},_postCreate:function(){var _84d=dojo.query("label[for=\""+this.id+"\"]");if(_84d.length){_84d[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_84d[0].id);}},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function(item){var _850=this.store.getValue(item,this.labelAttr||this.searchAttr);var _851=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_850=this.doHighlight(_850,this._escapeHtml(this._lastInput));_851="html";}return {html:_851=="html",label:_850};},doHighlight:function(_852,find){var _854="i"+(this.highlightMatch=="all"?"g":"");var _855=this._escapeHtml(_852);var ret=_855.replace(new RegExp("^("+find+")",_854),"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");if(_855==ret){ret=_855.replace(new RegExp(" ("+find+")",_854)," <span class=\"dijitComboBoxHighlightMatch\">$1</span>");}return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited("postMixInProperties",arguments);},_setValueAttr:function(_858){this.value=_858;this.onChange(_858);},onChange:function(_859){},onPage:function(_85a){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_85c){var _85d=_85c(item);var _85e=dojo.doc.createElement("li");dijit.setWaiRole(_85e,"option");if(_85d.html){_85e.innerHTML=_85d.label;}else{_85e.appendChild(dojo.doc.createTextNode(_85d.label));}if(_85e.innerHTML==""){_85e.innerHTML="&nbsp;";}_85e.item=item;return _85e;},createOptions:function(_85f,_860,_861){this.previousButton.style.display=(_860.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_85f,function(item,i){var _864=this._createOption(item,_861);_864.className="dijitReset dijitMenuItem";dojo.attr(_864,"id",this.id+i);this.domNode.insertBefore(_864,this.nextButton);},this);var _865=false;if(_860._maxOptions&&_860._maxOptions!=-1){if((_860.start+_860.count)<_860._maxOptions){_865=true;}else{if((_860.start+_860.count)>(_860._maxOptions-1)){if(_860.count==_85f.length){_865=true;}}}}else{if(_860.count==_85f.length){_865=true;}}this.nextButton.style.display=_865?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemHover");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _872=0;var _873=this.domNode.scrollTop;var _874=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_872<_874){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _875=this.domNode.scrollTop;_872+=(_875-_873)*(up?-1:1);_873=_875;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments);dijit.form.ValidationTextBox.prototype.postMixInProperties.apply(this,arguments);},postCreate:function(){dijit.form.ComboBoxMixin.prototype._postCreate.apply(this,arguments);dijit.form.ValidationTextBox.prototype.postCreate.apply(this,arguments);},_setDisabledAttr:function(_878){dijit.form.ValidationTextBox.prototype._setDisabledAttr.apply(this,arguments);dijit.form.ComboBoxMixin.prototype._setDisabledAttr.apply(this,arguments);},_setValueAttr:function(_879,_87a){if(!_879){_879="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_879,_87a);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_87e,_87f){return (_87e=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_880){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_882,_883){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _884=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_885=dojo.query("> option",this.root).filter(function(_886){return (_886.innerText||_886.textContent||"").match(_884);});if(args.sort){_885.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_882(_885,args);},close:function(_887){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function(_88e,_88f,_890){if((_88f&&_88f.query[this.searchAttr]!=this._lastQuery)||(!_88f&&_88e.length&&this.store.getIdentity(_88e[0])!=this._lastQuery)){return;}if(!_88e.length){if(_890||!this._focused){this.valueNode.value="";}dijit.form.TextBox.superclass._setValueAttr.call(this,"",_890||!this._focused);this._isvalid=false;this.validate(this._focused);this.item=null;}else{this._setValueFromItem(_88e[0],_890);}},_openResultList:function(_891,_892){if(_892.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_891.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValue:function(_893,_894,_895){this.valueNode.value=_893;dijit.form.FilteringSelect.superclass._setValueAttr.call(this,_893,_895,_894);this._lastDisplayedValue=_894;},_setValueAttr:function(_896,_897){if(!this._onChangeActive){_897=null;}this._lastQuery=_896;if(_896===null){this._setDisplayedValueAttr("",_897);return;}var self=this;var _899=function(item,_89b){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item],undefined,_89b);}else{self.store.loadItem({item:item,onItem:function(_89c,_89d){self._callbackSetLabel(_89c,_89d,_89b);}});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_896,onItem:function(item){_899(item,_897);}});},_setValueFromItem:function(item,_8a0){this._isvalid=true;this.item=item;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store),_8a0);},labelFunc:function(item,_8a2){return _8a2.getValue(item,this.searchAttr);},_doSelect:function(tgt){this._setValueFromItem(tgt.item,true);},_setDisplayedValueAttr:function(_8a4,_8a5){if(!this._created){_8a5=false;}if(this.store){var _8a6=dojo.clone(this.query);this._lastQuery=_8a6[this.searchAttr]=_8a4.replace(/([\\\*\?])/g,"\\$1");this.textbox.value=_8a4;this._lastDisplayedValue=_8a4;var _8a7=this;var _8a8={query:_8a6,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_8a9,_8aa){dojo.hitch(_8a7,"_callbackSetLabel")(_8a9,_8aa,_8a5);},onError:function(_8ab){console.error("dijit.form.FilteringSelect: "+_8ab);dojo.hitch(_8a7,"_setValue")("",_8a4,false);}};dojo.mixin(_8a8,this.fetchProperties);this.store.fetch(_8a8);}},postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments);dijit.form.MappedTextBox.prototype.postMixInProperties.apply(this,arguments);},postCreate:function(){dijit.form.ComboBoxMixin.prototype._postCreate.apply(this,arguments);dijit.form.MappedTextBox.prototype.postCreate.apply(this,arguments);},_setDisabledAttr:function(attr,_8ad){dijit.form.MappedTextBox.prototype._setDisabledAttr.apply(this,arguments);dijit.form.ComboBoxMixin.prototype._setDisabledAttr.apply(this,arguments);},undo:function(){this.attr("displayedValue",this._lastDisplayedValue);},_valueChanged:function(){return this.attr("displayedValue")!=this._lastDisplayedValue;}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isSafari||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _8c5=n.scrollLeft,_8c6=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_8c5!=n.scrollLeft||_8c6!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_8cc=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo,"stopEvent"),dojo.connect(d,"onselectstart",dojo,"stopEvent"),_8cc];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isSafari&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_8db){this.node=dojo.byId(node);if(!_8db){_8db={};}this.handle=_8db.handle?dojo.byId(_8db.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_8db.delay>0?_8db.delay:0;this.skip=_8db.skip;this.mover=_8db.mover?_8db.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_8dc,node){return new dojo.dnd.Moveable(node,_8dc);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"));this.events.push(dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){dojo.disconnect(this.events.pop());dojo.disconnect(this.events.pop());dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_8e3){dojo.publish("/dnd/move/start",[_8e3]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_8e4){dojo.publish("/dnd/move/stop",[_8e4]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_8e5){},onMove:function(_8e6,_8e7){this.onMoving(_8e6,_8e7);var s=_8e6.node.style;s.left=_8e7.l+"px";s.top=_8e7.t+"px";this.onMoved(_8e6,_8e7);},onMoving:function(_8e9,_8ea){},onMoved:function(_8eb,_8ec){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_8ed,node){return new dojo.dnd.move.constrainedMoveable(node,_8ed);},constructor:function(node,_8f0){if(!_8f0){_8f0={};}this.constraints=_8f0.constraints;this.within=_8f0.within;},onFirstMove:function(_8f1){var c=this.constraintBox=this.constraints.call(this,_8f1);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_8f1.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_8f4,_8f5){var c=this.constraintBox,s=_8f4.node.style;s.left=(_8f5.l<c.l?c.l:c.r<_8f5.l?c.r:_8f5.l)+"px";s.top=(_8f5.t<c.t?c.t:c.b<_8f5.t?c.b:_8f5.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_8f8,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_8f8);},constructor:function(node,_8fb){var box=_8fb&&_8fb.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_8fd,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_8fd);},constructor:function(node,_900){var area=_900&&_900.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_907){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _908=function(node,e,_90b){dojo.dnd.Mover.call(this,node,e,_90b);};dojo.extend(_908,dojo.dnd.Mover.prototype);dojo.extend(_908,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_907){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _908;};dojo.dnd.move.boxConstrainedMover=function(box,_914){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_914);};dojo.dnd.move.parentConstrainedMover=function(area,_916){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_916);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _91c=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_91e){if(!_91e){_91e={};}if(_91e.timeout&&typeof _91e.timeout=="number"&&_91e.timeout>=0){this.timeout=_91e.timeout;}},markupFactory:function(_91f,node){return new dojo.dnd.TimedMoveable(node,_91f);},onMoveStop:function(_921){if(_921._timer){clearTimeout(_921._timer);_91c.call(this,_921,_921._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_922,_923){_922._leftTop=_923;if(!_922._timer){var _t=this;_922._timer=setTimeout(function(){_922._timer=null;_91c.call(_t,_922,_922._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(_925){if(_925.reset){_925.reset();}});},validate:function(){var _926=false;return dojo.every(dojo.map(this.getDescendants(),function(_927){_927._hasBeenBlurred=true;var _928=_927.disabled||!_927.validate||_927.validate();if(!_928&&!_926){dijit.scrollIntoView(_927.containerNode||_927.domNode);_927.focus();_926=true;}return _928;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_92d){if(!_92d.name){return;}var _92e=map[_92d.name]||(map[_92d.name]=[]);_92e.push(_92d);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _930=map[name],_931=dojo.getObject(name,false,obj);if(_931===undefined){continue;}if(!dojo.isArray(_931)){_931=[_931];}if(typeof _930[0].checked=="boolean"){dojo.forEach(_930,function(w,i){w.attr("value",dojo.indexOf(_931,w.value)!=-1);});}else{if(_930[0]._multiValue){_930[0].attr("value",_931);}else{dojo.forEach(_930,function(w,i){w.attr("value",_931[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_937){var name=_937.name;if(!name||_937.disabled){return;}var _939=_937.attr("value");if(typeof _937.checked=="boolean"){if(/Radio/.test(_937.declaredClass)){if(_939!==false){dojo.setObject(name,_939,obj);}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_939!==false){ary.push(_939);}}}else{dojo.setObject(name,_939,obj);}});return obj;},isValid:function(){return dojo.every(this.getDescendants(),function(_93b){return _93b.disabled||!_93b.isValid||_93b.isValid();});},onValidStateChange:function(_93c){},_widgetChange:function(){var _93d=this.isValid();if(_93d!==this._lastValidState){this._lastValidState=_93d;this.onValidStateChange(_93d);}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _93e=this;this._changeConnections=dojo.map(dojo.filter(this.getDescendants(),function(item){return item.validate;}),function(_940){return _93e.connect(_940,"validate","_widgetChange");});this._widgetChange();},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();this._lastValidState=this.isValid();}});dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' name='${name}'></form>",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),execute:function(_941){},onExecute:function(){},_setEncTypeAttr:function(_942){this.encType=_942;dojo.attr(this.domNode,"encType",_942);if(dojo.isIE){this.domNode.encoding=_942;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var item=this.srcNodeRef.attributes.getNamedItem("encType");if(item&&!item.specified&&(typeof item.value=="string")){this.attr("encType",item.value);}}this.inherited(arguments);},onReset:function(e){return true;},_onReset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e.currentTarget,target:e.target};if(!(this.onReset(faux)===false)&&faux.returnValue){this.reset();}dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper' id='${id}_wrapper'><div class='dijitDialogUnderlay ${class}' id='${id}' dojoAttachPoint='node'></div></div>",attributeMap:{},postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);},layout:function(){var _94a=dijit.getViewport();var is=this.node.style,os=this.domNode.style;os.top=_94a.t+"px";os.left=_94a.l+"px";is.width=_94a.w+"px";is.height=_94a.h+"px";var _94d=dijit.getViewport();if(_94a.w!=_94d.w){is.width=_94d.w+"px";}if(_94a.h!=_94d.h){is.height=_94d.h+"px";}},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block";}},hide:function(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy();}}});dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_94e){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"));},_getFocusItems:function(_94f){var _950=dijit._getTabNavigable(dojo.byId(_94f));this._firstFocusItem=_950.lowest||_950.first||_94f;this._lastFocusItem=_950.last||_950.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(_94f,"tabindex","0");this._firstFocusItem=_94f;}}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:"<div class=\"dijitDialog\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,postMixInProperties:function(){var _951=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_951);this.inherited(arguments);},postCreate:function(){var s=this.domNode.style;s.visibility="hidden";s.position="absolute";s.display="";s.top="-9999px";dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){var vp=dijit.getViewport();var p=e._leftTop||dojo.coords(e.node,true);this._relativePosition={t:p.t-vp.t,l:p.l-vp.l};}},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}this._underlay=new dijit.DialogUnderlay({id:this.id+"_underlay","class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")});var _958=this._underlay;this._fadeIn=dojo.fadeIn({node:node,duration:this.duration,onBegin:dojo.hitch(_958,"show")});this._fadeOut=dojo.fadeOut({node:node,duration:this.duration,onEnd:function(){node.style.visibility="hidden";node.style.top="-9999px";_958.hide();}});},uninitialize:function(){if(this._fadeIn&&this._fadeIn.status()=="playing"){this._fadeIn.stop();}if(this._fadeOut&&this._fadeOut.status()=="playing"){this._fadeOut.stop();}if(this._underlay){this._underlay.destroy();}if(this._moveable){this._moveable.destroy();}},_size:function(){var mb=dojo.marginBox(this.domNode);var _95a=dijit.getViewport();if(mb.w>=_95a.w||mb.h>=_95a.h){dojo.style(this.containerNode,{width:Math.min(mb.w,Math.floor(_95a.w*0.75))+"px",height:Math.min(mb.h,Math.floor(_95a.h*0.75))+"px",overflow:"auto",position:"relative"});}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode;var _95c=dijit.getViewport();var p=this._relativePosition;var mb=p?null:dojo.marginBox(node);dojo.style(node,{left:Math.floor(_95c.l+(p?p.l:(_95c.w-mb.w)/2))+"px",top:Math.floor(_95c.t+(p?p.t:(_95c.h-mb.h)/2))+"px"});}},_onKey:function(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _962=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_962){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_962){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,"layout"));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});this.open=true;this._loadCheck();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);if(this.autofocus){this._getFocusItems(this.domNode);setTimeout(dojo.hitch(dijit,"focus",this._firstFocusItem),50);}},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus));}if(this._relativePosition){delete this._relativePosition;}this.open=false;},layout:function(){if(this.domNode.style.visibility!="hidden"){this._underlay.layout();this._position();}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25);}this.inherited(arguments);}});dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,"class":"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:"<div waiRole=\"presentation\">\n\t<div class=\"dijitTooltipContainer\" waiRole=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" waiRole=\"presentation\"></div>\n</div>\n",postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title;},orient:function(node,_964,_965){this.domNode.className=this["class"]+" dijitTooltipAB"+(_965.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_965.charAt(0)=="T"?"Below":"Above");},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._loadCheck();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _96a=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){this.onCancel();dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_96a){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_96a){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_96c){this.node=dojo.byId(node);if(!_96c){_96c={};}this.creator=_96c.creator||null;this.skipForm=_96c.skipForm;this.parent=_96c.dropParent&&dojo.byId(_96c.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_96c&&_96c._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_97c,_97d){if(!this.parent.firstChild){_97d=null;}else{if(_97c){if(!_97d){_97d=this.parent.firstChild;}}else{if(_97d){_97d=_97d.nextSibling;}}}if(_97d){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_97d);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_980,node){_980._skipStartup=true;return new dojo.dnd.Container(node,_980);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_989){var _98a="dojoDnd"+type;var _98b=type.toLowerCase()+"State";dojo.removeClass(this.node,_98a+this[_98b]);dojo.addClass(this.node,_98a+_989);this[_98b]=_989;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _992=node.parentNode;_992;node=_992,_992=node.parentNode){if(_992==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){var n=dojo.doc.createElement(tag);n.innerHTML=text;return n;};};dojo.dnd._createTrTd=function(text){var tr=dojo.doc.createElement("tr");var td=dojo.doc.createElement("td");td.innerHTML=text;tr.appendChild(td);return tr;};dojo.dnd._createSpan=function(text){var n=dojo.doc.createElement("span");n.innerHTML=text;return n;};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _9a3=item&&dojo.isObject(item),data,type,n;if(_9a3&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_9a3&&item.data)?item.data:item;type=(_9a3&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}n.id=dojo.dnd.getUniqueId();return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_9a8){if(!_9a8){_9a8={};}this.singular=_9a8.singular;this.autoSync=_9a8.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo._destroyElement(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_9ba,data,_9bc,_9bd){var _9be=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_9be.call(this,item,hint);if(_9ba){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_9bc,_9bd);this._normalizedCreator=_9be;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_9c2,node){_9c2._skipStartup=true;return new dojo.dnd.Selector(node,_9c2);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;dojo.stopEvent(e);return;}if(!this.singular&&e.shiftKey){if(!dojo.dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_9cd){this.manager=_9cd;this.construct();},construct:function(){var a=dojo.doc.createElement("table");a.className="dojoDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dojo.doc.createElement("tbody");var tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarHeader";var td=dojo.doc.createElement("td");td.innerHTML=this._generateText();tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);var k=Math.min(5,this.manager.nodes.length);var _9d3=this.manager.source,node;for(var i=0;i<k;++i){tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarItem";td=dojo.doc.createElement("td");if(_9d3.creator){node=_9d3._normalizedCreator(_9d3.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _9d6=dojo.doc.createElement("table"),_9d7=dojo.doc.createElement("tbody");_9d7.appendChild(node);_9d6.appendChild(_9d7);node=_9d6;}}node.id="";td.appendChild(node);tr.appendChild(td);dojo.style(tr,"opacity",(9-i)/10);b.appendChild(tr);}a.appendChild(b);this.node=a;},destroy:function(){dojo._destroyElement(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");dojo.query("tr.dojoDndAvatarHeader td",this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_9d9){if(this.avatar){this.target=(_9d9&&_9d9.targetState!="Disabled")?_9d9:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_9d9]);},outSource:function(_9da){if(this.avatar){if(this.target==_9da){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_9db,_9dc,copy){this.source=_9db;this.nodes=_9dc;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_9db,_9dc,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp")];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _9e0=Boolean(this.target&&flag);if(this.canDropFlag!=_9e0){this.canDropFlag=_9e0;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar&&(!("mouseButton" in this.source)||(dojo.isSafari&&dojo.dnd._isMac&&this.source.mouseButton==2?e.button==0:this.source.mouseButton==e.button))){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e))),_9e7=[this.source,this.nodes,copy,this.target];dojo.publish("/dnd/drop/before",_9e7);dojo.publish("/dnd/drop",_9e7);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],constructor:function(node,_9ee){dojo.mixin(this,dojo.mixin({},_9ee));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_9f1,_9f2){if(this==_9f1){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_9f2.length;++i){var type=_9f1.getItem(_9f2[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_9f7,self){if(_9f7){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_9f9,node){_9f9._skipStartup=true;return new dojo.dnd.Source(node,_9f9);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _9fd=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_9fd=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_9fd=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_9fd!=this.before){this._markTargetAnchor(_9fd);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _9fe=this.getSelectedNodes();if(_9fe.length){m.startDrag(this,_9fe,this.copyState(dojo.dnd.getCopyKeyState(e),true));}}}},onMouseDown:function(e){if(this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_a01){if(this!=_a01){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_a03,_a04,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_a03?(copy?"Copied":"Moved"):"");}var _a06=this.accept&&this.checkAcceptance(_a03,_a04);this._changeState("Target",_a06?"":"Disabled");if(this==_a03){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_a07,_a08,copy,_a0a){if(this==_a0a){this.onDrop(_a07,_a08,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_a0b,_a0c,copy){if(this!=_a0b){this.onDropExternal(_a0b,_a0c,copy);}else{this.onDropInternal(_a0c,copy);}},onDropExternal:function(_a0e,_a0f,copy){var _a11=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _a11.call(this,_a0e.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_a0e.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_a0e.getItem(node.id);_a0e.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_a0e.selectNone();}this.insertNodes(true,_a0f,this.before,this.current);if(!copy&&this.creator){_a0e.deleteSelectedNodes();}this._normalizedCreator=_a11;},onDropInternal:function(_a1b,copy){var _a1d=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _a1d.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_a1b,this.before,this.current);this._normalizedCreator=_a1d;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_a27){if(this.current==this.targetAnchor&&this.before==_a27){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_a27;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!this.withHandles){return true;}for(var node=e.target;node&&!dojo.hasClass(node,"dojoDndItem");node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_a2c){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_a2d,node){_a2d._skipStartup=true;return new dojo.dnd.Target(node,_a2d);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_a30){this.autoSync=true;},markupFactory:function(_a31,node){_a31._skipStartup=true;return new dojo.dnd.AutoSource(node,_a31);}});}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_a33){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_a33.url;this._jsonData=_a33.data;this._datatypeMap=_a33.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_a34){return dojo.date.stamp.fromISOString(_a34);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_a33.urlPreventCache!==undefined){this.urlPreventCache=_a33.urlPreventCache?true:false;}if(_a33.clearOnClose){this.clearOnClose=true;}},url:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_a36){if(typeof _a36!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_a38,_a39){var _a3a=this.getValues(item,_a38);return (_a3a.length>0)?_a3a[0]:_a39;},getValues:function(item,_a3c){this._assertIsItem(item);this._assertIsAttribute(_a3c);return item[_a3c]||[];},getAttributes:function(item){this._assertIsItem(item);var _a3e=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_a3e.push(key);}}return _a3e;},hasAttribute:function(item,_a41){return this.getValues(item,_a41).length>0;},containsValue:function(item,_a43,_a44){var _a45=undefined;if(typeof _a44==="string"){_a45=dojo.data.util.filter.patternToRegExp(_a44,false);}return this._containsValue(item,_a43,_a44,_a45);},_containsValue:function(item,_a47,_a48,_a49){return dojo.some(this.getValues(item,_a47),function(_a4a){if(_a4a!==null&&!dojo.isObject(_a4a)&&_a49){if(_a4a.toString().match(_a49)){return true;}}else{if(_a48===_a4a){return true;}}});},isItem:function(_a4b){if(_a4b&&_a4b[this._storeRefPropName]===this){if(this._arrayOfAllItems[_a4b[this._itemNumPropName]]===_a4b){return true;}}return false;},isItemLoaded:function(_a4c){return this.isItem(_a4c);},loadItem:function(_a4d){this._assertIsItem(_a4d.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_a50,_a51,_a52){var self=this;var _a54=function(_a55,_a56){var _a57=[];if(_a55.query){var _a58=_a55.queryOptions?_a55.queryOptions.ignoreCase:false;var _a59={};for(var key in _a55.query){var _a5b=_a55.query[key];if(typeof _a5b==="string"){_a59[key]=dojo.data.util.filter.patternToRegExp(_a5b,_a58);}}for(var i=0;i<_a56.length;++i){var _a5d=true;var _a5e=_a56[i];if(_a5e===null){_a5d=false;}else{for(var key in _a55.query){var _a5b=_a55.query[key];if(!self._containsValue(_a5e,key,_a5b,_a59[key])){_a5d=false;}}}if(_a5d){_a57.push(_a5e);}}_a51(_a57,_a55);}else{for(var i=0;i<_a56.length;++i){var item=_a56[i];if(item!==null){_a57.push(item);}}_a51(_a57,_a55);}};if(this._loadFinished){_a54(_a50,this._getItemsArray(_a50.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_a50,filter:_a54});}else{this._loadInProgress=true;var _a60={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _a61=dojo.xhrGet(_a60);_a61.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_a54(_a50,self._getItemsArray(_a50.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_a52(e,_a50);}});_a61.addErrback(function(_a63){self._loadInProgress=false;_a52(_a63,_a50);});}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_a54(_a50,this._getItemsArray(_a50.queryOptions));}catch(e){_a52(e,_a50);}}else{_a52(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_a50);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _a65=this._queuedFetches[i];var _a66=_a65.args;var _a67=_a65.filter;if(_a67){_a67(_a66,this._getItemsArray(_a66.queryOptions));}else{this.fetchItemByIdentity(_a66);}}this._queuedFetches=[];}},_getItemsArray:function(_a68){if(_a68&&_a68.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_a69){if(this.clearOnClose&&(this._jsonFileUrl!=="")){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_a6a){var _a6b=false;function valueIsAnItem(_a6c){var _a6d=((_a6c!=null)&&(typeof _a6c=="object")&&(!dojo.isArray(_a6c)||_a6b)&&(!dojo.isFunction(_a6c))&&(_a6c.constructor==Object||dojo.isArray(_a6c))&&(typeof _a6c._reference=="undefined")&&(typeof _a6c._type=="undefined")&&(typeof _a6c._value=="undefined"));return _a6d;};var self=this;function addItemAndSubItemsToArrayOfAllItems(_a6f){self._arrayOfAllItems.push(_a6f);for(var _a70 in _a6f){var _a71=_a6f[_a70];if(_a71){if(dojo.isArray(_a71)){var _a72=_a71;for(var k=0;k<_a72.length;++k){var _a74=_a72[k];if(valueIsAnItem(_a74)){addItemAndSubItemsToArrayOfAllItems(_a74);}}}else{if(valueIsAnItem(_a71)){addItemAndSubItemsToArrayOfAllItems(_a71);}}}}};this._labelAttr=_a6a.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_a6a.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_a6b=true;}addItemAndSubItemsToArrayOfAllItems(item);item[this._rootItemPropName]=true;}var _a77={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _a79=item[key];if(_a79!==null){if(!dojo.isArray(_a79)){item[key]=[_a79];}}else{item[key]=[null];}}_a77[key]=key;}}while(_a77[this._storeRefPropName]){this._storeRefPropName+="_";}while(_a77[this._itemNumPropName]){this._itemNumPropName+="_";}while(_a77[this._reverseRefMap]){this._reverseRefMap+="_";}var _a7a;var _a7b=_a6a.identifier;if(_a7b){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_a7b;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_a7a=item[_a7b];var _a7c=_a7a[0];if(!this._itemsByIdentity[_a7c]){this._itemsByIdentity[_a7c]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_a7b+"].  Value collided: ["+_a7c+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_a7b+"].  Value collided: ["+_a7c+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_a7a=item[key];for(var j=0;j<_a7a.length;++j){_a79=_a7a[j];if(_a79!==null&&typeof _a79=="object"){if(_a79._type&&_a79._value){var type=_a79._type;var _a7f=this._datatypeMap[type];if(!_a7f){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_a7f)){_a7a[j]=new _a7f(_a79._value);}else{if(dojo.isFunction(_a7f.deserialize)){_a7a[j]=_a7f.deserialize(_a79._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_a79._reference){var _a80=_a79._reference;if(!dojo.isObject(_a80)){_a7a[j]=this._itemsByIdentity[_a80];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _a82=this._arrayOfAllItems[k];var _a83=true;for(var _a84 in _a80){if(_a82[_a84]!=_a80[_a84]){_a83=false;}}if(_a83){_a7a[j]=_a82;}}}if(this.referenceIntegrity){var _a85=_a7a[j];if(this.isItem(_a85)){this._addReferenceToMap(_a85,item,key);}}}else{if(this.isItem(_a79)){if(this.referenceIntegrity){this._addReferenceToMap(_a79,item,key);}}}}}}}},_addReferenceToMap:function(_a86,_a87,_a88){},getIdentity:function(item){var _a8a=this._features["dojo.data.api.Identity"];if(_a8a===Number){return item[this._itemNumPropName];}else{var _a8b=item[_a8a];if(_a8b){return _a8b[0];}}return null;},fetchItemByIdentity:function(_a8c){if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_a8c});}else{this._loadInProgress=true;var _a8e={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _a8f=dojo.xhrGet(_a8e);_a8f.addCallback(function(data){var _a91=_a8c.scope?_a8c.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_a8c.identity);if(_a8c.onItem){_a8c.onItem.call(_a91,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_a8c.onError){_a8c.onError.call(_a91,error);}}});_a8f.addErrback(function(_a93){self._loadInProgress=false;if(_a8c.onError){var _a94=_a8c.scope?_a8c.scope:dojo.global;_a8c.onError.call(_a94,_a93);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_a8c.identity);if(_a8c.onItem){var _a96=_a8c.scope?_a8c.scope:dojo.global;_a8c.onItem.call(_a96,item);}}}}else{var item=this._getItemByIdentity(_a8c.identity);if(_a8c.onItem){var _a96=_a8c.scope?_a8c.scope:dojo.global;_a8c.onItem.call(_a96,item);}}},_getItemByIdentity:function(_a97){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_a97];}else{item=this._arrayOfAllItems[_a97];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _a9a=this._features["dojo.data.api.Identity"];if(_a9a===Number){return null;}else{return [_a9a];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _a9c={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _a9d=dojo.xhrGet(_a9c);_a9d.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_a9d.addErrback(function(_a9f){throw _a9f;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.InlineEditBox"]){dojo._hasResource["dijit.InlineEditBox"]=true;dojo.provide("dijit.InlineEditBox");dojo.declare("dijit.InlineEditBox",dijit._Widget,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:"dijit.form.TextBox",editorParams:{},onChange:function(_aa0){},onCancel:function(){},width:"100%",value:"",noValueIndicator:"<span style='font-family: wingdings; text-decoration: underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&#x270d;&nbsp;&nbsp;&nbsp;&nbsp;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _aa1={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _aa1){this.connect(this.displayNode,name,_aa1[name]);}dijit.setWaiRole(this.displayNode,"button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}this.attr("value",this.value||this.displayNode.innerHTML);},setDisabled:function(_aa3){dojo.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_aa3);},_setDisabledAttr:function(_aa4){this.disabled=_aa4;dijit.setWaiState(this.domNode,"disabled",_aa4);},_onMouseOver:function(){dojo.addClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion");},_onMouseOut:function(){dojo.removeClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion");},_onClick:function(e){if(this.disabled){return;}if(e){dojo.stopEvent(e);}this._onMouseOut();setTimeout(dojo.hitch(this,"edit"),0);},edit:function(){if(this.disabled||this.editing){return;}this.editing=true;var _aa6=(this.renderAsHtml?this.value:this.value.replace(/\s*\r?\n\s*/g,"").replace(/<br\/?>/gi,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,"\""));var _aa7=dojo.doc.createElement("span");dojo.place(_aa7,this.domNode,"before");var ew=this.editWidget=new dijit._InlineEditor({value:dojo.trim(_aa6),autoSave:this.autoSave,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,renderAsHtml:this.renderAsHtml,editor:this.editor,editorParams:this.editorParams,style:dojo.getComputedStyle(this.displayNode),save:dojo.hitch(this,"save"),cancel:dojo.hitch(this,"cancel"),width:this.width},_aa7);var ews=ew.domNode.style;this.displayNode.style.display="none";ews.position="static";ews.visibility="visible";this.domNode=ew.domNode;setTimeout(function(){if(ew.editWidget._resetValue===undefined){ew.editWidget._resetValue=ew.getValue();}ew.focus();},100);},_showText:function(_aaa){this.displayNode.style.display="";var ew=this.editWidget;var ews=ew.domNode.style;ews.position="absolute";ews.visibility="hidden";this.domNode=this.displayNode;if(_aaa){dijit.focus(this.displayNode);}ews.display="none";setTimeout(function(){ew.destroy();delete ew;if(dojo.isIE){dijit.focus(dijit.getFocus());}},1000);},save:function(_aad){if(this.disabled||!this.editing){return;}this.editing=false;var _aae=this.editWidget.getValue()+"";this.attr("value",this.renderAsHtml?_aae:_aae.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>"));this.onChange(_aae);this._showText(_aad);},setValue:function(val){dojo.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(val){this.value=val;this.displayNode.innerHTML=dojo.trim(val)||this.noValueIndicator;},getValue:function(){dojo.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use attr('value') instead.","","2.0");return this.attr("value");},cancel:function(_ab1){this.editing=false;this.onCancel();this._showText(_ab1);}});dojo.declare("dijit._InlineEditor",[dijit._Widget,dijit._Templated],{templateString:"<span dojoAttachPoint=\"editNode\" waiRole=\"presentation\" style=\"position: absolute; visibility:hidden\" class=\"dijitReset dijitInline\"\n\tdojoAttachEvent=\"onkeypress: _onKeyPress\" \n\t><span dojoAttachPoint=\"editorPlaceholder\"></span\n\t><span dojoAttachPoint=\"buttonContainer\"\n\t\t><button class='saveButton' dojoAttachPoint=\"saveButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:save\" disabled=\"true\" label=\"${buttonSave}\"></button\n\t\t><button class='cancelButton' dojoAttachPoint=\"cancelButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:cancel\" label=\"${buttonCancel}\"></button\n\t></span\n></span>\n",widgetsInTemplate:true,postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit","common",this.lang);dojo.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},postCreate:function(){var cls=dojo.getObject(this.editor);var _ab4=this.style;var _ab5="line-height:"+_ab4.lineHeight+";";dojo.forEach(["Weight","Family","Size","Style"],function(prop){_ab5+="font-"+prop+":"+_ab4["font"+prop]+";";},this);dojo.forEach(["marginTop","marginBottom","marginLeft","marginRight"],function(prop){this.domNode.style[prop]=_ab4[prop];},this);if(this.width=="100%"){_ab5+="width:100%;";this.domNode.style.display="block";}else{_ab5+="width:"+(this.width+(Number(this.width)==this.width?"px":""))+";";}this.editorParams.style=_ab5;this.editorParams["displayedValue" in cls.prototype?"displayedValue":"value"]=this.value;var ew=this.editWidget=new cls(this.editorParams,this.editorPlaceholder);this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");if(this.autoSave){this.buttonContainer.style.display="none";}},destroy:function(){this.editWidget.destroy();this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return ew.attr("displayedValue" in ew?"displayedValue":"value");},_onKeyPress:function(e){if(this._exitInProgress){return;}if(this.autoSave){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==dojo.keys.ESCAPE){dojo.stopEvent(e);this._exitInProgress=true;this.cancel(true);}else{if(e.charOrCode==dojo.keys.ENTER){dojo.stopEvent(e);this._exitInProgress=true;this.save(true);}else{if(e.charOrCode===dojo.keys.TAB){this._exitInProgress=true;setTimeout(dojo.hitch(this,"save",false),0);}}}}else{var _abb=this;setTimeout(function(){_abb.saveButton.attr("disabled",_abb.getValue()==_abb.editWidget._resetValue);},100);}},_onBlur:function(){this.inherited(arguments);if(this._exitInProgress){return;}if(this.autoSave){this._exitInProgress=true;if(this.getValue()==this.editWidget._resetValue){this.cancel(false);}else{this.save(false);}}},_onChange:function(){if(this._exitInProgress){return;}if(this.autoSave){this._exitInProgress=true;this.save(true);}else{this.saveButton.attr("disabled",(this.getValue()==this.editWidget._resetValue)||!this.enableSave());}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();dijit.selectInputText(this.editWidget.focusNode);}});}if(!dojo._hasResource["dojox.gfx.matrix"]){dojo._hasResource["dojox.gfx.matrix"]=true;dojo.provide("dojox.gfx.matrix");(function(){var m=dojox.gfx.matrix;m._degToRad=function(_abd){return Math.PI*_abd/180;};m._radToDeg=function(_abe){return _abe/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _ac0=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_ac0,r=dojox.gfx.matrix.normalize(arg[i]);_ac0=new m.Matrix2D();_ac0.xx=l.xx*r.xx+l.xy*r.yx;_ac0.xy=l.xx*r.xy+l.xy*r.yy;_ac0.yx=l.yx*r.xx+l.yy*r.yx;_ac0.yy=l.yx*r.xy+l.yy*r.yy;_ac0.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_ac0.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}dojo.mixin(this,_ac0);}}else{dojo.mixin(this,arg);}}}};dojo.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});dojo.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_ac8){var c=Math.cos(_ac8);var s=Math.sin(_ac8);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_acb){return m.rotate(m._degToRad(_acb));},skewX:function(_acc){return new m.Matrix2D({xy:Math.tan(_acc)});},skewXg:function(_acd){return m.skewX(m._degToRad(_acd));},skewY:function(_ace){return new m.Matrix2D({yx:Math.tan(_ace)});},skewYg:function(_acf){return m.skewY(m._degToRad(_acf));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_adc){return (_adc instanceof m.Matrix2D)?_adc:new m.Matrix2D(_adc);},clone:function(_add){var obj=new m.Matrix2D();for(var i in _add){if(typeof (_add[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_add[i]){obj[i]=_add[i];}}return obj;},invert:function(_ae0){var M=m.normalize(_ae0),D=M.xx*M.yy-M.xy*M.yx,M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_ae3,x,y){return {x:_ae3.xx*x+_ae3.xy*y+_ae3.dx,y:_ae3.yx*x+_ae3.yy*y+_ae3.dy};},multiplyPoint:function(_ae6,a,b){var M=m.normalize(_ae6);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_aea){var M=m.normalize(_aea);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_aef,x,y){return m.multiply(m.translate(x,y),_aef,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_af6,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_af6),a,b);}return m._sandwich(m.rotate(_af6),a.x,a.y);},rotategAt:function(_af9,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_af9),a,b);}return m._sandwich(m.rotateg(_af9),a.x,a.y);},skewXAt:function(_afc,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_afc),a,b);}return m._sandwich(m.skewX(_afc),a.x,a.y);},skewXgAt:function(_aff,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_aff),a,b);}return m._sandwich(m.skewXg(_aff),a.x,a.y);},skewYAt:function(_b02,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_b02),a,b);}return m._sandwich(m.skewY(_b02),a.x,a.y);},skewYgAt:function(_b05,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_b05),a,b);}return m._sandwich(m.skewYg(_b05),a.x,a.y);}});})();dojox.gfx.Matrix2D=dojox.gfx.matrix.Matrix2D;}if(!dojo._hasResource["dojox.gfx._base"]){dojo._hasResource["dojox.gfx._base"]=true;dojo.provide("dojox.gfx._base");(function(){var g=dojox.gfx,b=g._base;g._hasClass=function(node,_b0b){return ((" "+node.getAttribute("className")+" ").indexOf(" "+_b0b+" ")>=0);};g._addClass=function(node,_b0d){var cls=node.getAttribute("className");if((" "+cls+" ").indexOf(" "+_b0d+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_b0d);}};g._removeClass=function(node,_b10){node.setAttribute("className",node.getAttribute("className").replace(new RegExp("(^|\\s+)"+_b10+"(\\s+|$)"),"$1$2"));};b._getFontMeasurements=function(){var _b11={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");div.style.position="absolute";div.style.left="-100px";div.style.top="0";div.style.width="30px";div.style.height="1000em";div.style.border="0";div.style.margin="0";div.style.padding="0";div.style.outline="0";div.style.lineHeight="1";div.style.overflow="hidden";dojo.body().appendChild(div);for(var p in _b11){div.style.fontSize=p;_b11[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _b11;};var _b14=null;b._getCachedFontMeasurements=function(_b15){if(_b15||!_b14){_b14=b._getFontMeasurements();}return _b14;};var _b16=null,_b17={};b._getTextBox=function(text,_b19,_b1a){var m;if(!_b16){m=_b16=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_b16;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_b19){for(var i in _b19){if(i in _b17){continue;}m.style[i]=_b19[i];}}if(arguments.length>2&&_b1a){m.className=_b1a;}m.innerHTML=text;return dojo.marginBox(m);};var _b1d=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++_b1d);}while(dojo.byId(id));return id;};})();dojo.mixin(dojox.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},normalizeColor:function(_b1f){return (_b1f instanceof dojo.Color)?_b1f:new dojo.Color(_b1f);},normalizeParameters:function(_b20,_b21){if(_b21){var _b22={};for(var x in _b20){if(x in _b21&&!(x in _b22)){_b20[x]=_b21[x];}}}return _b20;},makeParameters:function(_b24,_b25){if(!_b25){return dojo.clone(_b24);}var _b26={};for(var i in _b24){if(!(i in _b26)){_b26[i]=dojo.clone((i in _b25)?_b25[i]:_b24[i]);}}return _b26;},formatNumber:function(x,_b29){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _b2b=val.indexOf(".");if(_b2b>=0&&val.length-_b2b>5){val=x.toFixed(4);}}if(x<0){return val;}return _b29?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=dojo.clone(dojox.gfx.defaultFont);var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.varian=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;break;}if(t[4].substr(0,1)=="/"){j=5;break;}}if(j+3>t.length){break;}font.size=t[j];font.family=t[j+1];}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return dojox.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*dojox.gfx.px_in_pt();},px2pt:function(len){return len/dojox.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _b35=dojox.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_b35;case "in":return val*72*_b35;case "pc":return val*12*_b35;case "mm":return val*dojox.gfx.mm_in_pt*_b35;case "cm":return val*dojox.gfx.cm_in_pt*_b35;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}if(!dojo._hasResource["dojox.gfx"]){dojo._hasResource["dojox.gfx"]=true;dojo.provide("dojox.gfx");dojo.loadInit(function(){var gfx=dojo.getObject("dojox.gfx",true),sl,flag,_b3c;if(!gfx.renderer){var _b3d=(typeof dojo.config.gfxRenderer=="string"?dojo.config.gfxRenderer:"svg,vml,silverlight,canvas").split(",");var ua=navigator.userAgent,_b3f=0,_b40=0;if(dojo.isSafari>=3){if(ua.indexOf("iPhone")>=0||ua.indexOf("iPod")>=0){_b3c=ua.match(/Version\/(\d(\.\d)?(\.\d)?)\sMobile\/([^\s]*)\s?/);if(_b3c){_b3f=parseInt(_b3c[4].substr(0,3),16);}}if(!_b3f){_b3c=ua.match(/Android\s+(\d+\.\d+)/);if(_b3c){_b40=parseFloat(_b3c[1]);}}}for(var i=0;i<_b3d.length;++i){switch(_b3d[i]){case "svg":if(!dojo.isIE&&(!_b3f||_b3f>=1521)&&!_b40){dojox.gfx.renderer="svg";}break;case "vml":if(dojo.isIE){dojox.gfx.renderer="vml";}break;case "silverlight":try{if(dojo.isIE){sl=new ActiveXObject("AgControl.AgControl");if(sl&&sl.IsVersionSupported("1.0")){flag=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){flag=true;}}}catch(e){flag=false;}finally{sl=null;}if(flag){dojox.gfx.renderer="silverlight";}break;case "canvas":if(!dojo.isIE){dojox.gfx.renderer="canvas";}break;}if(dojox.gfx.renderer){break;}}if(dojo.config.isDebug){console.log("gfx renderer = "+dojox.gfx.renderer);}}});dojo.requireIf(dojox.gfx.renderer=="svg","dojox.gfx.svg");dojo.requireIf(dojox.gfx.renderer=="vml","dojox.gfx.vml");dojo.requireIf(dojox.gfx.renderer=="silverlight","dojox.gfx.silverlight");dojo.requireIf(dojox.gfx.renderer=="canvas","dojox.gfx.canvas");}if(!dojo._hasResource["dojox.lang.functional.lambda"]){dojo._hasResource["dojox.lang.functional.lambda"]=true;dojo.provide("dojox.lang.functional.lambda");(function(){var df=dojox.lang.functional;var _b43="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _b47=function(s){var args=[],_b4a=_b43.call(s,/\s*->\s*/m);if(_b4a.length>1){while(_b4a.length){s=_b4a.pop();args=_b4a.pop().split(/\s*,\s*|\s+/m);if(_b4a.length){_b4a.push("(function("+args+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var t={};dojo.forEach(vars,function(v){if(!(v in t)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _b50=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};dojo.mixin(df,{rawLambda:function(s){return _b47(s);},buildLambda:function(s){s=_b47(s);return "function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _b50(s);}s=_b47(s);return new Function(s.args,"return ("+s.body+");");}});})();}if(!dojo._hasResource["dojox.lang.functional.array"]){dojo._hasResource["dojox.lang.functional.array"]=true;dojo.provide("dojox.lang.functional.array");(function(){var d=dojo,df=dojox.lang.functional,_b5a={};d.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{for(var i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(var i in a){if(i in _b5a){continue;}f.call(o,a[i],i,a);}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array(n=a.length);for(var i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{t=[];for(var i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(var i in a){if(i in _b5a){continue;}if(!f.call(o,a[i],i,a)){return false;}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(var i in a){if(i in _b5a){continue;}if(f.call(o,a[i],i,a)){return true;}}}}return false;}});})();}if(!dojo._hasResource["dojox.lang.functional.object"]){dojo._hasResource["dojox.lang.functional.object"]=true;dojo.provide("dojox.lang.functional.object");(function(){var d=dojo,df=dojox.lang.functional,_b79={};d.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(i in _b79){continue;}t.push(i);}return t;},values:function(obj){var t=[];for(var i in obj){if(i in _b79){continue;}t.push(obj[i]);}return t;},filterIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={},v;for(var i in obj){if(i in _b79){continue;}v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}return t;},forIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);for(var i in obj){if(i in _b79){continue;}f.call(o,obj[i],i,obj);}return o;},mapIn:function(obj,f,o){o=o||d.global;f=df.lambda(f);var t={};for(var i in obj){if(i in _b79){continue;}t[i]=f.call(o,obj[i],i,obj);}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional"]){dojo._hasResource["dojox.lang.functional"]=true;dojo.provide("dojox.lang.functional");}if(!dojo._hasResource["dojox.lang.functional.fold"]){dojo._hasResource["dojox.lang.functional.fold"]=true;dojo.provide("dojox.lang.functional.fold");(function(){var d=dojo,df=dojox.lang.functional,_b91={};d.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);if(d.isArray(a)){for(var i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(var i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(var i in a){if(i in _b91){continue;}z=f.call(o,z,a[i],i,a);}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var z;if(d.isArray(a)){z=a[0];for(var i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(var i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _b9e=true;for(var i in a){if(i in _b91){continue;}if(_b9e){z=a[i];_b9e=false;}else{z=f.call(o,z,a[i],i,a);}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,z=a[n-1];for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||d.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.lang.functional.reversed"]){dojo._hasResource["dojox.lang.functional.reversed"]=true;dojo.provide("dojox.lang.functional.reversed");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t=[],v;for(var i=a.length-1;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n);for(var i=n-1,j=0;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});})();}if(!dojo._hasResource["dojo.colors"]){dojo._hasResource["dojo.colors"]=true;dojo.provide("dojo.colors");(function(){var _bd1=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=function(_bd6,obj){var m=_bd6.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1];if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){var a=dojo.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}return dojo.colorFromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2,a=[_bd1(m1,m2,H+1/3)*256,_bd1(m1,m2,H)*256,_bd1(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return dojo.colorFromArray(a,obj);}}return null;};var _be4=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};dojo.Color.prototype.sanitize=function(){var t=this;t.r=Math.round(_be4(t.r,0,255));t.g=Math.round(_be4(t.g,0,255));t.b=Math.round(_be4(t.b,0,255));t.a=_be4(t.a,0,1);return this;};})();dojo.colors.makeGrey=function(g,a){return dojo.colorFromArray([g,g,g,a]);};dojo.Color.named=dojo.mixin({aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]},dojo.Color.named);}if(!dojo._hasResource["dojox.color._base"]){dojo._hasResource["dojox.color._base"]=true;dojo.provide("dojox.color._base");dojox.color.Color=dojo.Color;dojox.color.blend=dojo.blendColors;dojox.color.fromRgb=dojo.colorFromRgb;dojox.color.fromHex=dojo.colorFromHex;dojox.color.fromArray=dojo.colorFromArray;dojox.color.fromString=dojo.colorFromString;dojox.color.greyscale=dojo.colors.makeGrey;dojo.mixin(dojox.color,{fromCmy:function(cyan,_bec,_bed){if(dojo.isArray(cyan)){_bec=cyan[1],_bed=cyan[2],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_bec=cyan.m,_bed=cyan.y,cyan=cyan.c;}}cyan/=100,_bec/=100,_bed/=100;var r=1-cyan,g=1-_bec,b=1-_bed;return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_bf2,_bf3,_bf4){if(dojo.isArray(cyan)){_bf2=cyan[1],_bf3=cyan[2],_bf4=cyan[3],cyan=cyan[0];}else{if(dojo.isObject(cyan)){_bf2=cyan.m,_bf3=cyan.y,_bf4=cyan.b,cyan=cyan.c;}}cyan/=100,_bf2/=100,_bf3/=100,_bf4/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_bf4)+_bf4);g=1-Math.min(1,_bf2*(1-_bf4)+_bf4);b=1-Math.min(1,_bf3*(1-_bf4)+_bf4);return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_bf9,_bfa){if(dojo.isArray(hue)){_bf9=hue[1],_bfa=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_bf9=hue.s,_bfa=hue.l,hue=hue.h;}}_bf9/=100;_bfa/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_bf9*Math.min(r,1)+(1-_bf9);g=2*_bf9*Math.min(g,1)+(1-_bf9);b=2*_bf9*Math.min(b,1)+(1-_bf9);if(_bfa<0.5){r*=_bfa,g*=_bfa,b*=_bfa;}else{r=(1-_bfa)*r+2*_bfa-1;g=(1-_bfa)*g+2*_bfa-1;b=(1-_bfa)*b+2*_bfa-1;}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsv:function(hue,_bff,_c00){if(dojo.isArray(hue)){_bff=hue[1],_c00=hue[2],hue=hue[0];}else{if(dojo.isObject(hue)){_bff=hue.s,_c00=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_bff/=100;_c00/=100;var r,g,b;if(_bff==0){r=_c00,b=_c00,g=_c00;}else{var _c04=hue/60,i=Math.floor(_c04),f=_c04-i;var p=_c00*(1-_bff);var q=_c00*(1-(_bff*f));var t=_c00*(1-(_bff*(1-f)));switch(i){case 0:r=_c00,g=t,b=p;break;case 1:r=q,g=_c00,b=p;break;case 2:r=p,g=_c00,b=t;break;case 3:r=p,g=q,b=_c00;break;case 4:r=t,g=p,b=_c00;break;case 5:r=_c00,g=p,b=q;break;}}return new dojox.color.Color({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});dojo.extend(dojox.color.Color,{toCmy:function(){var cyan=1-(this.r/255),_c0b=1-(this.g/255),_c0c=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_c0b*100),y:Math.round(_c0c*100)};},toCmyk:function(){var cyan,_c0e,_c0f,_c10;var r=this.r/255,g=this.g/255,b=this.b/255;_c10=Math.min(1-r,1-g,1-b);cyan=(1-r-_c10)/(1-_c10);_c0e=(1-g-_c10)/(1-_c10);_c0f=(1-b-_c10)/(1-_c10);return {c:Math.round(cyan*100),m:Math.round(_c0e*100),y:Math.round(_c0f*100),b:Math.round(_c10*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _c19=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_c19/((l<0.5)?(2*l):(2-2*l));}if(_c19>0){if(max==r&&max!=g){h+=(g-b)/_c19;}if(max==g&&max!=b){h+=(2+(b-r)/_c19);}if(max==b&&max!=r){h+=(4+(r-g)/_c19);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _c22=max-min;var h=null,s=(max==0)?0:(_c22/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_c22;}else{if(g==max){h=120+60*(b-r)/_c22;}else{h=240+60*(r-g)/_c22;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});}if(!dojo._hasResource["dojox.color"]){dojo._hasResource["dojox.color"]=true;dojo.provide("dojox.color");}if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");(function(){var dxc=dojox.color;dxc.Palette=function(base){this.colors=[];if(base instanceof dojox.color.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dojox.color.Color){this.colors=[null,null,base,null,null];}else{if(dojo.isArray(base)){this.colors=dojo.map(base.slice(0),function(item){if(dojo.isString(item)){return new dojox.color.Color(item);}return item;});}else{if(dojo.isString(base)){this.colors=[null,null,new dojox.color.Color(base),null,null];}}}}};function tRGBA(p,_c29,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var r=(_c29=="dr")?item.r+val:item.r,g=(_c29=="dg")?item.g+val:item.g,b=(_c29=="db")?item.b+val:item.b,a=(_c29=="da")?item.a+val:item.a;ret.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});console.log("The return colors are ",ret.colors," from the original colors ",p.colors);return ret;};function tCMY(p,_c32,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmy(),c=(_c32=="dc")?o.c+val:o.c,m=(_c32=="dm")?o.m+val:o.m,y=(_c32=="dy")?o.y+val:o.y;ret.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function tCMYK(p,_c3b,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_c3b=="dc")?o.c+val:o.c,m=(_c3b=="dm")?o.m+val:o.m,y=(_c3b=="dy")?o.y+val:o.y,k=(_c3b=="dk")?o.b+val:o.b;ret.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function tHSL(p,_c45,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsl(),h=(_c45=="dh")?o.h+val:o.h,s=(_c45=="ds")?o.s+val:o.s,l=(_c45=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_c4e,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(item){var o=item.toHsv(),h=(_c4e=="dh")?o.h+val:o.h,s=(_c4e=="ds")?o.s+val:o.s,v=(_c4e=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function rangeDiff(val,low,high){return high-((high-val)*((high-low)/high));};dojo.extend(dxc.Palette,{transform:function(_c59){var fn=tRGBA;if(_c59.use){var use=_c59.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=tCMYK;}else{fn=tCMY;}}}}else{if("dc" in _c59||"dm" in _c59||"dy" in _c59){if("dk" in _c59){fn=tCMYK;}else{fn=tCMY;}}else{if("dh" in _c59||"ds" in _c59){if("dv" in _c59){fn=tHSV;}else{fn=tHSL;}}}}var _c5c=this;for(var p in _c59){if(p=="use"){continue;}_c5c=fn(_c5c,p,_c59[p]);}return _c5c;},clone:function(){return new dxc.Palette(this);}});dojo.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=rangeDiff(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),base,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),base,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,_c8a=args.da||30,hsv=base.toHsv();var _c8c=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_c8c-_c8a+360)%360,h2=(_c8c+_c8a)%360,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),base,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function(args){var base=dojo.isString(args.base)?new dojox.color.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),base,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(dojo.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});})();}if(!dojo._hasResource["dojox.charting.Theme"]){dojo._hasResource["dojox.charting.Theme"]=true;dojo.provide("dojox.charting.Theme");(function(){var dxc=dojox.charting;dxc.Theme=function(_cab){_cab=_cab||{};var def=dxc.Theme._def;dojo.forEach(["chart","plotarea","axis","series","marker"],function(n){this[n]=dojo.mixin(dojo.clone(def[n]),_cab[n]||{});},this);this.markers=dojo.mixin(dojo.clone(dxc.Theme.Markers),_cab.markers||{});this.colors=[];this.antiAlias=("antiAlias" in _cab)?_cab.antiAlias:true;this.assignColors=("assignColors" in _cab)?_cab.assignColors:true;this.assignMarkers=("assignMarkers" in _cab)?_cab.assignMarkers:true;_cab.colors=_cab.colors||def.colors;dojo.forEach(_cab.colors,function(item){this.colors.push(item);},this);this._current={color:0,marker:0};this._markers=[];this._buildMarkerArray();};dxc.Theme.Markers={CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"};dxc.Theme._def={chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},majorTick:{color:"#666",width:1,length:6,position:"center"},minorTick:{color:"#666",width:0.8,length:3,position:"center"},font:"normal normal normal 7pt Tahoma",fontColor:"#333"},series:{outline:{width:0.1,color:"#ccc"},stroke:{width:1.5,color:"#333"},fill:"#ccc",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:1},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:["#54544c","#858e94","#6e767a","#948585","#474747"]};dojo.extend(dxc.Theme,{defineColors:function(obj){var _cb0=obj||{};var c=[],n=_cb0.num||5;if(_cb0.colors){var l=_cb0.colors.length;for(var i=0;i<n;i++){c.push(_cb0.colors[i%l]);}this.colors=c;}else{if(_cb0.hue){var s=_cb0.saturation||100;var st=_cb0.low||30;var end=_cb0.high||90;var l=(end+st)/2;this.colors=dojox.color.Palette.generate(dojox.color.fromHsv(_cb0.hue,s,l),"monochromatic").colors;}else{if(_cb0.generator){this.colors=dojox.color.Palette.generate(_cb0.base,_cb0.generator).colors;}}}},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}this._current.marker=0;},_clone:function(){return new dxc.Theme({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,antiAlias:this.antiAlias,assignColors:this.assignColors,assignMarkers:this.assigneMarkers,colors:dojo.clone(this.colors)});},addMarker:function(name,_cba){this.markers[name]=_cba;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},next:function(type){if(type=="marker"){return this._markers[this._current.marker++%this._markers.length];}else{return this.colors[this._current.color++%this.colors.length];}},clear:function(){this._current={color:0,marker:0};}});})();}if(!dojo._hasResource["dojox.charting.Element"]){dojo._hasResource["dojox.charting.Element"]=true;dojo.provide("dojox.charting.Element");dojo.declare("dojox.charting.Element",null,{constructor:function(_cbd){this.chart=_cbd;this.group=null;this.htmlElements=[];this.dirty=true;},createGroup:function(_cbe){if(!_cbe){_cbe=this.chart.surface;}if(!this.group){this.group=_cbe.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;return this;},cleanGroup:function(_cbf){this.destroyHtmlElements();if(!_cbf){_cbf=this.chart.surface;}if(this.group){this.group.clear();}else{this.group=_cbf.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){dojo.forEach(this.htmlElements,dojo._destroyElement);this.htmlElements=[];}},destroy:function(){this.purgeGroup();}});}if(!dojo._hasResource["dojox.charting.Series"]){dojo._hasResource["dojox.charting.Series"]=true;dojo.provide("dojox.charting.Series");dojo.declare("dojox.charting.Series",dojox.charting.Element,{constructor:function(_cc0,data,_cc2){dojo.mixin(this,_cc2);if(typeof this.plot!="string"){this.plot="default";}this.data=data;this.dirty=true;this.clear();},clear:function(){this.dyn={};}});}if(!dojo._hasResource["dojox.charting.scaler.common"]){dojo._hasResource["dojox.charting.scaler.common"]=true;dojo.provide("dojox.charting.scaler.common");(function(){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};dojo.mixin(dojox.charting.scaler.common,{findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_cc9,_cca,_ccb){if(_ccb.labels){var l=_ccb.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_cc9){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_cc9)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_cc9)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_cc9)){return l[lo].text;}}return _ccb.fixed?_cc9.toFixed(_cca<0?-_cca:0):_cc9.toString();}});})();}if(!dojo._hasResource["dojox.charting.scaler.linear"]){dojo._hasResource["dojox.charting.scaler.linear"]=true;dojo.provide("dojox.charting.scaler.linear");(function(){var _cd1=3,dc=dojox.charting,dcs=dc.scaler,dcsc=dcs.common,_cd5=dcsc.findString,_cd6=dcsc.getNumericLabel;var _cd7=function(min,max,_cda,_cdb,_cdc,_cdd,span){_cda=dojo.clone(_cda);if(!_cdb){if(_cda.fixUpper=="major"){_cda.fixUpper="minor";}if(_cda.fixLower=="major"){_cda.fixLower="minor";}}if(!_cdc){if(_cda.fixUpper=="minor"){_cda.fixUpper="micro";}if(_cda.fixLower=="minor"){_cda.fixLower="micro";}}if(!_cdd){if(_cda.fixUpper=="micro"){_cda.fixUpper="none";}if(_cda.fixLower=="micro"){_cda.fixLower="none";}}var _cdf=_cd5(_cda.fixLower,["major"])?Math.floor(_cda.min/_cdb)*_cdb:_cd5(_cda.fixLower,["minor"])?Math.floor(_cda.min/_cdc)*_cdc:_cd5(_cda.fixLower,["micro"])?Math.floor(_cda.min/_cdd)*_cdd:_cda.min,_ce0=_cd5(_cda.fixUpper,["major"])?Math.ceil(_cda.max/_cdb)*_cdb:_cd5(_cda.fixUpper,["minor"])?Math.ceil(_cda.max/_cdc)*_cdc:_cd5(_cda.fixUpper,["micro"])?Math.ceil(_cda.max/_cdd)*_cdd:_cda.max;if(_cda.useMin){min=_cdf;}if(_cda.useMax){max=_ce0;}var _ce1=(!_cdb||_cda.useMin&&_cd5(_cda.fixLower,["major"]))?min:Math.ceil(min/_cdb)*_cdb,_ce2=(!_cdc||_cda.useMin&&_cd5(_cda.fixLower,["major","minor"]))?min:Math.ceil(min/_cdc)*_cdc,_ce3=(!_cdd||_cda.useMin&&_cd5(_cda.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_cdd)*_cdd,_ce4=!_cdb?0:(_cda.useMax&&_cd5(_cda.fixUpper,["major"])?Math.round((max-_ce1)/_cdb):Math.floor((max-_ce1)/_cdb))+1,_ce5=!_cdc?0:(_cda.useMax&&_cd5(_cda.fixUpper,["major","minor"])?Math.round((max-_ce2)/_cdc):Math.floor((max-_ce2)/_cdc))+1,_ce6=!_cdd?0:(_cda.useMax&&_cd5(_cda.fixUpper,["major","minor","micro"])?Math.round((max-_ce3)/_cdd):Math.floor((max-_ce3)/_cdd))+1,_ce7=_cdc?Math.round(_cdb/_cdc):0,_ce8=_cdd?Math.round(_cdc/_cdd):0,_ce9=_cdb?Math.floor(Math.log(_cdb)/Math.LN10):0,_cea=_cdc?Math.floor(Math.log(_cdc)/Math.LN10):0,_ceb=span/(max-min);if(!isFinite(_ceb)){_ceb=1;}return {bounds:{lower:_cdf,upper:_ce0,from:min,to:max,scale:_ceb,span:span},major:{tick:_cdb,start:_ce1,count:_ce4,prec:_ce9},minor:{tick:_cdc,start:_ce2,count:_ce5,prec:_cea},micro:{tick:_cdd,start:_ce3,count:_ce6,prec:0},minorPerMajor:_ce7,microPerMinor:_ce8,scaler:dcs.linear};};dojo.mixin(dojox.charting.scaler.linear,{buildScaler:function(min,max,span,_cef){var h={fixUpper:"none",fixLower:"none",natural:false};if(_cef){if("fixUpper" in _cef){h.fixUpper=String(_cef.fixUpper);}if("fixLower" in _cef){h.fixLower=String(_cef.fixLower);}if("natural" in _cef){h.natural=Boolean(_cef.natural);}}if("min" in _cef){min=_cef.min;}if("max" in _cef){max=_cef.max;}if(_cef.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _cef){min=_cef.from;h.useMin=false;}if("to" in _cef){max=_cef.to;h.useMax=false;}if(max<=min){return _cd7(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_cf2=_cef&&("majorTickStep" in _cef)?_cef.majorTickStep:Math.pow(10,mag),_cf3=0,_cf4=0,_cf5;if(_cef&&("minorTickStep" in _cef)){_cf3=_cef.minorTickStep;}else{do{_cf3=_cf2/10;if(!h.natural||_cf3>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,0,span);if(_cf5.bounds.scale*_cf5.minor.tick>_cd1){break;}}_cf3=_cf2/5;if(!h.natural||_cf3>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,0,span);if(_cf5.bounds.scale*_cf5.minor.tick>_cd1){break;}}_cf3=_cf2/2;if(!h.natural||_cf3>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,0,span);if(_cf5.bounds.scale*_cf5.minor.tick>_cd1){break;}}return _cd7(min,max,h,_cf2,0,0,span);}while(false);}if(_cef&&("microTickStep" in _cef)){_cf4=_cef.microTickStep;_cf5=_cd7(min,max,h,_cf2,_cf3,_cf4,span);}else{do{_cf4=_cf3/10;if(!h.natural||_cf4>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,_cf4,span);if(_cf5.bounds.scale*_cf5.micro.tick>_cd1){break;}}_cf4=_cf3/5;if(!h.natural||_cf4>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,_cf4,span);if(_cf5.bounds.scale*_cf5.micro.tick>_cd1){break;}}_cf4=_cf3/2;if(!h.natural||_cf4>0.9){_cf5=_cd7(min,max,h,_cf2,_cf3,_cf4,span);if(_cf5.bounds.scale*_cf5.micro.tick>_cd1){break;}}_cf4=0;}while(false);}return _cf4?_cf5:_cd7(min,max,h,_cf2,_cf3,0,span);},buildTicks:function(_cf6,_cf7){var step,next,tick,_cfb=_cf6.major.start,_cfc=_cf6.minor.start,_cfd=_cf6.micro.start;if(_cf7.microTicks&&_cf6.micro.tick){step=_cf6.micro.tick,next=_cfd;}else{if(_cf7.minorTicks&&_cf6.minor.tick){step=_cf6.minor.tick,next=_cfc;}else{if(_cf6.major.tick){step=_cf6.major.tick,next=_cfb;}else{return null;}}}var _cfe=[],_cff=[],_d00=[];while(next<=_cf6.bounds.to+1/_cf6.bounds.scale){if(Math.abs(_cfb-next)<step/2){tick={value:_cfb};if(_cf7.majorLabels){tick.label=_cd6(_cfb,_cf6.major.prec,_cf7);}_cfe.push(tick);_cfb+=_cf6.major.tick;_cfc+=_cf6.minor.tick;_cfd+=_cf6.micro.tick;}else{if(Math.abs(_cfc-next)<step/2){if(_cf7.minorTicks){tick={value:_cfc};if(_cf7.minorLabels&&(_cf6.minMinorStep<=_cf6.minor.tick*_cf6.bounds.scale)){tick.label=_cd6(_cfc,_cf6.minor.prec,_cf7);}_cff.push(tick);}_cfc+=_cf6.minor.tick;_cfd+=_cf6.micro.tick;}else{if(_cf7.microTicks){_d00.push({value:_cfd});}_cfd+=_cf6.micro.tick;}}next+=step;}return {major:_cfe,minor:_cff,micro:_d00};},getTransformerFromModel:function(_d01){var _d02=_d01.bounds.from,_d03=_d01.bounds.scale;return function(x){return (x-_d02)*_d03;};},getTransformerFromPlot:function(_d05){var _d06=_d05.bounds.from,_d07=_d05.bounds.scale;return function(x){return x/_d07+_d06;};}});})();}if(!dojo._hasResource["dojox.charting.axis2d.common"]){dojo._hasResource["dojox.charting.axis2d.common"]=true;dojo.provide("dojox.charting.axis2d.common");(function(){var g=dojox.gfx;function clearNode(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};dojo.mixin(dojox.charting.axis2d.common,{createText:{gfx:function(_d0b,_d0c,x,y,_d0f,text,font,_d12){return _d0c.createText({x:x,y:y,text:text,align:_d0f}).setFont(font).setFill(_d12);},html:function(_d13,_d14,x,y,_d17,text,font,_d1a){var p=dojo.doc.createElement("div"),s=p.style;clearNode(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_d1a;s.position="absolute";s.left="-10000px";dojo.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size),box=dojo.marginBox(p);dojo.body().removeChild(p);s.position="relative";switch(_d17){case "middle":s.left=Math.floor(x-box.w/2)+"px";break;case "end":s.left=Math.floor(x-box.w)+"px";break;default:s.left=Math.floor(x)+"px";break;}s.top=Math.floor(y-size)+"px";var wrap=dojo.doc.createElement("div"),w=wrap.style;clearNode(w);w.width="0px";w.height="0px";wrap.appendChild(p);_d13.node.insertBefore(wrap,_d13.node.firstChild);return wrap;}}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Base"]){dojo._hasResource["dojox.charting.axis2d.Base"]=true;dojo.provide("dojox.charting.axis2d.Base");dojo.declare("dojox.charting.axis2d.Base",dojox.charting.Element,{constructor:function(_d21,_d22){this.vertical=_d22&&_d22.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_d27){return this;}});}if(!dojo._hasResource["dojox.lang.utils"]){dojo._hasResource["dojox.lang.utils"]=true;dojo.provide("dojox.lang.utils");(function(){var _d28={},du=dojox.lang.utils;dojo.mixin(du,{coerceType:function(_d2a,_d2b){switch(typeof _d2a){case "number":return Number(eval("("+_d2b+")"));case "string":return String(_d2b);case "boolean":return Boolean(eval("("+_d2b+")"));}return eval("("+_d2b+")");},updateWithObject:function(_d2c,_d2d,conv){if(!_d2d){return _d2c;}for(var x in _d2c){if(x in _d2d&&!(x in _d28)){var t=_d2c[x];if(t&&typeof t=="object"){du.updateWithObject(t,_d2d[x],conv);}else{_d2c[x]=conv?du.coerceType(t,_d2d[x]):dojo.clone(_d2d[x]);}}}return _d2c;},updateWithPattern:function(_d31,_d32,_d33,conv){if(!_d32||!_d33){return _d31;}for(var x in _d33){if(x in _d32&&!(x in _d28)){_d31[x]=conv?du.coerceType(_d33[x],_d32[x]):dojo.clone(_d32[x]);}}return _d31;}});})();}if(!dojo._hasResource["dojox.charting.axis2d.Default"]){dojo._hasResource["dojox.charting.axis2d.Default"]=true;dojo.provide("dojox.charting.axis2d.Default");(function(){var dc=dojox.charting,df=dojox.lang.functional,du=dojox.lang.utils,g=dojox.gfx,lin=dc.scaler.linear,_d3b=4;dojo.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,htmlLabels:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],stroke:{},majorTick:{},minorTick:{},font:"",fontColor:""},constructor:function(_d3c,_d3d){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_d3d);du.updateWithPattern(this.opt,_d3d,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_d3e,_d3f){this.scale=_d3e;this.offset=_d3f;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,span,_d43){if(this.initialized()){return this;}this.labels="labels" in this.opt?this.opt.labels:_d43;this.scaler=lin.buildScaler(min,max,span,this.opt);if("scale" in this){this.opt.from=this.scaler.bounds.lower+this.offset;this.opt.to=(this.scaler.bounds.upper-this.scaler.bounds.lower)/this.scale+this.opt.from;if(!isFinite(this.opt.from)||isNaN(this.opt.from)||!isFinite(this.opt.to)||isNaN(this.opt.to)||this.opt.to-this.opt.from>=this.scaler.bounds.upper-this.scaler.bounds.lower){delete this.opt.from;delete this.opt.to;delete this.scale;delete this.offset;}else{if(this.opt.from<this.scaler.bounds.lower){this.opt.to+=this.scaler.bounds.lower-this.opt.from;this.opt.from=this.scaler.bounds.lower;}else{if(this.opt.to>this.scaler.bounds.upper){this.opt.from+=this.scaler.bounds.upper-this.opt.to;this.opt.to=this.scaler.bounds.upper;}}this.offset=this.opt.from-this.scaler.bounds.lower;}this.scaler=lin.buildScaler(min,max,span,this.opt);if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var _d44=0,ta=this.chart.theme.axis,_d46="font" in this.opt?this.opt.font:ta.font,size=_d46?g.normalizedLength(g.splitFontString(_d46).size):0;if(this.vertical){if(size){_d44=size+_d3b;}}else{if(size){var _d48,i;if(this.labels){_d48=df.foldl(df.map(this.labels,function(_d4a){return dojox.gfx._base._getTextBox(_d4a.text,{font:_d46}).w;}),"Math.max(a, b)",0);}else{var _d4b=Math.ceil(Math.log(Math.max(Math.abs(this.scaler.bounds.from),Math.abs(this.scaler.bounds.to)))/Math.LN10),t=[];if(this.scaler.bounds.from<0||this.scaler.bounds.to<0){t.push("-");}t.push(dojo.string.rep("9",_d4b));var _d4d=Math.floor(Math.log(this.scaler.bounds.to-this.scaler.bounds.from)/Math.LN10);if(_d4d>0){t.push(".");for(i=0;i<_d4d;++i){t.push("9");}}_d48=dojox.gfx._base._getTextBox(t.join(""),{font:_d46}).w;}_d44=_d48+_d3b;}}this.scaler.minMinorStep=_d44;this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;},getOffsets:function(){var _d4e={l:0,r:0,t:0,b:0},s,_d50,a,b,c,d,gtb=dojox.gfx._base._getTextBox,gl=dc.scaler.common.getNumericLabel,_d57=0,ta=this.chart.theme.axis,_d59="font" in this.opt?this.opt.font:ta.font,_d5a="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_d5b="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,size=_d59?g.normalizedLength(g.splitFontString(_d59).size):0;if(this.vertical){if(size){s=this.scaler;if(this.labels){_d50=df.foldl(df.map(this.labels,function(_d5d){return dojox.gfx._base._getTextBox(_d5d.text,{font:_d59}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_d59}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_d59}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_d59}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_d59}).w;_d50=Math.max(a,b,c,d);}_d57=_d50+_d3b;}_d57+=_d3b+Math.max(_d5a.length,_d5b.length);_d4e[this.opt.leftBottom?"l":"r"]=_d57;_d4e.t=_d4e.b=size/2;}else{if(size){_d57=size+_d3b;}_d57+=_d3b+Math.max(_d5a.length,_d5b.length);_d4e[this.opt.leftBottom?"b":"t"]=_d57;if(size){s=this.scaler;if(this.labels){_d50=df.foldl(df.map(this.labels,function(_d5e){return dojox.gfx._base._getTextBox(_d5e.text,{font:_d59}).w;}),"Math.max(a, b)",0);}else{a=gtb(gl(s.major.start,s.major.prec,this.opt),{font:_d59}).w;b=gtb(gl(s.major.start+s.major.count*s.major.tick,s.major.prec,this.opt),{font:_d59}).w;c=gtb(gl(s.minor.start,s.minor.prec,this.opt),{font:_d59}).w;d=gtb(gl(s.minor.start+s.minor.count*s.minor.tick,s.minor.prec,this.opt),{font:_d59}).w;_d50=Math.max(a,b,c,d);}_d4e.l=_d4e.r=_d50/2;}}return _d4e;},render:function(dim,_d60){if(!this.dirty){return this;}var _d61,stop,_d63,_d64,_d65,_d66,ta=this.chart.theme.axis,_d68="stroke" in this.opt?this.opt.stroke:ta.stroke,_d69="majorTick" in this.opt?this.opt.majorTick:ta.majorTick,_d6a="minorTick" in this.opt?this.opt.minorTick:ta.minorTick,_d6b="font" in this.opt?this.opt.font:ta.font,_d6c="fontColor" in this.opt?this.opt.fontColor:ta.fontColor,_d6d=Math.max(_d69.length,_d6a.length),size=_d6b?g.normalizedLength(g.splitFontString(_d6b).size):0;if(this.vertical){_d61={y:dim.height-_d60.b};stop={y:_d60.t};_d63={x:0,y:-1};if(this.opt.leftBottom){_d61.x=stop.x=_d60.l;_d64={x:-1,y:0};_d66="end";}else{_d61.x=stop.x=dim.width-_d60.r;_d64={x:1,y:0};_d66="start";}_d65={x:_d64.x*(_d6d+_d3b),y:size*0.4};}else{_d61={x:_d60.l};stop={x:dim.width-_d60.r};_d63={x:1,y:0};_d66="middle";if(this.opt.leftBottom){_d61.y=stop.y=dim.height-_d60.b;_d64={x:0,y:1};_d65={y:_d6d+_d3b+size};}else{_d61.y=stop.y=_d60.t;_d64={x:0,y:-1};_d65={y:-_d6d-_d3b};}_d65.x=0;}this.cleanGroup();var s=this.group,c=this.scaler,t=this.ticks,_d72,f=lin.getTransformerFromModel(this.scaler),_d74=dojox.gfx.renderer=="canvas",_d75=_d74||this.opt.htmlLabels&&!dojo.isIE&&!dojo.isOpera?"html":"gfx",dx=_d64.x*_d69.length,dy=_d64.y*_d69.length;s.createLine({x1:_d61.x,y1:_d61.y,x2:stop.x,y2:stop.y}).setStroke(_d68);dojo.forEach(t.major,function(tick){var _d79=f(tick.value),elem,x=_d61.x+_d63.x*_d79,y=_d61.y+_d63.y*_d79;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_d69);if(tick.label){elem=dc.axis2d.common.createText[_d75](this.chart,s,x+_d65.x,y+_d65.y,_d66,tick.label,_d6b,_d6c);if(_d75=="html"){this.htmlElements.push(elem);}}},this);dx=_d64.x*_d6a.length;dy=_d64.y*_d6a.length;_d72=c.minMinorStep<=c.minor.tick*c.scale;dojo.forEach(t.minor,function(tick){var _d7e=f(tick.value),elem,x=_d61.x+_d63.x*_d7e,y=_d61.y+_d63.y*_d7e;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_d6a);if(_d72&&tick.label){elem=dc.axis2d.common.createText[_d75](this.chart,s,x+_d65.x,y+_d65.y,_d66,tick.label,_d6b,_d6c);if(_d75=="html"){this.htmlElements.push(elem);}}},this);dojo.forEach(t.micro,function(tick){var _d83=f(tick.value),elem,x=_d61.x+_d63.x*_d83,y=_d61.y+_d63.y*_d83;s.createLine({x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_d6a);},this);this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.common"]){dojo._hasResource["dojox.charting.plot2d.common"]=true;dojo.provide("dojox.charting.plot2d.common");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common;dojo.mixin(dojox.charting.plot2d.common,{makeStroke:function(_d89){if(!_d89){return _d89;}if(typeof _d89=="string"||_d89 instanceof dojo.Color){_d89={color:_d89};}return dojox.gfx.makeParameters(dojox.gfx.defaultStroke,_d89);},augmentColor:function(_d8a,_d8b){var t=new dojo.Color(_d8a),c=new dojo.Color(_d8b);c.a=t.a;return c;},augmentStroke:function(_d8e,_d8f){var s=dc.makeStroke(_d8e);if(s){s.color=dc.augmentColor(s.color,_d8f);}return s;},augmentFill:function(fill,_d92){var fc,c=new dojo.Color(_d92);if(typeof fill=="string"||fill instanceof dojo.Color){return dc.augmentColor(fill,_d92);}return fill;},defaultStats:{hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY,vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_d95){var _d96=dojo.clone(dc.defaultStats);for(var i=0;i<_d95.length;++i){var run=_d95[i];if(!run.data.length){continue;}if(typeof run.data[0]=="number"){var _d99=_d96.vmin,_d9a=_d96.vmax;if(!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=i+1,y=val;if(isNaN(y)){y=0;}_d96.hmin=Math.min(_d96.hmin,x);_d96.hmax=Math.max(_d96.hmax,x);_d96.vmin=Math.min(_d96.vmin,y);_d96.vmax=Math.max(_d96.vmax,y);});}if("ymin" in run){_d96.vmin=Math.min(_d99,run.ymin);}if("ymax" in run){_d96.vmax=Math.max(_d9a,run.ymax);}}else{var _d9f=_d96.hmin,_da0=_d96.hmax,_d99=_d96.vmin,_d9a=_d96.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){dojo.forEach(run.data,function(val,i){var x=val.x,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_d96.hmin=Math.min(_d96.hmin,x);_d96.hmax=Math.max(_d96.hmax,x);_d96.vmin=Math.min(_d96.vmin,y);_d96.vmax=Math.max(_d96.vmax,y);});}if("xmin" in run){_d96.hmin=Math.min(_d9f,run.xmin);}if("xmax" in run){_d96.hmax=Math.max(_da0,run.xmax);}if("ymin" in run){_d96.vmin=Math.min(_d99,run.ymin);}if("ymax" in run){_d96.vmax=Math.max(_d9a,run.ymax);}}}return _d96;},collectStackedStats:function(_da5){var _da6=dojo.clone(dc.defaultStats);if(_da5.length){_da6.hmin=Math.min(_da6.hmin,1);_da6.hmax=df.foldl(_da5,"seed, run -> Math.max(seed, run.data.length)",_da6.hmax);for(var i=0;i<_da6.hmax;++i){var v=_da5[0].data[i];if(isNaN(v)){v=0;}_da6.vmin=Math.min(_da6.vmin,v);for(var j=1;j<_da5.length;++j){var t=_da5[j].data[i];if(isNaN(t)){t=0;}v+=t;}_da6.vmax=Math.max(_da6.vmax,v);}}return _da6;},curve:function(a,_dac){var arr=a.slice(0);if(_dac=="x"){arr[arr.length]=arr[0];}var p=dojo.map(arr,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_dac)){var dx=item.x-arr[i-1].x,dy=arr[i-1].y;return "C"+(item.x-(_dac-1)*(dx/_dac))+","+dy+" "+(item.x-(dx/_dac))+","+item.y+" "+item.x+","+item.y;}else{if(_dac=="X"||_dac=="x"||_dac=="S"){var p0,p1=arr[i-1],p2=arr[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_dac=="x"){p0=arr[arr.length-2];}else{p0=p1;}f=1/3;}else{p0=arr[i-2];}if(i==(arr.length-1)){if(_dac=="x"){p3=arr[1];}else{p3=p2;}f=1/3;}else{p3=arr[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _dbf=p0p2*f;var _dc0=p1p3*f;if(_dbf>p1p2/2&&_dc0>p1p2/2){_dbf=p1p2/2;_dc0=p1p2/2;}else{if(_dbf>p1p2/2){_dbf=p1p2/2;_dc0=p1p2/2*p1p3/p0p2;}else{if(_dc0>p1p2/2){_dc0=p1p2/2;_dbf=p1p2/2*p0p2/p1p3;}}}if(_dac=="S"){if(p0==p1){_dbf=0;}if(p2==p3){_dc0=0;}}bz1x=p1.x+_dbf*(p2.x-p0.x)/p0p2;bz1y=p1.y+_dbf*(p2.y-p0.y)/p0p2;bz2x=p2.x-_dc0*(p3.x-p1.x)/p1p3;bz2y=p2.y-_dc0*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");}});})();}if(!dojo._hasResource["dojox.charting.scaler.primitive"]){dojo._hasResource["dojox.charting.scaler.primitive"]=true;dojo.provide("dojox.charting.scaler.primitive");dojox.charting.scaler.primitive={buildScaler:function(min,max,span,_dc4){return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:dojox.charting.scaler.primitive};},buildTicks:function(_dc5,_dc6){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_dc7){var _dc8=_dc7.bounds.from,_dc9=_dc7.bounds.scale;return function(x){return (x-_dc8)*_dc9;};},getTransformerFromPlot:function(_dcb){var _dcc=_dcb.bounds.from,_dcd=_dcb.bounds.scale;return function(x){return x/_dcd+_dcc;};}};}if(!dojo._hasResource["dojox.charting.plot2d.Base"]){dojo._hasResource["dojox.charting.plot2d.Base"]=true;dojo.provide("dojox.charting.plot2d.Base");dojo.declare("dojox.charting.plot2d.Base",dojox.charting.Element,{clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){this.series.push(run);return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},render:function(dim,_dd3){return this;},getRequiredColors:function(){return this.series.length;},plotEvent:function(o){},connect:function(_dd5,_dd6){this.dirty=true;return dojo.connect(this,"plotEvent",_dd5,_dd6);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},_calc:function(dim,_dda){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_dda.hmin,_dda.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=dojox.charting.scaler.primitive.buildScaler(_dda.hmin,_dda.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_dda.vmin,_dda.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=dojox.charting.scaler.primitive.buildScaler(_dda.vmin,_dda.vmax,dim.height);}},_connectEvents:function(_ddb,o){_ddb.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_ddb.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_ddb.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});}});}if(!dojo._hasResource["dojox.charting.plot2d.Default"]){dojo._hasResource["dojox.charting.plot2d.Default"]=true;dojo.provide("dojox.charting.plot2d.Default");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_de3=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Default",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,shadows:0,tension:0},optionalParams:{},constructor:function(_de4,_de5){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_de5);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_de8){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_de3);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_dec,_ded,_dee,_def,_df0=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}var s=run.group,_df3,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_df3=dojo.map(run.data,function(v,i){return {x:ht(i+1)+_de8.l,y:dim.height-_de8.b-vt(v)};},this);}else{_df3=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_de8.l,y:dim.height-_de8.b-vt(v.y)};},this);}if(!run.fill||!run.stroke){_dee=run.dyn.color=new dojo.Color(t.next("color"));}var _dfa=this.opt.tension?dc.curve(_df3,this.opt.tension):"";if(this.opt.areas){var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_dee);var _dfc=dojo.clone(_df3);if(this.opt.tension){var _dfd="L"+_dfc[_dfc.length-1].x+","+(dim.height-_de8.b)+" L"+_dfc[0].x+","+(dim.height-_de8.b)+" L"+_dfc[0].x+","+_dfc[0].y;run.dyn.fill=s.createPath(_dfa+" "+_dfd).setFill(fill).getFill();}else{_dfc.push({x:_df3[_df3.length-1].x,y:dim.height-_de8.b});_dfc.push({x:_df3[0].x,y:dim.height-_de8.b});_dfc.push(_df3[0]);run.dyn.fill=s.createPolyline(_dfc).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_dec=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_dee);if(run.outline||t.series.outline){_ded=dc.makeStroke(run.outline?run.outline:t.series.outline);_ded.width=2*_ded.width+_dec.width;}}if(this.opt.markers){_def=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _dfe=null,_dff=null,_e00=null;if(this.opt.shadows&&_dec){var sh=this.opt.shadows,_e02=new dojo.Color([0,0,0,0.3]),_e03=dojo.map(_df3,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_e05=dojo.clone(_ded?_ded:_dec);_e05.color=_e02;_e05.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_e03,this.opt.tension)).setStroke(_e05).getStroke();}else{run.dyn.shadow=s.createPolyline(_e03).setStroke(_e05).getStroke();}}if(this.opt.markers){_e00=dojo.map(_e03,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_def).setStroke(_e05).setFill(_e02);},this);}}if(this.opt.lines){if(_ded){if(this.opt.tension){run.dyn.outline=s.createPath(_dfa).setStroke(_ded).getStroke();}else{run.dyn.outline=s.createPolyline(_df3).setStroke(_ded).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_dfa).setStroke(_dec).getStroke();}else{run.dyn.stroke=s.createPolyline(_df3).setStroke(_dec).getStroke();}}if(this.opt.markers){_dfe=new Array(_df3.length);_dff=new Array(_df3.length);dojo.forEach(_df3,function(c,i){var path="M"+c.x+" "+c.y+" "+_def;if(_ded){_dff[i]=s.createPath(path).setStroke(_ded);}_dfe[i]=s.createPath(path).setStroke(_dec).setFill(_dec.color);},this);if(_df0){dojo.forEach(_dfe,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_dff[i]||null,shadow:_e00&&_e00[i]||null,cx:_df3[i].x,cy:_df3[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(s,o);},this);}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Lines"]){dojo._hasResource["dojox.charting.plot2d.Lines"]=true;dojo.provide("dojox.charting.plot2d.Lines");dojo.declare("dojox.charting.plot2d.Lines",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Areas"]){dojo._hasResource["dojox.charting.plot2d.Areas"]=true;dojo.provide("dojox.charting.plot2d.Areas");dojo.declare("dojox.charting.plot2d.Areas",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Markers"]){dojo._hasResource["dojox.charting.plot2d.Markers"]=true;dojo.provide("dojox.charting.plot2d.Markers");dojo.declare("dojox.charting.plot2d.Markers",dojox.charting.plot2d.Default,{constructor:function(){this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]){dojo._hasResource["dojox.charting.plot2d.MarkersOnly"]=true;dojo.provide("dojox.charting.plot2d.MarkersOnly");dojo.declare("dojox.charting.plot2d.MarkersOnly",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Scatter"]){dojo._hasResource["dojox.charting.plot2d.Scatter"]=true;dojo.provide("dojox.charting.plot2d.Scatter");dojo.declare("dojox.charting.plot2d.Scatter",dojox.charting.plot2d.Default,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});}if(!dojo._hasResource["dojox.lang.functional.sequence"]){dojo._hasResource["dojox.lang.functional.sequence"]=true;dojo.provide("dojox.lang.functional.sequence");(function(){var d=dojo,df=dojox.lang.functional;d.mixin(df,{repeat:function(n,f,z,o){o=o||d.global;f=df.lambda(f);var t=new Array(n);t[0]=z;for(var i=1;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||d.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Stacked"]){dojo._hasResource["dojox.charting.plot2d.Stacked"]=true;dojo.provide("dojox.charting.plot2d.Stacked");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_e1c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Stacked",dojox.charting.plot2d.Default,{calculateAxes:function(dim){var _e1e=dc.collectStackedStats(this.series);this._maxRunLength=_e1e.hmax;this._calc(dim,_e1e);return this;},render:function(dim,_e20){var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_e1c);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_e29,_e2a,_e2b,_e2c,_e2d=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group,_e30=dojo.map(acc,function(v,i){return {x:ht(i+1)+_e20.l,y:dim.height-_e20.b-vt(v)};},this);if(!run.fill||!run.stroke){_e2b=new dojo.Color(t.next("color"));}var _e33=this.opt.tension?dc.curve(_e30,this.opt.tension):"";if(this.opt.areas){var _e34=dojo.clone(_e30);var fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_e2b);if(this.opt.tension){var p=dc.curve(_e34,this.opt.tension);p+=" L"+_e30[_e30.length-1].x+","+(dim.height-_e20.b)+" L"+_e30[0].x+","+(dim.height-_e20.b)+" L"+_e30[0].x+","+_e30[0].y;run.dyn.fill=s.createPath(p).setFill(fill).getFill();}else{_e34.push({x:_e30[_e30.length-1].x,y:dim.height-_e20.b});_e34.push({x:_e30[0].x,y:dim.height-_e20.b});_e34.push(_e30[0]);run.dyn.fill=s.createPolyline(_e34).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_e29=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_e2b);if(run.outline||t.series.outline){_e2a=dc.makeStroke(run.outline?run.outline:t.series.outline);_e2a.width=2*_e2a.width+_e29.width;}}if(this.opt.markers){_e2c=run.dyn.marker=run.marker?run.marker:t.next("marker");}var _e37,_e38,_e39;if(this.opt.shadows&&_e29){var sh=this.opt.shadows,_e3b=new dojo.Color([0,0,0,0.3]),_e3c=dojo.map(_e30,function(c){return {x:c.x+sh.dx,y:c.y+sh.dy};}),_e3e=dojo.clone(_e2a?_e2a:_e29);_e3e.color=_e3b;_e3e.width+=sh.dw?sh.dw:0;if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_e3c,this.opt.tension)).setStroke(_e3e).getStroke();}else{run.dyn.shadow=s.createPolyline(_e3c).setStroke(_e3e).getStroke();}}if(this.opt.markers){_e39=dojo.map(_e3c,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_e2c).setStroke(_e3e).setFill(_e3b);},this);}}if(this.opt.lines){if(_e2a){if(this.opt.tension){run.dyn.outline=s.createPath(_e33).setStroke(_e2a).getStroke();}else{run.dyn.outline=s.createPolyline(_e30).setStroke(_e2a).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_e33).setStroke(_e29).getStroke();}else{run.dyn.stroke=s.createPolyline(_e30).setStroke(_e29).getStroke();}}if(this.opt.markers){_e37=new Array(_e30.length);_e38=new Array(_e30.length);dojo.forEach(_e30,function(c,i){var path="M"+c.x+" "+c.y+" "+_e2c;if(_e2a){_e38[i]=s.createPath(path).setStroke(_e2a);}_e37[i]=s.createPath(path).setStroke(_e29).setFill(_e29.color);},this);if(_e2d){dojo.forEach(_e37,function(s,i){var o={element:"marker",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_e38[i]||null,shadow:_e39&&_e39[i]||null,cx:_e30[i].x,cy:_e30[i].y,x:i+1,y:run.data[i]};this._connectEvents(s,o);},this);}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedLines"]){dojo._hasResource["dojox.charting.plot2d.StackedLines"]=true;dojo.provide("dojox.charting.plot2d.StackedLines");dojo.declare("dojox.charting.plot2d.StackedLines",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.StackedAreas"]){dojo._hasResource["dojox.charting.plot2d.StackedAreas"]=true;dojo.provide("dojox.charting.plot2d.StackedAreas");dojo.declare("dojox.charting.plot2d.StackedAreas",dojox.charting.plot2d.Stacked,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});}if(!dojo._hasResource["dojox.charting.plot2d.Columns"]){dojo._hasResource["dojox.charting.plot2d.Columns"]=true;dojo.provide("dojox.charting.plot2d.Columns");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_e49=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{},constructor:function(_e4a,_e4b){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_e4b);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _e4d=dc.collectSimpleStats(this.series);_e4d.hmin-=0.5;_e4d.hmax+=0.5;this._calc(dim,_e4d);return this;},render:function(dim,_e4f){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_e49);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_e53,_e54,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),gap=this.opt.gap<this._hScaler.bounds.scale/3?this.opt.gap:0,_e5a=Math.max(0,this._vScaler.bounds.lower),_e5b=vt(_e5a),xoff=_e4f.l+this._hScaler.bounds.scale*(0.5-this._hScaler.bounds.lower)+gap,yoff=dim.height-_e4f.b-this._vScaler.bounds.scale*(_e5a-this._vScaler.bounds.lower),_e5e=this._hScaler.bounds.scale-2*gap,_e5f=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_e53=run.dyn.color=new dojo.Color(t.next("color"));}_e54=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_e53);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_e53);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_e65=vv-_e5b,h=Math.abs(_e65);if(_e5e>=1&&h>=1){var rect={x:_e4f.l+ht(j+0.5)+gap,y:dim.height-_e4f.b-(v>_e5a?vv:_e5b),width:_e5e,height:h},_e68=s.createRect(rect).setFill(fill).setStroke(_e54);run.dyn.fill=_e68.getFill();run.dyn.stroke=_e68.getStroke();if(_e5f){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_e68,x:j+0.5,y:v};this._connectEvents(_e68,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedColumns"]){dojo._hasResource["dojox.charting.plot2d.StackedColumns"]=true;dojo.provide("dojox.charting.plot2d.StackedColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_e6c=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(dim){var _e6e=dc.collectStackedStats(this.series);this._maxRunLength=_e6e.hmax;_e6e.hmin-=0.5;_e6e.hmax+=0.5;this._calc(dim,_e6e);return this;},render:function(dim,_e70){var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_e6c);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_e79,_e7a,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);gap=this.opt.gap<this._hScaler.bounds.scale/3?this.opt.gap:0,width=this._hScaler.bounds.scale-2*gap,events=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_e79=run.dyn.color=new dojo.Color(t.next("color"));}_e7a=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_e79);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_e79);for(var j=0;j<acc.length;++j){var v=acc[j],_e7f=vt(v);if(width>=1&&_e7f>=1){var _e80=s.createRect({x:_e70.l+ht(j+0.5)+gap,y:dim.height-_e70.b-vt(v),width:width,height:_e7f}).setFill(fill).setStroke(_e7a);run.dyn.fill=_e80.getFill();run.dyn.stroke=_e80.getStroke();if(events){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_e80,x:j+0.5,y:v};this._connectEvents(_e80,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]){dojo._hasResource["dojox.charting.plot2d.ClusteredColumns"]=true;dojo.provide("dojox.charting.plot2d.ClusteredColumns");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_e84=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredColumns",dojox.charting.plot2d.Columns,{render:function(dim,_e86){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_e84);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_e8a,_e8b,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),gap=this.opt.gap<this._hScaler.bounds.scale/3?this.opt.gap:0,_e91=(this._hScaler.bounds.scale-2*gap)/this.series.length,_e92=Math.max(0,this._vScaler.bounds.lower),_e93=vt(_e92),_e94=_e91,_e95=this.events();for(var i=0;i<this.series.length;++i){var run=this.series[i],_e98=_e91*i;if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_e8a=run.dyn.color=new dojo.Color(t.next("color"));}_e8b=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_e8a);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_e8a);for(var j=0;j<run.data.length;++j){var v=run.data[j],vv=vt(v),_e9c=vv-_e93,h=Math.abs(_e9c);if(_e94>=1&&h>=1){var _e9e=s.createRect({x:_e86.l+ht(j+0.5)+gap+_e98,y:dim.height-_e86.b-(v>_e92?vv:_e93),width:_e94,height:h}).setFill(fill).setStroke(_e8b);run.dyn.fill=_e9e.getFill();run.dyn.stroke=_e9e.getStroke();if(_e95){var o={element:"column",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_e9e,x:j+0.5,y:v};this._connectEvents(_e9e,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bars"]){dojo._hasResource["dojox.charting.plot2d.Bars"]=true;dojo.provide("dojox.charting.plot2d.Bars");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_ea3=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{},constructor:function(_ea4,_ea5){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_ea5);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){var _ea7=dc.collectSimpleStats(this.series),t;_ea7.hmin-=0.5;_ea7.hmax+=0.5;t=_ea7.hmin,_ea7.hmin=_ea7.vmin,_ea7.vmin=t;t=_ea7.hmax,_ea7.hmax=_ea7.vmax,_ea7.vmax=t;this._calc(dim,_ea7);return this;},render:function(dim,_eaa){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_ea3);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_eae,_eaf,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);gap=this.opt.gap<this._vScaler.bounds.scale/3?this.opt.gap:0,baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),height=this._vScaler.bounds.scale-2*gap,events=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_eae=run.dyn.color=new dojo.Color(t.next("color"));}_eaf=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_eae);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_eae);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_eb9=hv-baselineWidth,w=Math.abs(_eb9);if(w>=1&&height>=1){var _ebb=s.createRect({x:_eaa.l+(v<baseline?hv:baselineWidth),y:dim.height-_eaa.b-vt(j+1.5)+gap,width:w,height:height}).setFill(fill).setStroke(_eaf);run.dyn.fill=_ebb.getFill();run.dyn.stroke=_ebb.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_ebb,x:v,y:j+1.5};this._connectEvents(_ebb,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.StackedBars"]){dojo._hasResource["dojox.charting.plot2d.StackedBars"]=true;dojo.provide("dojox.charting.plot2d.StackedBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_ebf=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(dim){var _ec1=dc.collectStackedStats(this.series),t;this._maxRunLength=_ec1.hmax;_ec1.hmin-=0.5;_ec1.hmax+=0.5;t=_ec1.hmin,_ec1.hmin=_ec1.vmin,_ec1.vmin=t;t=_ec1.hmax,_ec1.hmax=_ec1.vmax,_ec1.vmax=t;this._calc(dim,_ec1);return this;},render:function(dim,_ec4){var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]+=v;}}this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_ebf);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_ecd,_ece,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);gap=this.opt.gap<this._vScaler.bounds.scale/3?this.opt.gap:0,height=this._vScaler.bounds.scale-2*gap,events=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_ecd=run.dyn.color=new dojo.Color(t.next("color"));}_ece=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_ecd);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_ecd);for(var j=0;j<acc.length;++j){var v=acc[j],_ed3=ht(v);if(_ed3>=1&&height>=1){var _ed4=s.createRect({x:_ec4.l,y:dim.height-_ec4.b-vt(j+1.5)+gap,width:_ed3,height:height}).setFill(fill).setStroke(_ece);run.dyn.fill=_ed4.getFill();run.dyn.stroke=_ed4.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_ed4,x:v,y:j+1.5};this._connectEvents(_ed4,o);}}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(isNaN(v)){v=0;}acc[j]-=v;}}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]){dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=true;dojo.provide("dojox.charting.plot2d.ClusteredBars");(function(){var df=dojox.lang.functional,dc=dojox.charting.plot2d.common,_ed8=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(dim,_eda){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_ed8);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_ede,_edf,fill,f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);gap=this.opt.gap<this._vScaler.bounds.scale/3?this.opt.gap:0,thickness=(this._vScaler.bounds.scale-2*gap)/this.series.length,baseline=Math.max(0,this._hScaler.bounds.lower),baselineWidth=ht(baseline),height=thickness,events=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_ee6=thickness*(this.series.length-i-1);if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();var s=run.group;if(!run.fill||!run.stroke){_ede=run.dyn.color=new dojo.Color(t.next("color"));}_edf=run.stroke?run.stroke:dc.augmentStroke(t.series.stroke,_ede);fill=run.fill?run.fill:dc.augmentFill(t.series.fill,_ede);for(var j=0;j<run.data.length;++j){var v=run.data[j],hv=ht(v),_eea=hv-baselineWidth,w=Math.abs(_eea);if(w>=1&&height>=1){var _eec=s.createRect({x:_eda.l+(v<baseline?hv:baselineWidth),y:dim.height-_eda.b-vt(j+1.5)+gap+_ee6,width:w,height:height}).setFill(fill).setStroke(_edf);run.dyn.fill=_eec.getFill();run.dyn.stroke=_eec.getStroke();if(events){var o={element:"bar",index:j,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:_eec,x:v,y:j+1.5};this._connectEvents(_eec,o);}}}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Grid"]){dojo._hasResource["dojox.charting.plot2d.Grid"]=true;dojo.provide("dojox.charting.plot2d.Grid");(function(){var du=dojox.lang.utils;dojo.declare("dojox.charting.plot2d.Grid",dojox.charting.Element,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none"},optionalParams:{},constructor:function(_eef,_ef0){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_ef0);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},calculateAxes:function(dim){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},getRequiredColors:function(){return 0;},render:function(dim,_ef5){this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis,_ef8=this._vAxis.getTicks(),_ef9=this._hAxis.getScaler(),_efa=this._vAxis.getScaler(),ht=_ef9.scaler.getTransformerFromModel(_ef9),vt=_efa.scaler.getTransformerFromModel(_efa);if(this.opt.hMinorLines){dojo.forEach(_ef8.minor,function(tick){var y=dim.height-_ef5.b-vt(tick.value);s.createLine({x1:_ef5.l,y1:y,x2:dim.width-_ef5.r,y2:y}).setStroke(ta.minorTick);});}if(this.opt.hMajorLines){dojo.forEach(_ef8.major,function(tick){var y=dim.height-_ef5.b-vt(tick.value);s.createLine({x1:_ef5.l,y1:y,x2:dim.width-_ef5.r,y2:y}).setStroke(ta.majorTick);});}_ef8=this._hAxis.getTicks();if(this.opt.vMinorLines){dojo.forEach(_ef8.minor,function(tick){var x=_ef5.l+ht(tick.value);s.createLine({x1:x,y1:_ef5.t,x2:x,y2:dim.height-_ef5.b}).setStroke(ta.minorTick);});}if(this.opt.vMajorLines){dojo.forEach(_ef8.major,function(tick){var x=_ef5.l+ht(tick.value);s.createLine({x1:x,y1:_ef5.t,x2:x,y2:dim.height-_ef5.b}).setStroke(ta.majorTick);});}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Pie"]){dojo._hasResource["dojox.charting.plot2d.Pie"]=true;dojo.provide("dojox.charting.plot2d.Pie");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,da=dojox.charting.axis2d.common,g=dojox.gfx;dojo.declare("dojox.charting.plot2d.Pie",dojox.charting.Element,{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true},optionalParams:{font:"",fontColor:"",radius:0},constructor:function(_f0a,_f0b){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_f0b);du.updateWithPattern(this.opt,_f0b,this.optionalParams);this.run=null;this.dyn=[];},clear:function(){this.dirty=true;this.dyn=[];return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},calculateAxes:function(dim){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},plotEvent:function(o){},connect:function(_f10,_f11){this.dirty=true;return dojo.connect(this,"plotEvent",_f10,_f11);},events:function(){var ls=this.plotEvent._listeners;if(!ls||!ls.length){return false;}for(var i in ls){if(!(i in Array.prototype)){return true;}}return false;},_connectEvents:function(_f14,o){_f14.connect("onmouseover",this,function(e){o.type="onmouseover";o.event=e;this.plotEvent(o);});_f14.connect("onmouseout",this,function(e){o.type="onmouseout";o.event=e;this.plotEvent(o);});_f14.connect("onclick",this,function(e){o.type="onclick";o.event=e;this.plotEvent(o);});},render:function(dim,_f1a){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,_f1c,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_f1a.l-_f1a.r)/2,ry=(dim.height-_f1a.t-_f1a.b)/2,r=Math.min(rx,ry),_f21="font" in this.opt?this.opt.font:t.axis.font,size=_f21?g.normalizedLength(g.splitFontString(_f21).size):0,_f23="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_f24=0,step,_f26,_f27,_f28,_f29,_f2a,run=this.run.data,_f2c=this.events();if(typeof run[0]=="number"){_f26=df.map(run,"Math.max(x, 0)");if(df.every(_f26,"<= 0")){return this;}_f27=df.map(_f26,"/this",df.foldl(_f26,"+",0));if(this.opt.labels){_f28=dojo.map(_f27,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_f26=df.map(run,"Math.max(x.y, 0)");if(df.every(_f26,"<= 0")){return this;}_f27=df.map(_f26,"/this",df.foldl(_f26,"+",0));if(this.opt.labels){_f28=dojo.map(_f27,function(x,i){if(x<=0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}if(this.opt.labels){_f29=df.foldl1(df.map(_f28,function(_f31){return dojox.gfx._base._getTextBox(_f31,{font:_f21}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_f29,ry-size)+this.opt.labelOffset;}_f2a=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_f2a=r-this.opt.labelOffset;}var _f32={cx:_f1a.l+rx,cy:_f1a.t+ry,r:r};this.dyn=[];dojo.some(_f27,function(_f33,i){if(_f33<=0){return false;}var v=run[i];if(_f33>=1){var _f36,fill,_f38;if(typeof v=="object"){_f36="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_f36);_f38="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_f36);}else{_f36=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_f36);_f38=dc.augmentStroke(t.series.stroke,_f36);}var _f39=s.createCircle(_f32).setFill(fill).setStroke(_f38);this.dyn.push({color:_f36,fill:fill,stroke:_f38});if(_f2c){var o={element:"slice",index:i,run:this.run,plot:this,shape:_f39,x:i,y:typeof v=="number"?v:v.y,cx:_f32.cx,cy:_f32.cy,cr:r};this._connectEvents(_f39,o);}return true;}var end=_f24+_f33*2*Math.PI;if(i+1==_f27.length){end=2*Math.PI;}var step=end-_f24,x1=_f32.cx+r*Math.cos(_f24),y1=_f32.cy+r*Math.sin(_f24),x2=_f32.cx+r*Math.cos(end),y2=_f32.cy+r*Math.sin(end);var _f36,fill,_f38;if(typeof v=="object"){_f36="color" in v?v.color:new dojo.Color(t.next("color"));fill="fill" in v?v.fill:dc.augmentFill(t.series.fill,_f36);_f38="stroke" in v?v.stroke:dc.augmentStroke(t.series.stroke,_f36);}else{_f36=new dojo.Color(t.next("color"));fill=dc.augmentFill(t.series.fill,_f36);_f38=dc.augmentStroke(t.series.stroke,_f36);}var _f39=s.createPath({}).moveTo(_f32.cx,_f32.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_f32.cx,_f32.cy).closePath().setFill(fill).setStroke(_f38);this.dyn.push({color:_f36,fill:fill,stroke:_f38});if(_f2c){var o={element:"slice",index:i,run:this.run,plot:this,shape:_f39,x:i,y:typeof v=="number"?v:v.y,cx:_f32.cx,cy:_f32.cy,cr:r};this._connectEvents(_f39,o);}_f24=end;return false;},this);if(this.opt.labels){_f24=0;dojo.some(_f27,function(_f41,i){if(_f41<=0){return false;}if(_f41>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,_f32.cx,_f32.cy+size/2,"middle",_f28[i],_f21,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_f23);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_f24+_f41*2*Math.PI,v=run[i];if(i+1==_f27.length){end=2*Math.PI;}var _f46=(_f24+end)/2,x=_f32.cx+_f2a*Math.cos(_f46),y=_f32.cy+_f2a*Math.sin(_f46)+size/2;var elem=da.createText[this.opt.htmlLabels&&dojox.gfx.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_f28[i],_f21,(typeof v=="object"&&"fontColor" in v)?v.fontColor:_f23);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_f24=end;return false;},this);}return this;},_getLabel:function(_f49){return this.opt.fixed?_f49.toFixed(this.opt.precision):_f49.toString();}});})();}if(!dojo._hasResource["dojox.charting.plot2d.Bubble"]){dojo._hasResource["dojox.charting.plot2d.Bubble"]=true;dojo.provide("dojox.charting.plot2d.Bubble");(function(){var df=dojox.lang.functional,du=dojox.lang.utils,dc=dojox.charting.plot2d.common,_f4d=df.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bubble",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y"},optionalParams:{},constructor:function(_f4e,_f4f){this.opt=dojo.clone(this.defaultParams);du.updateWithObject(this.opt,_f4f);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;},calculateAxes:function(dim){this._calc(dim,dc.collectSimpleStats(this.series));return this;},render:function(dim,_f52){this.dirty=this.isDirty();if(this.dirty){dojo.forEach(this.series,_f4d);this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_f56,_f57,_f58,_f59,_f5a,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_f5d=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;continue;}if(typeof run.data[0]=="number"){console.warn("dojox.charting.plot2d.Bubble: the data in the following series cannot be rendered as a bubble chart; ",run);continue;}var s=run.group,_f60=dojo.map(run.data,function(v,i){return {x:ht(v.x)+_f52.l,y:dim.height-_f52.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)};},this);if(run.fill){_f58=run.fill;}else{if(run.stroke){_f58=run.stroke;}else{_f58=run.dyn.color=new dojo.Color(t.next("color"));}}run.dyn.fill=_f58;_f56=run.dyn.stroke=run.stroke?dc.makeStroke(run.stroke):dc.augmentStroke(t.series.stroke,_f58);var _f63=null,_f64=null,_f65=null;if(this.opt.shadows&&_f56){var sh=this.opt.shadows,_f5a=new dojo.Color([0,0,0,0.2]),_f59=dojo.clone(_f57?_f57:_f56);_f59.color=_f5a;_f59.width+=sh.dw?sh.dw:0;run.dyn.shadow=_f59;shadowMarkers=dojo.map(_f60,function(item){var sh=this.opt.shadows;return s.createCircle({cx:item.x+sh.dx,cy:item.y+sh.dy,r:item.radius}).setStroke(_f59).setFill(_f5a);},this);}if(run.outline||t.series.outline){_f57=dc.makeStroke(run.outline?run.outline:t.series.outline);_f57.width=2*_f57.width+_f56.width;run.dyn.outline=_f57;_f64=dojo.map(_f60,function(item){s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_f57);},this);}_f63=dojo.map(_f60,function(item){return s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_f56).setFill(_f58);},this);if(_f5d){dojo.forEach(_f63,function(s,i){var o={element:"circle",index:i,run:run,plot:this,hAxis:this.hAxis||null,vAxis:this.vAxis||null,shape:s,outline:_f64&&_f64[i]||null,shadow:_f65&&_f65[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_f60[i].x,cy:_f60[i].y,cr:_f60[i].radius};this._connectEvents(s,o);},this);}run.dirty=false;}this.dirty=false;return this;}});})();}if(!dojo._hasResource["dojox.charting.Chart2D"]){dojo._hasResource["dojox.charting.Chart2D"]=true;dojo.provide("dojox.charting.Chart2D");(function(){var df=dojox.lang.functional,dc=dojox.charting,_f70=df.lambda("item.clear()"),_f71=df.lambda("item.purgeGroup()"),_f72=df.lambda("item.destroy()"),_f73=df.lambda("item.dirty = false"),_f74=df.lambda("item.dirty = true");dojo.declare("dojox.charting.Chart2D",null,{constructor:function(node,_f76){if(!_f76){_f76={};}this.margins=_f76.margins?_f76.margins:{l:10,t:10,r:10,b:10};this.stroke=_f76.stroke;this.fill=_f76.fill;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this.node=dojo.byId(node);var box=dojo.marginBox(node);this.surface=dojox.gfx.createSurface(this.node,box.w,box.h);},destroy:function(){dojo.forEach(this.series,_f72);dojo.forEach(this.stack,_f72);df.forIn(this.axes,_f72);},getCoords:function(){if(!this.coords){this.coords=dojo.coords(this.node,true);}return this.coords;},setTheme:function(_f78){this.theme=_f78._clone();this.dirty=true;return this;},addAxis:function(name,_f7a){var axis;if(!_f7a||!("type" in _f7a)){axis=new dc.axis2d.Default(this,_f7a);}else{axis=typeof _f7a.type=="string"?new dc.axis2d[_f7a.type](this,_f7a):new _f7a.type(this,_f7a);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},addPlot:function(name,_f7e){var plot;if(!_f7e||!("type" in _f7e)){plot=new dc.plot2d.Default(this,_f7e);}else{plot=typeof _f7e.type=="string"?new dc.plot2d[_f7e.type](this,_f7e):new _f7e.type(this,_f7e);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},addSeries:function(name,data,_f82){var run=new dc.Series(this,data,_f82);if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}run.name=name;this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]],plot=this.stack[this.plots[run.plot]],axis;run.data=data;run.dirty=true;if(plot.hAxis){axis=this.axes[plot.hAxis];if(axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p.hAxis&&p.hAxis==plot.hAxis){p.dirty=true;}});}}else{plot.dirty=true;}if(plot.vAxis){axis=this.axes[plot.vAxis];if(axis.dependOnData()){axis.dirty=true;dojo.forEach(this.stack,function(p){if(p.vAxis&&p.vAxis==plot.vAxis){p.dirty=true;}});}}else{plot.dirty=true;}}return this;},resize:function(_f8b,_f8c){var box;switch(arguments.length){case 0:box=dojo.marginBox(this.node);break;case 1:box=_f8b;break;default:box={w:_f8b,h:_f8c};break;}dojo.marginBox(this.node,box);this.surface.setDimensions(box.w,box.h);this.dirty=true;this.coords=null;return this.render();},getGeometry:function(){var ret={};df.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_f91,_f92){var axis=this.axes[name];if(axis){axis.setWindow(_f91,_f92);}return this;},setWindow:function(sx,sy,dx,dy){if(!("plotArea" in this)){this.calculateGeometry();}df.forIn(this.axes,function(axis){var _f99,_f9a,_f9b=axis.getScaler().bounds,s=_f9b.span/(_f9b.upper-_f9b.lower);if(axis.vertical){_f99=sy;_f9a=dy/s/_f99;}else{_f99=sx;_f9a=dx/s/_f99;}axis.setWindow(_f99,_f9a);});return this;},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}dojo.forEach(this.stack,function(plot){if(plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty)){plot.calculateAxes(this.plotArea);}},this);return this;},fullGeometry:function(){this._makeDirty();dojo.forEach(this.stack,_f70);if(!this.theme){this.setTheme(new dojox.charting.Theme(dojox.charting._def));}dojo.forEach(this.series,function(run){if(!(run.plot in this.plots)){var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);dojo.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=dojox.gfx.normalizedLength(dim.width);dim.height=dojox.gfx.normalizedLength(dim.height);df.forIn(this.axes,_f70);dojo.forEach(this.stack,function(plot){plot.calculateAxes(dim);});var _fa3=this.offsets={l:0,r:0,t:0,b:0};df.forIn(this.axes,function(axis){df.forIn(axis.getOffsets(),function(o,i){_fa3[i]+=o;});});df.forIn(this.margins,function(o,i){_fa3[i]+=o;});this.plotArea={width:dim.width-_fa3.l-_fa3.r,height:dim.height-_fa3.t-_fa3.b};df.forIn(this.axes,_f70);dojo.forEach(this.stack,function(plot){plot.calculateAxes(this.plotArea);},this);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();df.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);df.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _fac=this.offsets,dim=this.dim;var _fae=df.foldl(this.stack,"z + plot.getRequiredColors()",0);this.theme.defineColors({num:_fae,cache:false});dojo.forEach(this.series,_f71);df.forIn(this.axes,_f71);dojo.forEach(this.stack,_f71);this.surface.clear();var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_fb1=t.plotarea&&t.plotarea.stroke;if(fill){this.surface.createRect({x:_fac.l,y:_fac.t,width:dim.width-_fac.l-_fac.r,height:dim.height-_fac.t-_fac.b}).setFill(fill);}if(_fb1){this.surface.createRect({x:_fac.l,y:_fac.t,width:dim.width-_fac.l-_fac.r-1,height:dim.height-_fac.t-_fac.b-1}).setStroke(_fb1);}df.foldr(this.stack,function(z,plot){return plot.render(dim,_fac),0;},0);fill=this.fill?this.fill:(t.chart&&t.chart.fill);_fb1=this.stroke?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new dojo.Color(dojo.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new dojo.Color(dojo.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(_fac.l){this.surface.createRect({width:_fac.l,height:dim.height+1}).setFill(fill);}if(_fac.r){this.surface.createRect({x:dim.width-_fac.r,width:_fac.r+1,height:dim.height+1}).setFill(fill);}if(_fac.t){this.surface.createRect({width:dim.width+1,height:_fac.t}).setFill(fill);}if(_fac.b){this.surface.createRect({y:dim.height-_fac.b,width:dim.width+1,height:_fac.b+2}).setFill(fill);}}if(_fb1){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_fb1);}df.forIn(this.axes,function(axis){axis.render(dim,_fac);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},connectToPlot:function(name,_fb7,_fb8){return name in this.plots?this.stack[this.plots[name]].connect(_fb7,_fb8):null;},_makeClean:function(){dojo.forEach(this.axes,_f73);dojo.forEach(this.stack,_f73);dojo.forEach(this.series,_f73);this.dirty=false;},_makeDirty:function(){dojo.forEach(this.axes,_f74);dojo.forEach(this.stack,_f74);dojo.forEach(this.series,_f74);this.dirty=true;}});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.red"]){dojo._hasResource["dojox.charting.themes.PlotKit.red"]=true;dojo.provide("dojox.charting.themes.PlotKit.red");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.red=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#f5e6e6"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:1,color:"#fff"},stroke:{width:2,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.red.defineColors({hue:1,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.blue"]){dojo._hasResource["dojox.charting.themes.PlotKit.blue"]=true;dojo.provide("dojox.charting.themes.PlotKit.blue");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.blue=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#e7eef6"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:0.1,color:"#fff"},stroke:{width:1.5,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.blue.defineColors({hue:217,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.cyan"]){dojo._hasResource["dojox.charting.themes.PlotKit.cyan"]=true;dojo.provide("dojox.charting.themes.PlotKit.cyan");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.cyan=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#e6f1f5"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:1,color:"#fff"},stroke:{width:2,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.cyan.defineColors({hue:194,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.green"]){dojo._hasResource["dojox.charting.themes.PlotKit.green"]=true;dojo.provide("dojox.charting.themes.PlotKit.green");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.green=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#eff5e6"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:1,color:"#fff"},stroke:{width:2,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.green.defineColors({hue:82,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.orange"]){dojo._hasResource["dojox.charting.themes.PlotKit.orange"]=true;dojo.provide("dojox.charting.themes.PlotKit.orange");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.orange=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#f5eee6"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:0.15,color:"#fff"},stroke:{width:1.5,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.orange.defineColors({hue:31,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.PlotKit.purple"]){dojo._hasResource["dojox.charting.themes.PlotKit.purple"]=true;dojo.provide("dojox.charting.themes.PlotKit.purple");(function(){var dxc=dojox.charting;dxc.themes.PlotKit.purple=new dxc.Theme({chart:{stroke:null,fill:"white"},plotarea:{stroke:null,fill:"#eee6f5"},axis:{stroke:{color:"#fff",width:2},line:{color:"#fff",width:1},majorTick:{color:"#fff",width:2,length:12},minorTick:{color:"#fff",width:1,length:8},font:"normal normal normal 8pt Tahoma",fontColor:"#999"},series:{outline:{width:1,color:"#fff"},stroke:{width:2,color:"#666"},fill:new dojo.Color([102,102,102,0.8]),font:"normal normal normal 7pt Tahoma",fontColor:"#000"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[]});dxc.themes.PlotKit.purple.defineColors({hue:271,saturation:60,low:40,high:88});})();}if(!dojo._hasResource["dojox.charting.themes.ET.greys"]){dojo._hasResource["dojox.charting.themes.ET.greys"]=true;dojo.provide("dojox.charting.themes.ET.greys");dojo.deprecated("dojox.charting.themes.ET.greys","1.3");(function(){var dxc=dojox.charting;dxc.themes.ET.greys=new dxc.Theme({antiAlias:false,chart:{stroke:null,fill:"inherit"},plotarea:{stroke:null,fill:"transparent"},axis:{stroke:{width:0},line:{width:0},majorTick:{color:"#666666",width:1,length:5},minorTick:{color:"black",width:0.5,length:2},font:"normal normal normal 8pt Tahoma",fontColor:"#999999"},series:{outline:{width:0,color:"black"},stroke:{width:1,color:"black"},fill:dojo.colorFromHex("#3b444b"),font:"normal normal normal 7pt Tahoma",fontColor:"#717171"},marker:{stroke:{width:1},fill:"#333",font:"normal normal normal 7pt Tahoma",fontColor:"#000"},colors:[dojo.colorFromHex("#8a8c8f"),dojo.colorFromHex("#4b4b4b"),dojo.colorFromHex("#3b444b"),dojo.colorFromHex("#2e2d30"),dojo.colorFromHex("#000000")]});})();}if(!dojo._hasResource["dojox.charting.widget.Legend"]){dojo._hasResource["dojox.charting.widget.Legend"]=true;dojo.provide("dojox.charting.widget.Legend");dojo.declare("dojox.charting.widget.Legend",[dijit._Widget,dijit._Templated],{chartRef:"",horizontal:true,templateString:"<table dojoAttachPoint='legendNode' class='dojoxLegendNode'><tbody dojoAttachPoint='legendBody'></tbody></table>",legendNode:null,legendBody:null,postCreate:function(){var s,df=dojox.lang.functional;if(!this.chart){if(!this.chartRef){return;}this.chart=dijit.byId(this.chartRef);if(!this.chart){var node=dojo.byId(this.chartRef);if(node){this.chart=dijit.byNode(node);}else{console.log("Could not find chart instance with id: "+this.chartRef);return;}}s=this.chart.chart.series;}else{s=this.chart.series;}if(this.horizontal){dojo.addClass(this.legendNode,"dojoxLegendHorizontal");this._tr=dojo.doc.createElement("tr");this.legendBody.appendChild(this._tr);}if(s.length==1&&s[0].chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie"){var t=s[0].chart.stack[0];if(typeof s[0].data[0]=="number"){var _fc4=df.map(s[0].data,"/ this",df.foldl1(s[0].data,"+"));dojo.forEach(_fc4,function(x,i){this._addLabel(t.dyn[i],t._getLabel(x*100)+"%");},this);}else{dojo.forEach(s[0].data,function(x,i){this._addLabel(t.dyn[i],x.legend||x.text||x.y);},this);}}else{dojo.forEach(s,function(x){this._addLabel(x.dyn,x.legend||x.name);},this);}},_addLabel:function(dyn,_fcb){var icon=dojo.doc.createElement("td"),text=dojo.doc.createElement("td"),div=dojo.doc.createElement("div");dojo.addClass(icon,"dojoxLegendIcon");dojo.addClass(text,"dojoxLegendText");div.style.width="20px";div.style.height="20px";icon.appendChild(div);if(this._tr){this._tr.appendChild(icon);this._tr.appendChild(text);}else{var tr=dojo.doc.createElement("tr");this.legendBody.appendChild(tr);tr.appendChild(icon);tr.appendChild(text);}this._makeIcon(div,dyn);text.innerHTML=String(_fcb);},_makeIcon:function(div,dyn){var mb={h:14,w:14};var _fd3=dojox.gfx.createSurface(div,mb.w,mb.h);if(dyn.fill){_fd3.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setFill(dyn.fill).setStroke(dyn.stroke);}else{var line={x1:0,y1:mb.h/2,x2:mb.w,y2:mb.h/2};if(dyn.stroke){_fd3.createLine(line).setStroke(dyn.stroke);}if(dyn.marker){var c={x:mb.w/2,y:mb.h/2};if(dyn.stroke){_fd3.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.stroke.color).setStroke(dyn.stroke);}else{_fd3.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.color).setStroke(dyn.color);}}}}});}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.gfx.fx"]){dojo._hasResource["dojox.gfx.fx"]=true;dojo.provide("dojox.gfx.fx");(function(){var d=dojo,g=dojox.gfx,m=g.matrix;var _1004=function(start,end){this.start=start,this.end=end;};d.extend(_1004,{getValue:function(r){return (this.end-this.start)*r+this.start;}});var _1008=function(start,end,unit){this.start=start,this.end=end;this.unit=unit;};d.extend(_1008,{getValue:function(r){return (this.end-this.start)*r+this.start+this.unit;}});var _100d=function(start,end){this.start=start,this.end=end;this.temp=new dojo.Color();};d.extend(_100d,{getValue:function(r){return d.blendColors(this.start,this.end,r,this.temp);}});var _1011=function(_1012){this.values=_1012;this.length=_1012.length;};d.extend(_1011,{getValue:function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];}});var _1014=function(_1015,def){this.values=_1015;this.def=def?def:{};};d.extend(_1014,{getValue:function(r){var ret=dojo.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;}});var _101a=function(stack,_101c){this.stack=stack;this.original=_101c;};d.extend(_101a,{getValue:function(r){var ret=[];dojo.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=dojo.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_1024=f.apply(m,val);if(_1024 instanceof m.Matrix2D){ret.push(_1024);}},this);return ret;}});var _1025=new d.Color(0,0,0,0);var _1026=function(prop,obj,name,def){if(prop.values){return new _1011(prop.values);}var value,start,end;if(prop.start){start=g.normalizeColor(prop.start);}else{start=value=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!value){value=obj?(name?obj[name]:obj):def;}end=value;}return new _100d(start,end);};var _102e=function(prop,obj,name,def){if(prop.values){return new _1011(prop.values);}var value,start,end;if(prop.start){start=prop.start;}else{start=value=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof value!="number"){value=obj?obj[name]:def;}end=value;}return new _1004(start,end);};g.fx.animateStroke=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),shape=args.shape,_1039;d.connect(anim,"beforeBegin",anim,function(){_1039=shape.getStroke();var prop=args.color,_103b={},value,start,end;if(prop){_103b.color=_1026(prop,_1039,"color",_1025);}prop=args.style;if(prop&&prop.values){_103b.style=new _1011(prop.values);}prop=args.width;if(prop){_103b.width=_102e(prop,_1039,"width",1);}prop=args.cap;if(prop&&prop.values){_103b.cap=new _1011(prop.values);}prop=args.join;if(prop){if(prop.values){_103b.join=new _1011(prop.values);}else{start=prop.start?prop.start:(_1039&&_1039.join||0);end=prop.end?prop.end:(_1039&&_1039.join||0);if(typeof start=="number"&&typeof end=="number"){_103b.join=new _1004(start,end);}}}this.curve=new _1014(_103b,_1039);});d.connect(anim,"onAnimate",shape,"setStroke");return anim;};g.fx.animateFill=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),shape=args.shape,fill;d.connect(anim,"beforeBegin",anim,function(){fill=shape.getFill();var prop=args.color,_1044={};if(prop){this.curve=_1026(prop,fill,"",_1025);}});d.connect(anim,"onAnimate",shape,"setFill");return anim;};g.fx.animateFont=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),shape=args.shape,font;d.connect(anim,"beforeBegin",anim,function(){font=shape.getFont();var prop=args.style,_104a={},value,start,end;if(prop&&prop.values){_104a.style=new _1011(prop.values);}prop=args.variant;if(prop&&prop.values){_104a.variant=new _1011(prop.values);}prop=args.weight;if(prop&&prop.values){_104a.weight=new _1011(prop.values);}prop=args.family;if(prop&&prop.values){_104a.family=new _1011(prop.values);}prop=args.size;if(prop&&prop.unit){start=parseFloat(prop.start?prop.start:(shape.font&&shape.font.size||"0"));end=parseFloat(prop.end?prop.end:(shape.font&&shape.font.size||"0"));_104a.size=new _1008(start,end,prop.unit);}this.curve=new _1014(_104a,font);});d.connect(anim,"onAnimate",shape,"setFont");return anim;};g.fx.animateTransform=function(args){if(!args.easing){args.easing=d._defaultEasing;}var anim=new d._Animation(args),shape=args.shape,_1051;d.connect(anim,"beforeBegin",anim,function(){_1051=shape.getTransform();this.curve=new _101a(args.transform,_1051);});d.connect(anim,"onAnimate",shape,"setTransform");return anim;};})();}if(!dojo._hasResource["dojox.charting.action2d.Base"]){dojo._hasResource["dojox.charting.action2d.Base"]=true;dojo.provide("dojox.charting.action2d.Base");(function(){var _1052=400,_1053=dojo.fx.easing.backOut,dfo=dojox.lang.functional.object;dojo.declare("dojox.charting.action2d.Base",null,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(chart,plot,_1057){this.chart=chart;this.plot=plot?plot:"default";this.anim={};if(!_1057){_1057={};}this.duration=_1057.duration?_1057.duration:_1052;this.easing=_1057.easing?_1057.easing:_1053;},connect:function(){this.handle=this.chart.connectToPlot(this.plot,this,"process");},disconnect:function(){if(this.handle){dojo.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){if(this.handle){this.disconnect();}dfo.forIn(this.anim,function(o){dfo.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});})();}if(!dojo._hasResource["dojox.lang.functional.scan"]){dojo._hasResource["dojox.lang.functional.scan"]=true;dojo.provide("dojox.lang.functional.scan");(function(){var d=dojo,df=dojox.lang.functional,empty={};d.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n;if(d.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(var i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(var i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(var i in a){if(i in empty){continue;}t.push(z=f.call(o,z,a[i],i,a));}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,z;if(d.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(var i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{var first=true;for(var i in a){if(i in empty){continue;}if(first){t=[z=a[i]];first=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n+1);t[n]=z;for(var i=n;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1];t[n-1]=z;for(var i=n-1;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});})();}if(!dojo._hasResource["dojox.charting.action2d.Tooltip"]){dojo._hasResource["dojox.charting.action2d.Tooltip"]=true;dojo.provide("dojox.charting.action2d.Tooltip");(function(){var _107a=function(o){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t=="object"&&t.tooltip){return t.tooltip;}return o.element=="bar"?o.x:o.y;};var df=dojox.lang.functional,pi4=Math.PI/4,pi2=Math.PI/2;dojo.declare("dojox.charting.action2d.Tooltip",dojox.charting.action2d.Base,{defaultParams:{text:_107a},optionalParams:{},constructor:function(chart,plot,_1082){this.text=_1082&&_1082.text?_1082.text:_107a;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}if(o.type=="onmouseout"){dijit.hideTooltip(this.aroundRect);this.aroundRect=null;return;}var _1084={type:"rect"},_1085=["after","before"];switch(o.element){case "marker":_1084.x=o.cx;_1084.y=o.cy;_1084.width=_1084.height=1;break;case "circle":_1084.x=o.cx-o.cr;_1084.y=o.cy-o.cr;_1084.width=_1084.height=2*o.cr;break;case "column":_1085=["above","below"];case "bar":_1084=dojo.clone(o.shape.getShape());break;default:if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var angle=(this.angles[o.index]+this.angles[o.index+1])/2;_1084.x=o.cx+o.cr*Math.cos(angle);_1084.y=o.cy+o.cr*Math.sin(angle);_1084.width=_1084.height=1;if(angle<pi4){}else{if(angle<pi2+pi4){_1085=["below","above"];}else{if(angle<Math.PI+pi4){_1085=["before","after"];}else{if(angle<2*Math.PI-pi4){_1085=["above","below"];}}}}break;}var lt=dojo.coords(this.chart.node,true);_1084.x+=lt.x;_1084.y+=lt.y;_1084.x=Math.round(_1084.x);_1084.y=Math.round(_1084.y);_1084.width=Math.ceil(_1084.width);_1084.height=Math.ceil(_1084.height);this.aroundRect=_1084;dijit.showTooltip(this.text(o),this.aroundRect,_1085);}});})();}if(!dojo._hasResource["dojox.charting.action2d.Magnify"]){dojo._hasResource["dojox.charting.action2d.Magnify"]=true;dojo.provide("dojox.charting.action2d.Magnify");(function(){var _1088=2,m=dojox.gfx.matrix,gf=dojox.gfx.fx;dojo.declare("dojox.charting.action2d.Magnify",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut,scale:_1088},optionalParams:{},constructor:function(chart,plot,_108d){this.scale=_108d&&typeof _108d.scale=="number"?_108d.scale:_1088;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}var _108f=o.run.name,index=o.index,_1091=[],anim,init,scale;if(_108f in this.anim){anim=this.anim[_108f][index];}else{this.anim[_108f]={};}if(anim){anim.action.stop(true);}else{this.anim[_108f][index]=anim={};}if(o.type=="onmouseover"){init=m.identity;scale=this.scale;}else{init=m.scaleAt(this.scale,o.cx,o.cy);scale=1/this.scale;}var _1095={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[scale,o.cx,o.cy]},init]};if(o.shape){_1091.push(gf.animateTransform(_1095));}if(o.oultine){_1095.shape=o.outline;_1091.push(gf.animateTransform(_1095));}if(o.shadow){_1095.shape=o.shadow;_1091.push(gf.animateTransform(_1095));}if(!_1091.length){delete this.anim[_108f][index];return;}anim.action=dojo.fx.combine(_1091);if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_108f]){delete this.anim[_108f][index];}});}anim.action.play();}});})();}if(!dojo._hasResource["dojox.charting.action2d.Highlight"]){dojo._hasResource["dojox.charting.action2d.Highlight"]=true;dojo.provide("dojox.charting.action2d.Highlight");(function(){var _1096=100,_1097=75,_1098=50,c=dojox.color,cc=function(color){return function(){return color;};},hl=function(color){var a=new c.Color(color),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_1096;if(x.l<_1098){x.l=_1097;}else{if(x.l>_1097){x.l=_1098;}else{x.l=x.l-_1098>_1097-x.l?_1098:_1097;}}}return c.fromHsl(x);};dojo.declare("dojox.charting.action2d.Highlight",dojox.charting.action2d.Base,{defaultParams:{duration:400,easing:dojo.fx.easing.backOut},optionalParams:{highlight:"red"},constructor:function(chart,plot,_10a2){var a=_10a2&&_10a2.highlight;this.colorFun=a?(dojo.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _10a5=o.run.name,index=o.index,anim,_10a8,_10a9;if(_10a5 in this.anim){anim=this.anim[_10a5][index];}else{this.anim[_10a5]={};}if(anim){anim.action.stop(true);}else{var color=o.shape.getFill();if(!color||!(color instanceof dojo.Color)){return;}this.anim[_10a5][index]=anim={start:color,end:this.colorFun(color)};}var start=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=start;start=end;end=t;}anim.action=dojox.gfx.fx.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:start,end:end}});if(o.type=="onmouseout"){dojo.connect(anim.action,"onEnd",this,function(){if(this.anim[_10a5]){delete this.anim[_10a5][index];}});}anim.action.play();}});})();}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,templateString:"<div class=\"dijitProgressBar dijitProgressBarEmpty\"\n\t><div waiRole=\"progressbar\" tabindex=\"0\" dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"label\" class=\"dijitProgressBarLabel\" id=\"${id}_label\">&nbsp;</div\n\t><img dojoAttachPoint=\"inteterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\"\n\t></img\n></div>\n",_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){this.inherited(arguments);this.inteterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath);this.update();},update:function(_10ae){dojo.mixin(this,_10ae||{});var tip=this.internalProgress;var _10b0=1,_10b1;if(this.indeterminate){_10b1="addClass";dijit.removeWaiState(tip,"valuenow");dijit.removeWaiState(tip,"valuemin");dijit.removeWaiState(tip,"valuemax");}else{_10b1="removeClass";if(String(this.progress).indexOf("%")!=-1){_10b0=Math.min(parseFloat(this.progress)/100,1);this.progress=_10b0*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_10b0=this.progress/this.maximum;}var text=this.report(_10b0);this.label.firstChild.nodeValue=text;dijit.setWaiState(tip,"describedby",this.label.id);dijit.setWaiState(tip,"valuenow",this.progress);dijit.setWaiState(tip,"valuemin",0);dijit.setWaiState(tip,"valuemax",this.maximum);}dojo[_10b1](this.domNode,"dijitProgressBarIndeterminate");tip.style.width=(_10b0*100)+"%";this.onChange();},report:function(_10b3){return dojo.number.format(_10b3,{type:"percent",places:this.places,locale:this.lang});},onChange:function(){}});}dojo.i18n._preloadLocalizations("dojo.nls.irondata_dojo",["he","nl","tr","no","ko","el","en","en-gb","ROOT","zh-cn","hu","es","fi-fi","pt-br","ca","fi","he-il","xx","ru","it","fr","cs","de-de","fr-fr","it-it","es-es","ja","sk","da","sl","pl","de","sv","pt","pt-pt","nl-nl","zh-tw","ko-kr","ar","en-us","zh","th","ja-jp"]);
